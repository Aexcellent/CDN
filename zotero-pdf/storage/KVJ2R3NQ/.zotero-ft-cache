中 图分类号 ：
ＵＤＣ ：

Ｕ ２ ９４． ３

密级 ： 本校编号 ：

公开
 
 

澍 州 交 遂 乂 ＃  
工 程 硕 士 学 位 论 文  

论题 目 ：

“ 实 货 制 ” 下 铁路 集 装 箱
 
空 箱 调运优化研究
 

研究 生姓名 ：

刘 妍妍

学号 ：

０ ６ １ ５ ０ １ １

学校指导教师姓名 ： 企业指导教师姓名 ： 申 请学位工程领域名 称 ：

杨 延梅

职称 ：

教 授  

杜晓峰

职 称 ： 高 级 工 程 师

交通运输 工 程
 

论文提交 日 期：

年 ２ ０ １ ８

４月

＾

论文答辩 日 期

年 ２ ０ １ ８

６月

：

：

 

独 创 性 声 明
本人 声 明 所 呈交 的 学位 论 文是 本 人 在 导 师 指 导 下 进 行 的 研 宄 工 作 和 取 得 的 研   宄 成果 ， 除 了 文中 特别 加 以 标 注 和致 谢 之 处外 ， 论 文 中 不 包含 其他 人 已 经 发表或   撰 写过 的 研 宄 成果 ， 也 不包含 获 得 兰 州 交通大学 或其 他 教 育 机构 的 学 位 或证 书   而 使用 过 的材 料 。 与 我 一 同 工 作 的 同 志 对本 研 宄 所 做 的任 何贡 献均 已 在论 文 中 作   了 明 确 的 说 明 并 表 示 了 谢 意 。  

学位论文 作 者签名 ：

签字 日 期

年

（ 月＞ 曰  

丨

学 位论 文 版 权 使 用 授权 书  
本 学 位 论 文 作 者 完 全 了 解 兰 州 交通 大学 有 关保 留 、 使 用 学 位 论 文 的 规 定 。   特 授权 兰 州 夺通 大学 可 以 将学位 论 文 的 全部 或 部 分 内 容 编 入有 关 数 据库 进 行 检   索 ， 并 采 用 影 印 、 缩 印 或 扫 描 等 复制 手 段 保 存 、 汇 编 以 供 查 阅 和 借 阅 。 同 意 学 校   向 国 家有 关 部 门 或机 构 送 交论 文 的 复 印 件 和 磁盘 。  
（ 保 密 的 学 位 论 文 在解 密 后 适 用 本 授 权 说 明 ）

  学位论 文 作者 签 名 ； 云 〇

Ｍ

师 名 导

签

：

签字 日 期 ；

年

＞ 卜

 月

＞丨

日签 字 日 期 ：

＇ ８＾６ 月

日  

工程硕士学位论文
“实货制”下铁路集装箱空箱调运优化研究
Research on the Optimization of Railway Empty Containers Repositioning under the “Real-Freight System”

作 者 姓 名： 刘妍妍

工 程 领 域： 交通运输工程

研 究 方 向： 铁路货物运输

学

号： 0615011

校 内 导 师： 杨延梅

企 业 导 师： 杜晓峰

完 成 日 期： 2018 年 6 月

兰州交通大学 Lanzhou Jiaotong University

兰州交通大学工程硕士学位论文
摘要
近年来，我国对产业结构的调整取得了一定进展，经济增长速度也在适度放缓，伴 随而来的是，货运需求结构的明显变化，小宗货物运输需求迅速增长，运输市场竞争日 趋激烈，铁路货运为增强自身市场竞争力，自 2013 年开始实行“实货制”改革，并相 继推出集装箱运输业务优化调整，这两项改革都对铁路货运尤其是集装箱运输适应当前 运输市场新形势起到了重要作用。“实货制”的实行不仅提高了铁路货运的时效性，而 且由于客户可以自主预订空箱，选择单项或全程物流服务，从而获得了更好的服务体验。
在对空箱调运问题相关文献进行了深入研究与思考之后，结合货运改革的新要求， 建立适应当前货运市场形势的空箱调运模型，本文的主要研究内容如下：
(1)针对空箱调运发展现状等问题进行了深入研究，并重点分析了货运改革对空箱调 运的影响。明确了当前形势下，需要对空箱的随机性需求进行重点研究，并且指出研究 空箱调运问题的目的是使其适应当前铁路对提高货运服务质量的要求。
(2)针对空箱随机性需求，引入机会约束规划，将需求站的空箱需求量看作随机变量。 同时，针对货运改革对提高铁路货运服务质量的要求，引入时间窗约束对空箱调运到站 的时间进行限制，保障了客户货物能够及时装箱，并将租箱策略作为调运空箱的补充策 略，以期最大可能的满足客户的装箱需求。
(3)明确了模型的两大目标，即空箱调运成本最小和空箱调运周转时间最小。调运成 本包括空箱运输服务成本、租箱成本以及由于空箱不及时运到而产生的时间成本；周转 时间包括在途运输时间和在站作业时间，在站时间的重点是对集结时间的分析与计算。 基于以上双目标函数的分析，建立了含有随机机会约束的双目标空箱调运优化模型，模 型考虑了空箱运输能力限制。
(4)设计了模型的算法，采用混合智能算法求解含随机机会约束的双目标模型。该算 法结合随机模拟、神经网络和 NSGA-II。算法优点在于随机模拟和神经网络的结合，使 得机会约束不必转化成确定表达式，且 NSGA-II 又被称为多目标遗传算法，利用非支配 分层与拥挤距离排序选择子代个体，使其在求解双目标模型方面有较好的优越性。
(5)根据模型给出相应的算例，使用 MATLAB 软件求解算例并对计算结果进行分析， 验证了模型的可行性。
关键词：铁路集装箱；空箱调运；随机机会约束；双目标优化；混合智能算法
论文类型：应用研究
-I-

“实货制”下铁路集装箱空箱调运优化研究
Abstract
In recent years, China has made some progress in the adjustment of its industrial structure, and its economic growth rate has moderately slowed down. Accompanied by the obvious changes in the structure of demand for freight transport, the demand for small batch goods has grown rapidly, and the transportation market has become increasingly competitive. In order to enhance its own market competitiveness, since 2013, railway freight has implemented the reform of “real-freight system” and has successively introduced optimization adjustments for container transportation business. Both reforms are for railway freight transport, especially container transport, have played an important role in adapting to the new situation of the current transportation market. The implementation of the "real-freight system" has not only improved the timeliness of railway freight transport, but also enabled customers to obtain a better service experience because they can independently book empty containers and select single or full logistics services.
After further research and reflection of relevant literature on the empty container transport problem, combined with the new requirements for freight transport reform, we set up an empty container transport model that adapts to the current situation in the freight market. The main research contents of this paper are as follows:
(1)In-depth study of the development status of empty containers and other issues, and focused on the impact of freight reform on the empty container transport. Under the current situation, we need to focus on the randomized demand for empty containers. It also points out that the purpose of studying the empty container transport problem is to make it adapt to the current railway requirements for improving the quality of freight services.
(2)For the random empty containers demand, the chance constraint plan is introduced, and the empty container demand of the demand station is regarded as a random variable.At the same time, in response to the requirements of the freight reform to improve the quality of railway freight services,time windows are introduced to restrict the time for transporting empty containers to the station and ensure the timely transportation of customer goods;And uses the leasing strategy as a complementary strategy for empty containers to meet the customer's maximum packing requirements.
(3)The two major objectives of the model are clarified, that is, the minimum transfer costs for empty containers and the minimum turnaround times for empty containers transfer.Transfer costs include the cost of empty containers transport services, lease empty containers costs, and the time costs incurred due to not arriving in time;The turnaround time includes the time of on-the-way transportation and on-site operation time, and the time of on-site time is the analysis and calculation of the assembly time.Based on the analysis of the
- II -

兰州交通大学工程硕士学位论文
above two objective functions, a dual-objective empty containers transfer optimization model with random chance constraints is established. The model considers the limitation of the empty container transport capacity.
(4)The algorithm of the model is designed and the hybrid intelligent algorithm is used to solve the dual-objective model with random chance constraints.The algorithm combines random simulations, neural networks, and NSGA-II.The advantage of the algorithm lies in the combination of random simulations and neural networks, so that random constraints do not have to be transformed into a definitive expression.NSGA-II is also called multi-objective genetic algorithm. It uses non-dominated stratification and crowded distance sorting to select offspring individuals, which makes it better in solving the dual-objective model.
(5)According to the model, the corresponding examples are given. Using MATLAB software to solve the examples and analyze the calculation results, the feasibility of the model is verified. Key Words ： Railway Container ； Empty Container Transport ； Random Chance
Constraints；Dual- objective Optimization；Hybrid Intelligent Algorithm
- III -

“实货制”下铁路集装箱空箱调运优化研究
目录
摘 要..................................................................................................................................... I Abstract...................................................................................................................................... II 1 绪论.........................................................................................................................................1
1.1 研究背景及意义..........................................................................................................1 1.1.1 研究背景...........................................................................................................1 1.1.2 研究意义...........................................................................................................2
1.2 国内外研究现状..........................................................................................................3 1.2.1 国外研究现状...................................................................................................3 1.2.2 国内研究现状...................................................................................................5
1.3 论文研究内容和组织结构..........................................................................................7 1.3.1 研究内容...........................................................................................................7 1.3.2 组织结构...........................................................................................................9
2 铁路集装箱空箱调运问题分析...........................................................................................11 2.1 铁路集装箱空箱调运................................................................................................11 2.1.1 铁路集装箱空箱调运现状.............................................................................11 2.1.2 解决空箱调运问题的现有措施.....................................................................12 2.1.3 空箱调运问题产生的原因.............................................................................13 2.1.4 空箱调运的特点.............................................................................................14 2.1.5 空箱调运的核心问题.....................................................................................15 2.2 “实货制”改革与集装箱运输业务优化调整........................................................16 2.2.1 铁路“实货制”改革的原因.........................................................................16 2.2.2 铁路“实货制”改革的思路和目标.............................................................17 2.2.3 铁路集装箱运输业务优化调整.....................................................................19 2.3 “实货制”改革与集装箱运输业务调整对空箱调运的影响................................20 2.3.1 对空箱需求类型的影响.................................................................................20 2.3.2 对空箱调运时效性的影响.............................................................................20 2.3.3 对空箱运输服务成本的影响.........................................................................20 2.4 本章小结....................................................................................................................21
3 “实货制”下铁路集装箱空箱调运相关问题分析...........................................................22 3.1 “实货制”下的铁路集装箱空箱调运周转流程....................................................22 3.1.1 “实货制”下铁路集装箱货运办理流程.....................................................22
- IV -

兰州交通大学工程硕士学位论文
3.1.2 “实货制”下铁路集装箱空箱调运流程.....................................................23 3.2 集装箱空箱调运周转时间分析................................................................................24
3.2.1 集装箱班列在中心站中转作业时间分析.....................................................24 3.2.2 集装箱班列集结时间分析.............................................................................25 3.3 空箱调运成本分析....................................................................................................26 3.3.1 空箱运输服务成本分析.................................................................................26 3.3.2 时间成本分析.................................................................................................28 3.3.3 租箱成本分析.................................................................................................29 3.4 空箱需求随机性分析................................................................................................30 3.4.1 空箱随机性需求.............................................................................................30 3.4.2 机会约束规划.................................................................................................30 3.4.3 空箱需求随机机会约束.................................................................................31 3.5 本章小结....................................................................................................................32 4 “实货制”下铁路集装箱空箱调运模型建立...................................................................33 4.1 模型假设....................................................................................................................33 4.2 模型变量定义............................................................................................................33 4.3 双目标分析与模型建立............................................................................................34 4.3.1 双目标分析.....................................................................................................34 4.3.2 模型建立.........................................................................................................36 4.4 本章小结....................................................................................................................38 5 空箱调运模型算法设计与算例分析...................................................................................39 5.1 算法设计....................................................................................................................39 5.1.1 机会约束规划.................................................................................................39 5.1.2 多目标优化模型.............................................................................................39 5.1.3 NSGA-II 算法介绍..........................................................................................40 5.1.4 混合智能算法.................................................................................................41 5.2 算例分析....................................................................................................................43 5.2.1 算例描述.........................................................................................................43 5.2.2 算例求解.........................................................................................................46 5.2.3 结果分析.........................................................................................................51 5.3 本章小结....................................................................................................................53 6 总结与展望...........................................................................................................................54
-V-

“实货制”下铁路集装箱空箱调运优化研究
6.1 总结............................................................................................................................54 6.2 展望............................................................................................................................55 致 谢...................................................................................................................................56 参 考 文 献.............................................................................................................................57
- VI -

兰州交通大学工程硕士学位论文
1 绪论
1.1 研究背景及意义
1.1.1 研究背景 为了铁路的可持续发展，也为了进一步深化管理体制改革，使铁路货运能够适应竞
争激烈的运输市场，更好地跟进经济社会发展的脚步、满足客户的需求[1]，自 2013 年开 始，中国铁路总公司将客运组织改革的成功经验，运用在铁路货运上，对货运改革进行 了积极的探索和实践，在推行“实货制”运输、优化调整集装箱运输业务、推进集装化 运输等方面取得一定成绩。
“实货制”改革是此次铁路货运改革的主要内容之一，在“实货制”改革以后，铁 路集装箱空箱调运主要遵循先订优先的原则，采用网上受理的形式，划分货物运输对象， 采用签订运输协议的方式，将大宗稳定货物纳入到月度运输计划来保障运力供应，对于 小宗快捷货物来说，铁路采用的是随到随办、及时装运的运输组织方式，来满足客户的 “实货”运输需求，但是由于小宗快捷货物的空箱需求来自于不确定需求客户，其空箱 需求可能发生在空箱调运等决策做出之后，而且小宗货物的需求往往是随机产生的，所 以其空箱需求在发生之前很难进行准确预测，所以现阶段需要在不确定需求的情况下对 空箱做出调运或者租用等决策，然而，传统的空箱调运模型一般是在已知空箱供给和需 求量的情况下对空箱调运方案进行优化研究，因此，传统调运已不能满足需要，需要研 究出一种适合于小宗快捷货物随机性需求的空箱调运方法。
铁路在实行“实货制”改革之后，相继推出了集装箱运输业务优化调整，目的是实 现铁路企业与中铁集装箱运输有限责任公司(以下简称集装箱公司)之间经营关系的优化 整合，改变集装箱运输受到现有管理制度制约的发展现状，使铁路运力得到更加充分的 利用，提高铁路货运的市场竞争力。业务调整后，由铁路总公司负责全路集装箱的运输 组织和统一管理。铁路局集团公司(以下简称铁路局)负责其管内集装箱的运输组织和经 营管理。以往集装箱公司作为集装箱运营的主体，需要向铁路企业支付相应的运输费用， 业务调整以后，铁路企业成为新的主体，集装箱运输成本也将由铁路企业自己承担。而 在业务调整后，集装箱公司只需要负责集装箱的购置、租赁、维护和报废等资产管理工 作，不再经营集装箱的铁路运输业务。
近几年的货运改革，取得了阶段性成果，在此基础上，提出大力推进集装化运输。 全国 18 个铁路局共有集装箱办理站从最初的 600 多个已经发展到现在的 1506 个，继续 扩大集装箱办理站数量、增加货物入箱品类，目标是 3 年内在全路建成 2000 个集装箱
-1-

“实货制”下铁路集装箱空箱调运优化研究
货场，货品入箱运输率超过 90%。加快创新技术装备的脚步，为集装化运输创造更好条 件。发展多式联运，争取在未来几年，铁路集装箱拥有量达到 100 万只，集装箱货运量 超过货运总量的 20%。集装箱运输发展迎来新的机遇，伴随发展而来的还有挑战。目前， 在我国，很多适箱货物仍是采用铁路整车等方式运输，铁路集装箱货物运输量只占到全 路货运总量的不足 3%，然而在美国大约是 40%，因此我国铁路货运的集装箱运输还有 待提高。
综上所述，铁路集装箱运输迎来重大的发展机遇，“实货制”改革与集装箱运输业 务调整又为集装箱运输的发展提供了强有力的支持。同样，集装箱空箱调运也应该与时 代发展相适应，默契配合新形势对集装箱运输提出的更高要求，为铁路集装箱运输，在 新的发展形势下，能够更好地适应市场和客户的运输需求提供有力保障。
1.1.2 研究意义 铁路实行货运改革以来，在简化货物运输办理手续、推行“实货制”运输组织方式
等方面取得了很好的效果，对小宗快捷货物采用随到随运、及时装运的形式，按照“实 货”办理运输，小宗货物的运输需求得到了保障，小宗货物迎来了前所未有的发展机遇。 由于小宗货物运输具有小批量、多批次等特点[2]，加之铁路集装箱运输业也在加快发展， 集装箱的调运必将更为频繁，鉴于此，我们应该更加关注铁路集装箱空箱调运研究，当 前，空箱调运的任务是满足小宗货物运量随机的空箱需求。
(1)降低集装箱运输周转时间，提高集装箱利用效率 铁路货运改革，提出大力推进集装箱运输的发展，发挥集装箱运输在货物“门到门” 运输中的的优势。优化的空箱调运方案，对于提高空箱的调配能力，提高空箱的周转速 度，进而使空箱得到更高效率的使用，有一定的现实意义，也使集装箱运输为企业带来 更高的盈利空间，进而为集装箱运输的持续发展带来动力。 (2)降低调运成本，提高竞争力 空箱调运成本己经严重限制了铁路集装箱运输业务的进一步发展。通过对空箱调运 问题的优化，实现空箱调运系统的完善，减少不必要的调运量，降低物流成本。尤其在 全路 2000 个集装箱货场建成之后，一个空箱需求站可以调运周边邻近的任一个(或者多 个)供应站点的空箱来满足本站运输需求，相对应的，对于空箱供给站也是如此。空箱 调运可选方案更多了，集装箱空箱调运方案的不同选择对于调运成本的影响也将变得更 加显著。 (3)动态调运空箱，应对随机需求 为了应对小宗快捷货物随机性空箱需求，满足其随到随运、及时装运的要求，建立 基于小宗快捷货物随机性空箱需求的铁路集装箱空箱调运优化模型，在空箱需求随机的
-2-

兰州交通大学工程硕士学位论文
情况下，实现集装箱空箱的调运优化。 (4)提高货运服务水平，推动我国集装箱运输业的发展 集装箱空箱调运问题的存在，使得客户的用箱需求不能得到及时满足的情况时有发
生，加之铁路集装箱货运业务办理流程复杂，这些都导致客户对铁路货运服务满意度的 降低，造成铁路货运客户流失。货运服务质量已经限制了集装箱运输业的发展。因此， 提高集装箱空箱调运效率，对于更好地满足客户的需求，进一步提高运输服务水平，适 应货运改革对于缩短货物运到时限的要求，甚至对整个运输行业的发展都有重要的积极 的作用。
综上所述，铁路货运改革以后，针对小宗快捷货物的随机性需求，满足其随到随运 的运输要求成为铁路集装箱空箱调运的目标，同时，货运改革要求大力推进集装箱运输， 在全路建成 2000 个集装箱货场，集装箱空箱的调运也将更加频繁，对集装箱运输水平 提出了更高的要求，如何高效率的调运空箱，降低空箱调运成本成为当务之急。
1.2 国内外研究现状
1.2.1 国外研究现状 在集装箱运输方面，国外起步相对较早，对空箱调运等问题也有了较长时间的认识
和研究，有许多值得学习借鉴之处。 Choong Sook Tying, Cole Michael H., Kutanoglu Erhan[3]分析在多式联运网络下，集
装箱空箱规划周期长度对于空箱管理的影响。该分析基于整数规划，建立整数规划模型， 模型的目标是最小化与空箱运输相关的总成本，以密西西比河流域的集装箱驳船作业作 为实例，进行结果分析，说明了计划期长度对模式选择的影响，计划周期越长就越能得 到更优的方案，但模型没有将重箱运输考虑进来。
Jula Hossein, Chassiakos Anastasios, Ioannou Petros[4]研究了洛杉矶和长滩港口区域 的集装箱空箱运输，试图通过优化空箱再利用来减少拥堵。在建模阶段，对空箱的再次 利用进行了动态分析，并开发了相应的技术实现空箱运用的优化。根据洛杉矶和长滩港 区当前和预计的需求，进行了多次实例计算，仿真计算结果表明，通过对空箱的再利用， 可以实现该地区成本和拥塞的显著减少。
Shintani K., Imai Akio, Nishimura Etsuko[5]等在明确考虑到空箱调运这一因素的基础 上，设计了集装箱班轮运输服务网络，其中两个关键且相互关联的问题是集装箱和船舶 的调配。在现有的研究中通常是分开处理的，文章同时考虑这两个因素，这是一个两阶 段问题，针对这一问题，使用一种基于遗传算法的启发式算法。大量的数值实验表明， 在考虑空箱调配的情况下，该问题可以得到更优越的解。
-3-

“实货制”下铁路集装箱空箱调运优化研究
Theofanis Sotirios, Boile Maria[6]针对典型的不平衡集装箱进出口贸易问题，提出了 一个集成空箱和重箱运转操作的决策支持系统，系统模型的网络表达为，节点代表客户、 租赁公司、港口和仓库，弧代表运输路线。该模型分阶段运行，首先优先考虑重箱的需 求，然后考虑可用空箱的供应，并对成本进行优化，在给定的时间范围内，运输路线是 动态控制的，周期性的。该系统允许配置多个参数，并通过利用随机生成的数据进行试 验，证实了系统的有效性。
Diaz Rafael, Talley Wayne, Tulpule Mandar[7]考虑到空箱的积压和调运已成为集装箱 港口面临的严重问题，加之国家间贸易不平衡的预期增长，预计未来将会加剧，对集装 箱港口的经营成本和运营提出了挑战。更准确地预测港口的空箱数量，将使集装箱港口 能够制定更好的成本效益计划以便空箱调运。文章对三种预测港口空箱吞吐量的方法进 行了比较，得到温特斯预测法是其中最准确的一种预测方法。
Vojdani, Nina, Lootz[8]等考虑到成本压力的增加以及对效率的追求，在空箱管理中协 同方法变得越来越重要。一种方法是几个集装箱运输公司和租箱公司联合使用集装箱， 对此，文章引入一种集装箱物流网络的数学优化方法，考虑到集装箱联营的建立和运行 带来的潜在节约量，并对潜在的节约量进行量化。结果表明，与集装箱业主和租赁公司 的非合作行为相比，集装箱联营的实施可以产生积极的经济效益。此外，港口运营商也 能够处理增加的集装箱吞吐量，并且没有因为联营而带来很大的容量调整。
Moon Llkyeong, Hong Hwajin[9]通过使用新型节省空间的可折叠箱来降低运输和库 存成本。要有效地使用可折叠箱，航运公司需要一个系统化的算法，实现可折叠箱和标 准箱的同时调运，此外，必须选择具备可折叠箱作业能力的港口。为了解决这些问题， 建立了同时调运两种集装箱的模型，以包括运输成本、库存成本、搬运和装卸等成本在 内的总成本最小为优化目标。使用混合遗传算法求解模型，在合理的计算时间内获得满 意的解决方案。通过多次试验，验证了方法的可行性。
Belayachi Naima, Gelareh Shahin, Yachba Khadidja[10]等以解决集装箱的不均衡分配 为目的，对集装箱调运问题进行了研究。集装箱化的发展为海上贸易的发展带去了动力， 使得海上运输成为贸易中普遍采用的运输方式。船运公司使用租来的空箱进行货物运输 作业，但是，在满足客户需求的过程中，有些港口面临着空箱供应不足的问题。文章旨 在解决这一矛盾，以尽可能小的成本满足客户的装运需求。基于启发式算法，以集装箱 的回送成本最小为目标，对集装箱的调运过程进行研究。
Kuźmicz Katarzyna Anna, Pesch Erwin [11]在线性规划和混合整数规划方法的帮助下， 提出空箱供应链的概念。文章以欧亚交通运输路线为重点，以文献分析为基础，指出了 空箱调运问题的成因。此外，它还提出了空箱供应链的概念，为建模提供了先决条件，
-4-

兰州交通大学工程硕士学位论文
并且展示了集装箱供应链建模的例子。
1.2.2 国内研究现状 国内关于集装箱空箱调运的研究也很多，本文从空箱调运过程中的不确定因素、客
户满意度等不同研究角度对国内研究现状进行综述。 (1)对于集装箱空箱调运问题研究综述文献的学习，有助于从整体上把握空箱调运问
题的研究现状。 吉清凯[12]详尽的对空箱调运问题的研究进行综述，从管理层、运输模式与研究方法
及优化目标等多个角度对国内外相关文献进行总结概括，并对未来研究方向进行展望。 (2)考虑集装箱空箱调运过程中的不确定因素。 段刚[13]考虑列车在途运输时间的不确定，通过将运输时间分为确定和不确定两部
分，分析运输时间对运到时间窗的影响，基于鲁棒软时间窗，建立空箱调运模型。 张鹏翔[14]以成本最小化为优化目标，由于运输及调运过程中含有不确定性，造成空
箱供应的随机性，将此不确定性依据经验取定置信水平，同样的将空箱需求客户的用箱 时间使用模糊规划理论给出上下限，并且将通过能力等考虑在内，建立优化模型。
段刚[15]针对一般的集装箱办理站，同时将空箱调运过程中的两种不确定情况考虑在 内，将集装箱办理站空箱供需数量看作随机变量，将线路的通过能力以及办理站作业能 力处理为模糊变量，建立了基于模糊变量和随机变量的空箱调运模型。
韩晓龙[16]在需求随机的情况下，将班轮公司满足客户需求的程度作为信誉成本，加 入到成本函数中，讨论客户需求被满足的程度，即货运服务质量对运输总成本的影响。
(3)基于客户满意度或者考虑空箱的时间需求的研究。 钟鸣[17]在空箱调运问题的研究中，对顾客满意度做了深入研究，得出影响客户满意 度的 4 个主要因素，分别是经济、便利、稳定和及时，将空箱调运费用矩阵和客户满意 度矩阵相结合，形成新的费用矩阵，在新的矩阵上进行空箱调运优化。 郑燕[18]分别考虑将硬时间窗、软时间窗、软硬时间窗作为约束条件，建立调运模型。 胡晓龙[19]在自己的博士学位论文中，对客户的空箱需求是否可以被推后满足的情况 进行了分析，并建立了带时间窗的数学模型，最后采用免疫算法对实例进行计算，但该 文仅仅是对铁路办理站点之间的空箱调运问题进行了研究，考虑的因素较少，而且没有 将可能存在的不确定因素考虑在内。 宰停[20]首次将优先级的概念引入到对空箱需求的等级划分上，优先满足高优先级货 物的装箱需求，建立了与铁路实际运输工作较为相符的空箱调运模型。该模型以最大化 优先级和最小化调运成本为目标，并采用改进后的遗传算法求解模型。 李秀芬[21]考虑了供给多于需求和需求多于供给两种情况，尤其是在供给不足的情况
-5-

“实货制”下铁路集装箱空箱调运优化研究
下，文章首先根据货物的重要程度、品种等确定其优先等级。在此基础上，建立了以优 先级最高为第一优化目标的调运模型，最后，再考虑空箱周转总时间。
郑明明[22]将传统 RFM 模型评价方法进行改进，并使用改进后的评价方法对铁路客 户价值进行评价，在此基础上，建立了一种基于客户优先级的空箱调运模型，并对高优 先级客户的空箱需求进行优先满足。实例表明，该模型可以降低高优先级客户成本支出， 并且优先级较高的客户的空箱满足率无论是在数量还是时间上都得到了保障。
方开莎[23]考虑到在求解多目标问题时，通常不存在理论上的最优解，所以，将客户 的满意理论引入空箱调运优化当中。通过构造满意评价指标对客户满意度进行定量计 算，并将客户满意度作为目标函数的一部分。
徐迅达[24]通过构造客户满意度评价体系，分析了影响客户满意度的几大指标，构建 客户满意度体系，建立基于调运成本和满意度的数学模型，最后使用遗传算法求解。
赵志荣[25]通过分析客户的用箱需求，建立了评价指标体系用于综合评价该需求，并 在此基础上，创建了以调运成本最小和延迟时间最少为目标的数学模型。
(4)从企业的角度出发，研究集装箱空箱调运优化问题，主要的优化目标是调运成本 最小化，并考虑空箱的使用价值等因素。
闫海峰[26]同时考虑空箱调运和重箱运输，在空重混编的条件下，将集装箱箱流的运 输时间、距离和费用三者的最优作为目标，将空重箱流同时考虑到模型中，以实现两者 的协调统一优化。
廖小琴[27]在成本中，考虑租箱费用，并使用 LINGO 程序求解模型。 刘爽阳[28]从铁路企业角度出发，建立集装箱客户价值评价体系，并使用该体系对客 户价值进行评估。在此基础上，建立以客户价值—调运成本为目标的双目标优化模型， 将模型转化为一个单目标运输问题后，使用 MATLAB 软件进行求解。 刘浩[29]实现空箱调运问题的分层考虑：月调度计划与日调度计划。对于月调度计划， 建立了以成本为目标的月度静态空箱调运模型；对于日调度计划，分别建立基于成本目 标、成本和顾客时间需求目标以及多目标的动态空箱调运模型，根据 3 种调运模型形成 了相应的空箱调运方案，最后对 3 种模型的运算结果进行了比较分析。 彭华[30-31]考虑在一个计划期内，实现每日的动态调度优化，将客户满意度最大化转 化为效益最大化，又将效益最大化转化为未及时满足运输需求的集装箱的数量最小化， 建立了以效益和成本为目标的多目标优化模型，并通过改进的遗传算法求解。 朱文浩[32]采用层次分析法和层次聚类分析法相结合的办法对客户价值进行测评和 分类，将客户的直接价值和间接价值之和作为客户价值。基于此，从企业经营者的角度 出发，建立了一个以客户价值最大化以及调运成本最小化为目标的多目标规划模型，以
-6-

兰州交通大学工程硕士学位论文
此实现企业的经济效益最大。 王俊杰[33]对集装箱周转时间进行全面分析，得到第一个优化目标，空箱调运周转时
间，以空箱调运周转时间为目标建立空箱调运模型，以周转时间和调运成本为优化目标， 建立了双目标空箱调运优化模型。设计相应的算例，使用 LINGO 软件计算实例，并通 过实例分析，验证模型的正确性、可行性。不足之处在于文章主要研究对象是大宗稳定 物资和客车化产品物资的基于月计划的静态模型分析，缺乏对小宗快捷物资的基于日计 划动态模型分析。
(5)考虑多式联运或者合作策略的集装箱空箱调运研究。 兰辉[34]在其博士学位论文中，对多式联运问题进行了研究，提出了一种新的概念， 即基于联运规划层次，进行分级优化，建立了基于多式联运的任务分派优化模型，最后， 通过实例计算对模型和算法的进行可行性验证。 邢玉伟[35]以总成本最小为优化目标，建立了基于空箱互租策略的空箱调运优化模 型，实例数据说明，在班轮合作情况下，该策略能够较好的实现空箱的优化调运，各班 轮公司的租箱数量以及调箱数量都低于其在单独经营下的数量。 江玉杰[36]以成本最小为目标，建立了班轮公司合作条件下的空箱调运模型，模型考 虑运力以及供给需求箱数的不确定性，并引入模糊约束，最后，对总成本中的租箱成本， 运输成本以及库存成本进行了单独讨论。 汪传旭[37]以成本最小为目标，考虑供需箱量的不确定，将其作为随机变量，建立了 在班轮公司合作条件下的空箱调运模型。 张丽娜[38]在海铁联运下，讨论了可折叠箱的使用条件，得到的结论是，租箱成本是 决定可折叠箱可用性的关键，对于可折叠箱的选用决策有一定的借鉴意义。
1.3 论文研究内容和组织结构
集装箱空箱调运优化研究已日益完善，本文借鉴国内外相关研究成果，结合当前的 铁路“实货制”改革和集装箱运输业务调整，在熟悉我国铁路运输组织和管理特点以及 集装箱运输特殊性的前提下，分析了集装箱空箱调运系统，并考虑了客户的随机需求以 及时间满意度等因素，建立了“实货制”下的铁路集装箱空箱调运优化模型，并设计了 适当的求解算法。
1.3.1 研究内容 经过多年的研究，铁路集装箱空箱调运优化在多个方面有了很大突破，但是在某些
方面仍有不足。 (1)对货物运输类型的考虑
-7-

“实货制”下铁路集装箱空箱调运优化研究
目前的研究主要集中在大宗货物空箱调运模型的建立方面，较少考虑小宗快捷货物 的空箱调运需求，但是由于大宗货物的空箱需求一般是指和铁路运输部门签订运输协议 的确定需求，因此大宗货物的用箱需求是提前已知的，在此前提下的空箱调运显然不适 用需求随机的情况，尤其是在“实货制”改革以后，客户可以在网上预订空箱，简化了 办理手续，极大地方便了客户，也吸引了更多的货源，小宗货物得到进一步的稳固和发 展，因此，基于随机性需求的空箱调运问题具有重大的研究意义。
(2)对空箱调运时间的优化研究 目前的研究很多都是单一的优化目标，最常见的是以空箱调运成本为目标，但是随 着铁路运输的发展以及人们对于运输服务要求的提高，成本已经不是唯一的考虑方向， 尤其在“实货制”改革以后，客户对于用箱的时间需求更为严格，在此前提下，应该考 虑到运输时间的重要性，加强对于调运时间的优化研究。 (3)对复杂路网空箱调运问题的研究 在全路建成 2000 个集装箱货场后，相对于之前 600 多个铁路集装箱办理站，全路 集装箱办理站密度增加，每一个空箱需求站可以选择周边邻近的任一个(或者多个)供应 站调运需要的空箱，同样，空箱供应站也是如此。在每一个空箱需求站或供应站点都有 更多选择的情况下，全路办理站空箱调运方案的组合更加复杂，而目前的研究多是选取 路网中的某些站点进行的，调运方案相对简单。 (4)对多式联运问题的考虑 伴随铁路运输业的发展，有时需要联合多种运输方式调运空箱，但目前对于空箱调 运问题的研究多是限制在铁路闭环系统内，未综合考虑其他运输方式，对集装箱空箱调 运优化存在明显的局限性，不能实现更合理利用社会资源、降低成本的调运目标。 基于以上空箱调运的现存问题，本文准备解决的主要问题有： (1)空箱需求的随机性问题 由于小宗快捷货物具有随到随运的运输特点，所以，为满足小宗货物的随机性空箱 需求，建立基于随机性空箱需求的双目标空箱调运优化模型。模型以空箱调运成本最小、 空箱调运周转时间最小为优化目标，并且尽量满足客户用箱的时间需求、空箱运输能力 等限制。 (2)满足时间窗要求的空箱调运问题 为了满足“实货制”改革后，客户对于“实货”随到随运的时间需求，在建模中引 入时间窗约束，本文采用的是软时间窗约束。由于客户的用箱时间需求一般是一个时间 段，空箱未在该时间段内到达时，则会产生一定的惩罚费用，以此限制空箱的运到时间， 保证货物及时装运。
-8-

兰州交通大学工程硕士学位论文
(3)空箱调运成本的组成问题 空箱调运成本主要由三个部分组成： ①空箱运输服务费用，包括线路使用费用、车辆使用费用、机车牵引费用、车辆编 解服务费用等； ②时间成本，空箱未在时间窗限制的时间段内到达时，会产生相应的惩罚，本文将 其表述为时间成本。具体为，空箱早于该时间段到达时产生空箱堆存费用，空箱晚于该 时间段到达时产生企业信誉损失； ③租箱成本，铁路集装箱办理站应对随机出现的用箱需求的常见办法有：租箱、调 箱、采用公路运输方式(不适用于过长距离运输)。尤其在“实货制”改革以后，为满足 客户的用箱需求，提高铁路货运服务质量，在建模阶段，将租箱作为调运空箱的补充策 略，因此空箱调运成本还包括由于租用空箱而产生的租箱费用。
1.3.2 组织结构 本文从空箱的随机性需求出发，建立基于机会约束规划的双目标空箱调运模型，论
文的结构安排如下： (1)第一章绪论。铁路货运“实货制”改革对于适应货物运输结构的转变，即适应大
宗货物运量下滑，小宗货物运量增长迅速的新形势，具有重要的意义，同时，“实货制” 对运输服务水平提出了更高的要求，从这两个方面阐述本文的研究背景和意义，并结合 国内外文献综述认识铁路空箱调运优化的重要性和实际价值。
(2)第二章铁路集装箱空箱调运问题分析。首先分析空箱调运目前存在的问题及主要 的应对措施，空箱调运问题的特点，及其产生的原因，空箱调运要解决的核心问题。特 别是提到铁路货运“实货制”改革和集装箱运输业务调整，分析这两项改革对于空箱调 运产生的新的影响。
(3)第三章“实货制”下铁路集装箱空箱调运相关问题分析。以货运改革对空箱调运 产生的新影响为基础，全面分析“实货制”下空箱调运的相关问题。包括空箱调运周转 时间、空箱调运成本、时间窗和随机性空箱需求。为空箱调运模型的建立做好充分的理 论准备。
(4)第四章“实货制”下铁路集装箱空箱调运模型建立。通过以上章节的研究，完成 模型的参数和决策变量的设定，模型的优化目标是最小化空箱调运周转时间和空箱调运 成本，同时需要满足随机性空箱需求客户对于用箱的时间要求，完成“实货制”下空箱 调运数学模型的建立。
(5)第五章空箱调运模型算法设计与算例分析。采用混合智能算法求解模型，利用随 机模拟产生的大量训练样本训练神经元网络，再结合 NSGA-II 多目标遗传算法，完成模
-9-

“实货制”下铁路集装箱空箱调运优化研究
型的算法设计，最后以具体算例验证模型的可行性与正确性。 (6)第六章总结与展望。总结本文的研究成果，指出有待进一步研究的问题。 本文的组织结构如图 1.1 所示。
图 1.1 组织结构图
- 10 -

兰州交通大学工程硕士学位论文
2 铁路集装箱空箱调运问题分析
为了能够对铁路集装箱空箱调运问题有更为全面的认识，本章从我国铁路集装箱空 箱调运发展现状出发，对空箱调运问题产生的原因、空箱调运的特点、以及主要的应对 措施等问题进行了详细分析，最后总结出空箱调运需要解决的核心问题。特别提到了对 铁路集装箱运输业发展具有重要和积极影响的“实货制”改革和集装箱运输业务调整， 并以此为前提，对铁路空箱调运优化问题进行分析。
2.1 铁路集装箱空箱调运
2.1.1 铁路集装箱空箱调运现状 在铁路集装箱运输的过程中，重箱的运输实现货物从运出地到目的地的转运，空箱
在其供需站点间的调运过程看似无意义，但在铁路运输网络中，重箱的流动和空箱的流 动是相互依赖的，两者协调存在，因此，空箱的调运过程是必须的，这样才能保持铁路 重箱流的持续性。
重箱运输在将货物运至目的地的过程中也为企业带来经济利益，而空箱调运过程是 无产出的，但是据资料显示，铁路空箱调运费用占集装箱管理费用的 25%左右[33]，因此， 运输企业为了实现其利益最大化，必须要减少空箱调运耗费的成本，优化集装箱运输组 织，减少闲置空箱数量，更高效率的使用集装箱。
优化的空箱调运，可以减少不合理的空箱调运造成的成本支出，保证集装箱运输网 络更加高效的运转，为企业带去更高的经济效益，因此，有很多运输企业会选择建立集 装箱管理中心，负责集装箱的调运工作。但是由于企业一贯对空箱调运重视程度不够， 导致拥有管理经验的人才较为缺乏，基本上还都是凭借以往的工作经验进行。有实力的 大公司为了更好地掌握集装箱的运用状态，启用大量资金开发集装箱全球信息跟踪管理 系统。但是实力薄弱的中小公司，依旧采用原先的管理方法，丢箱等现象时有发生。
总体来看，我国铁路空箱调运还是存在着很多问题： (1)集装箱营业站管理水平低，信息跟踪水平落后，造成工作人员不能做出合理及时 的调箱作业，调度工作不够合理，时常出现不必要的二次调运，空箱调运压力增大，也 增加了调运空箱的费用。 (2)集装箱配备量不合理，站点空箱需求量预测不准确。经常是铁路为了应对急需， 不必要的购入集装箱或者租用空箱，使得积压在站点的空箱调运不出去，需求空箱的站 点无箱可用。 (3)提箱、还箱等管理制度不够健全，交接单的不规范使用，使得交接不明，引起丢
- 11 -

“实货制”下铁路集装箱空箱调运优化研究
箱等现象发生。
2.1.2 解决空箱调运问题的现有措施 鉴于空箱调运现状以及存在的主要问题，现阶段，我国应对集装箱空箱调运问题的
主要措施有： (1)根据货种选择合适的箱型 当前，铁路上投入使用的集装箱的箱型较多，在进行货物运输时，需要选择适当箱
型的集装箱，因为如果使用了不适合的集装箱进行运输，在重箱到达之后进行空箱回送 时，会使得空箱调回的成本增加。比如，如果线路上的轻泡货物较多，就可以选择使用 较大尺寸的集装箱进行装运，以减少集装箱的运用数量，从而使空箱回送时列车的编解 成本有所降低。
(2)提髙集装箱的周转速度 通过提高集装箱的周转速度，来减少空箱在站点的存放时间，以此来降低空箱在站 点存放产生的相应管理成本，此外，提高集装箱周转速度，还会使得集装箱得到更有效 的利用，相当于增加了箱源，减少空箱调运量。可以看出，集装箱周转速度的提高使得 企业空箱调运问题得到很大程度的解决。 (3)箱种代用、租用和购买集装箱 在空箱需求超过空箱供应的情况下，铁路企业为了满足货主的装运需求，会采取箱 种替用、租箱甚至购买集装箱的措施。 (4)强化企业间合作，共享集装箱资源 与其他企业合作，实现彼此拥有的集装箱资源的共享，不仅使空箱得到更高效的利 用，减少空箱的回空运输数量，而且缩短了重箱货物运输组织的时间(包括集结过程的 等待时间等)。 (5)对空箱缺乏地区的运输服务提供更为优惠的运价 通过降低运至缺箱地区货物的运价，来吸引更多货源运往缺箱地区，为缺箱地区带 去更多箱源，从而使地区间的贸易发展趋向平衡，进而使得各地区的空箱拥有量合理化 发展，空箱调运数量降低。 (6)建立集装箱管理信息系统 建立集装箱管理信息系统，让铁路企业更为及时准确的掌握集装箱的动态信息。通 过实时掌握集装箱的状态信息，企业可以提前合理安排空箱的调运计划，从而减少空箱 不合理调运带来的成本损失。实现集装箱运输组织精细化管理，以降低运输成本，提高 运用效率[39]。
- 12 -

兰州交通大学工程硕士学位论文
2.1.3 空箱调运问题产生的原因 在我国，不同地区经济发展速度不同，加之自然资源的不均衡分布，造成在全国范
围内，某些地区的集装箱站点总是有货物装箱需求，而另一些地区的站点总会产生由于 集装箱到站而带来的卸空箱，造成一部分地区空箱堆积，而另一部分地区缺乏空箱。可 以看出，空箱调运产生的根本原因是在货物装箱需求与空箱供给之间存在着不平衡。通 常，可以将空箱调运产生的原因分为客观原因和主观原因。
(1)客观原因 从客观原因上看，导致空箱调运产生的原因主要指由非人为因素造成的物流不平 衡，而造成集装箱货物运输不平衡本质上的原因是贸易流的不平衡。 ①经济发展不平衡 货物流向上的不平衡是造成集装箱运量不平衡的根本原因。尤其是我国不同地区经 济发展速度不同，加之资源的不均衡分布，直接影响了集装箱的流向不平衡。比如人口 较多的地区一般都有很大的商品消耗量，会从其他地区运进较多货品，所以造成空箱在 此地堆积；相比较而言，商品制造企业聚集的地区，则需要向其他地区运出货品，造成 此地空箱缺乏。 ②站点进出箱量不平衡 我国地区间经济的不平衡发展，导致地区间货物流向的不平衡。站点所在地区的商 品消费能力强，则该地区站点的进箱量多，重箱运进后，产生较多的空箱；相对应的， 站点所在地区的商品生产能力强，则该地区站点需要较多的空箱将商品运出，空箱缺乏。 造成某些站点空箱缺乏，某些站点空箱剩余。 ③站点进出箱型不平衡 我国不同地区之间的经济发展结构差异较大，不同种类的货物需要不同规格的集装 箱运输，另外，各地区对于不同箱型的集装箱的运输及装卸作业的收费标准也可能存在 差异，这就影响了各站点对于使用不同箱型集装箱的决策，造成站点进出箱型流向上的 不平衡，从而造成不同站点不同箱型空箱的短缺和多余。 ④集装箱生产地到投入使用地之间的空箱运输 伴随客户需求的发展，铁路企业业务量增大，铁路原有的空箱保有量将逐渐不能满 足需要，必须购买新的集装箱来适应货运市场的变化，这样就需要将新的集装箱从生产 地运往使用地。 (2)主观原因 从主观原因上看，导致空箱调运产生的原因主要指的是人为因素造成货流不平衡所 导致的集装箱的供需矛盾，一般是由经营方针不妥或管理水平不高引起，其主要表现为：
- 13 -

“实货制”下铁路集装箱空箱调运优化研究
①信息不畅，通信手段落后 信息不畅，是导致不合理空箱调运的重要原因。由于信息化水平不高，集装箱管理 信息系统的建设也不够完善，管理人才缺乏等原因，不能及时掌握集装箱的运转状态， 导致不能提前做好调箱等工作，限制了集装箱的周转速度和运用效率。在周转速度不高 的情况下，为应对急需只能调运空箱，甚至发生迂回调箱的情况。 ②区域间修箱成本的差异 不同地区的集装箱修理费用和维修标准不一样，出于经济上或者质量上的原因，铁 路企业会将损坏空箱调运到维修费用比较低或者修箱水平比较高的修箱点修箱。 ③存在超期和错用箱现象 人为因素在集装箱的管理过程中影响最明显之处就是超期箱与错用箱现象的时有 发生。超期箱的出现是因为货主不能及时提走到站重箱装运的货物，致使重箱超期存放 在堆场。超期箱的存在，使箱子不能及时参与下一次的运输任务，从而使集装箱得不到 更高效的使用。错用箱的发生也加大了集装箱的日常管理和调运工作的难度。 出于以上原因，在铁路运输工作中，空箱调运是不可避免的，但是问题在于实际运 输工作中经常出现不合理的空箱调运现象，所以，研究空箱调运的目的在于如何减少空 箱不合理调运次数，更有效的调运空箱。
2.1.4 空箱调运的特点 空箱调运问题主要存在以下几个特点： (1)限制性 在铁路集装箱空箱调运过程中，限制空箱调运计划安排的因素有很多。比如，线路
通过能力的限制、列车编组计划的限制、以及集装箱运输组织方式的特殊性限制等。除 此之外，由于实际运输工作的需要，铁路企业还要满足客户对于用箱时间的要求，过早 或过晚运到空箱都会带来不必要的空箱堆存费用或者是企业信誉损失，这就对空箱调运 工作提出了更高的要求。
(2)随机性 集装箱空箱调运问题的随机性主要表现在空箱供应和需求在时间和数量上是随机 变化的。 (3)动态性 对空箱调运量和调运路径的决策是随时间变化的。实际过程中，办理站是缺乏空箱 的需求站还是有富余空箱的供给站是随着时间动态变化的，例如，某一时期某办理站需 求空箱，而下一个时期，该站又有多余空箱，形成空箱的供应。所以，空箱调运过程是 一个动态的离散过程。
- 14 -

兰州交通大学工程硕士学位论文
(4)复杂性 上述空箱调运问题的三种特点，已经表现出空箱调运问题的复杂性。另外，在空箱 调运过程中可能还存在集装箱班列中转和解体编组等作业现象，增加了空箱调运的复杂 性。而且集装箱具有多种不同的箱型，最常见的就有 20ft 箱、40ft 箱等，也同样使得空 箱调运问题更加复杂。 (5)多目标性 从铁路企业的角度出发，空箱调运的成本最低、效益以及空箱调运效率最高是其追 求的目标；从客户的角度出发，铁路企业提供空箱服务的准时性和集装箱货物的运价是 最重要的考虑因素，因此空箱调运的目标是多样的。
2.1.5 空箱调运的核心问题 铁路企业为了满足市场运输需求，会尽量合理地购置集装箱，同时，追求最大经济
利益的目标使得集装箱的购置数量必须是有限的，即该资源是稀缺的。总的看来，在一 个较长时期内，市场货运需求量与空箱供应量应该是平衡的，只是由于货物运输市场的 不均衡以及一些不确定因素的影响，导致短期内供需的不平衡。在小的运输范围内，就 会出现集装箱资源紧缺的现象。
某一时期内，某集装箱办理站是空箱富余的供给站，这种情况下，该站空箱调运的 目的就是何时向其他空箱需求站调出空箱，并且决策调出多少空箱，来满足其他站点的 空箱需求或者留作本站自有箱以备下一时期需要；另一时期，该站是集装箱空箱缺乏的 需求站，此时则需要决策如何调入空箱以满足自身需要。
所以，空箱调运问题的关键就是如何科学有效的处理空箱的需求与供应之间的不平 衡问题，是决策空箱从供应地到需求地的流动问题，研究空箱调运问题就是为了实现调 运成本最小、利益最大或者是客户的满意程度最大。
集装箱空箱调运，其核心在于处理好以下 3 个问题： (1)何处调运空箱 就是决定空箱从供应地到需求地的运输路径。实际中，集装箱空箱的供应地与需求 地都不是固定不变的，在不同时期相互转化。因此，在一个确切的时期或是计划期内， 想要得出空箱的运输路径，首先是要确定各地空箱的供应量和需求量。 (2)何时调运空箱 “实货制”改革后，小宗快捷货物运输数量增加，对空箱调运的时效性要求更加严 格。这就要求卸载作业后能及时地将卸后空箱投入到下一次使用，即及时的调运到其他 需求站或者留作本站备用箱，以确保本站和其他需求站的空箱需求得到及时满足。另一 方面，调运到需求站的空箱过早或过晚到达都会带来经济损失。因此，恰当的时间调运
- 15 -

“实货制”下铁路集装箱空箱调运优化研究
空箱是关键。 (3)调运多少空箱 指的就是决定空箱供应地到需求地之间需要调运的空箱数量。在考虑上述两个运输
条件之后，综合考虑各个优化目标(如空箱调运成本最低，空箱利用率最高等)确定调运 多少空箱。
2.2 “实货制”改革与集装箱运输业务优化调整
本文探讨铁路货运改革对集装箱运输以及集装箱空箱调运的影响，所研究的铁路货 运改革，主要指的是“实货制”改革和集装箱运输业务调整这两项内容，也是此次铁路 货运改革的主要内容。
2.2.1 铁路“实货制”改革的原因 实行“实货制”改革，有重大深远的意义，是铁路为了适应不断发展的经济社会，
以及实现铁路的可持续发展做出的重要举措。 (1)为了适应经济社会发展。一直以来，我国铁路货运都是国家经济发展的重要支柱。
但是出于多种原因，铁路货运服务质量也一直难以满足经济社会发展的需要。实行“实 货制”改革可以使货运服务水平从本质上得到提高，促进铁路货运向市场化发展，体现 铁路运输优势，为客户带去更好地货运服务体验，是铁路为适应经济社会发展的必然选 择。
(2)为了深化铁路改革。铁路在实行政企分开之后，已经有了一个新的管理体制，但 是铁路内部还迫切的需要进一步的优化改革。在铁路运输体系内部进行的改革当中， “实货制”改革涉及面较广、起到了很好的带动作用。“实货制”改革，对于促进铁路 运输组织变革，推进经营管理方式革新都起到积极地作用，进而革新铁路发展模式，提 高铁路企业化管理水平。
(3)为了铁路自身发展。货运是铁路盈利的主要组成部分，货运能否更好地应对市场 变化，关系到铁路是否能够实现可持续发展。
近年来，由于我国经济增长速度放缓以及产业结构调整，货运的需求结构发生明显 变化，大宗货物运输需求下滑，小宗货物运输需求增长，以往的货运组织方式不能适应 市场发展，不符合运输物流化发展形势，铁路货运发展落后于其他运输方式，市场份额 逐年下滑。1980-2012 年铁路货运量的货运市场占有率从 47.5%减少至 16.9%，减少 30.6%，同一时期内，公路货运量的货运市场占有率从 6.4%增加至 34.6%，增长 28.2%。 在此后几年，货运形势会更加严峻，“实货制”改革势在必行[33]。
- 16 -

兰州交通大学工程硕士学位论文
2.2.2 铁路“实货制”改革的思路和目标 自 2013 年开始，铁路实行“实货制”改革，改革以后，铁路货运采用“前店后厂”
的形式，改变以往铁路货物运输办理程序，提高运输组织效率，保障客户“实货”的及 时组织挂运。
“前店”是指在“实货制”改革以后，客户可以通过多种渠道办理货运手续，办理 方式灵活多样，使铁路货运更加贴近市场，符合经济社会的发展要求，让有运输需求的 客户不再需要像以往一样提前去货运站点查看空箱情况，为下一步的“实货”运输做好 准备。
客户自愿选择办理方式。首先，可直接电话联系客服人员办理货运手续、接货运输； 其次，也可到车站营业厅，要求车站代办业务。车站不得以任何理由拒绝客户的代办申 请；最后，还可在网上营业厅申请和提报空箱需求，自助完成货物集装箱运输办理程序。
在网上营业厅办理货运需求的客户，首先进入 95306 网站，首次进入的客户需要进 行注册，客户登陆后，进入营业厅首页，系统根据客户注册信息，默认选择相应的铁路 局公司，此时，客户可以查看各个营业站的业务资料等情况，还可以查看货物的实时运 输信息，客户在点击“我要发货”之后，选择集装箱运输，填写货物信息，点击“提交” 便预定好了空箱，系统就会自动受理货运需求。
在 95306 网站上，客户预定空箱的流程如图 2.1 所示。
图 2.1 客户网上订箱流程
- 17 -

“实货制”下铁路集装箱空箱调运优化研究
货运改革以后，为提高货运服务水平，铁路为客户提供了灵活多样的货物运输的延 伸服务，实现装运货物的“门到门”运输。客户在办理集装箱货运业务时，在订箱的同 时可以根据自身需要，选择单项或全程物流服务，运输服务项目包括专用线发/到、铁路 装卸、上门取货、送货上门等[33]。也因此新增了一些收费项目，有关货运服务项目和费 用名称如图 2.2 所示。
图 2.2 铁路货物延伸服务环节和相关费用性质
“后厂”是指铁路运输系统，“后厂”的工作是完成“前店”受理的货运业务的运 输，“后厂”工作的核心问题是推行“实货制”运输，为“实货”的运输提供可靠运力 保证，“后厂”工作需要铁路运输系统给予强大的运力支持，为此，此次货运改革推行 依据“实货”编制计划、及时组织装车挂运、提高运输组织效率。
(1)依据实货编制计划 “实货制”改革以后，铁路局集团公司依据受理的“实货”编制运输及空箱调运计 划。对于大宗稳定物资，依据运输协议组织好月、旬、日计划，并根据客户的时间需要 调整货物装车计划。对小宗快捷货物的货运需求由电子商务平台系统自动受理，按照受 理时间顺序装车、随到随办、先到先得，自觉接受社会和客户监督。 (2)及时组织装车挂运 铁路局集装箱调度管理部门要根据日班运输计划，及时安排好空箱调运和重箱装车 后的运输工作。可以根据空箱需求的变化规律，以及运输组织的相关经验，提前为站点 准备好适量空箱，保证货物的及时运输。 (3)提高运输组织效率 总公司和铁路局要相互配合，实现运力资源的合理安排均衡配置；实行统一调度指 挥，提高调度指挥水平。对于运力紧张的区段，要更加有效的利用运能，保证全路的运 力水平。各铁路局之间要加强配合，灵活分配运力，做好货运工作。加快信息化建设， 实现全路信息资源共享，为“实货”运输提供信息保障。重点加强限制区段建设，提高 全路路网运输能力。
- 18 -

兰州交通大学工程硕士学位论文
通过以上对于“前店”和“后厂”的分析可以看出，“实货制”改革的一系列措施 都是为了提高自身货运服务质量，带给客户更好地服务，使客户的满意度更佳，这对于 铁路企业的发展是极其重要的，因为，在市场化发展的大环境中，客户是带给企业收益 的源泉，也是企业可持续发展的动力。 2.2.3 铁路集装箱运输业务优化调整
为了保证“实货制”改革顺利进行，铁路对集装箱运输业务进行了调整，目的是优 化铁路局集团有限公司(以下简称铁路局)与中铁集装箱运输有限责任公司(以下简称为 集装箱公司)的关系，处理好两者之间存在的运力资源不均衡分配问题，使铁路运能得 到更有效的利用，提高运输效率，保证铁路在货运改革后的效益问题。
运输业务调整后，集装箱公司负责集装箱的资产管理工作，包括购买新箱、租赁空 箱、维护和报废破损箱等，而集装箱的铁路运输业务则交由铁路总公司及各铁路局经营 管理。其中，铁路总公司对全路集装箱实行统一调度，各铁路局则负责局管内集装箱的 运输组织和经营管理。总公司和铁路局的集装箱调度需要掌握集装箱流、车流的实时运 用状态，并依据集装箱的运用情况、货运的需求变化情况，对铁路局和铁路站点的集装 箱储备量进行适时调整。各铁路局调度负责局管内集装箱的调整，总公司调度则需要负 责局间集装箱调整[40]。
铁路总公司、铁路局集团有限公司、集装箱公司三者的职责分工具体如图 2.4 所示。
图 2.4 业务调整后的职责分工情况
- 19 -

“实货制”下铁路集装箱空箱调运优化研究
2.3 “实货制”改革与集装箱运输业务调整对空箱调运的影响
针对铁路货运改革对空箱调运问题研究产生的新影响进行全面分析，为下一章“实 货制”下空箱调运问题的研究做好理论准备，主要包括对产生空箱需求的货物类型的影 响、对空箱调运时效性和对空箱调运成本的影响。 2.3.1 对空箱需求类型的影响
以往，铁路货物运输以大宗稳定货物作为其主要的运输对象，但是近年来，伴随我 国产业结构的调整和经济增长速度的放缓，运输需求结构发生了明显变化，小宗货物运 输需求增长迅速。并且，在“实货制”改革以后，客户可以在网上自助完成空箱预订， 简化了小宗货物运输办理程序，小宗货物的随机性空箱需求得到进一步满足，也为其提 供了进一步的发展空间。
因此，在货运改革后，想要发挥铁路运能优势，重新取得铁路货运在物流市场中的 优势地位，基于小宗货物随机性需求的空箱调运研究成为关键。 2.3.2 对空箱调运时效性的影响
“实货制”改革以后，铁路货运运输模式从市场服从货运计划转变为依据市场需求 制定运输计划。以客户为主导，以市场为导向，铁路货运逐渐向现代物流化企业迈进。 此次货运改革以后，按照“实货制”划分货物种类，对小宗快捷货物办理方式是依据客 户“实货”需求，随时受理，及时装运，满足客户对货运时效性的要求，空箱不及时到 位将造成客源的流失和效益损失，违背了铁路市场化改革的宗旨。
因此，“实货制”下，在货运运输模式转变以后，与之前市场服从货运计划的运输 组织方式不同，铁路需要依据实货编制运输计划，在这种情况下，铁路货运需要对空箱 调运的时效性进行重点考虑。此外，“实货制”简化了货运办理程序，更需要空箱及时 运到来保证货物运输的时间需求。因此“实货制”与以往的不同是货运的时效性，即空 箱调运更加重视时效，针对空箱调运时效性的研究势在必行。 2.3.3 对空箱运输服务成本的影响
在集装箱运输业务调整前，集装箱公司负责集装箱的运营和管理，集装箱货物运输 带来的收益属于集装箱公司，但公司需要向铁路局支付相关费用，集装箱运输业务调整 后，集装箱公司不再经营集装箱运输业务，铁路局成为集装箱运输的经营者，在这种情 况下，集装箱的运输服务成本由铁路企业自己承担，其中涉及到空箱运输的费用也都是 自己承担。
因此，在集装箱运输业务调整以后，空箱调运成本的计算也会受到相应的影响。
- 20 -

兰州交通大学工程硕士学位论文
综上所述，铁路货运改革以后，空箱调运的主要研究对象是小宗快捷货物的随机性 需求，空箱调运的主要目标是，提高空箱调运的时效性，实现待运货物的及时装箱，保 障服务质量。此外，空箱调运成本作为一直以来的优化目标，此时对成本的优化研究亦 是重要的，调运成本关系到铁路货运的可持续发展，调运成本的降低也可以相应的减少 客户的运输服务费用，增强铁路货运吸引力。
2.4 本章小结
本章对我国铁路集装箱空箱调运发展进行了详细分析，包括空箱调运发展现状、空 箱调运产生的主客观原因及空箱调运的特点以及空箱调运的核心问题等，特别是提到对 铁路集装箱运输业的发展产生重大影响的货运“实货制”改革和集装箱运输业务调整， 详细分析两项改革对于空箱调运问题的影响，改革的目的都是为了破除以往管理体制及 制度对于集装箱运输业发展的束缚，从而使铁路运力得到更高效的利用，提高市场竞争 力。同样，集装箱空箱调运也应该更好地适应新的发展形势下的市场和客户的运输需求， 因此在现阶段空箱调运研究有其必要性。
- 21 -

“实货制”下铁路集装箱空箱调运优化研究
3 “实货制”下铁路集装箱空箱调运相关问题分析
近年来，铁路货运的需求结构发生了明显的变化，大宗货物运输需求降低，小宗快 捷货物运输需求增长。为了适应市场发展，自 2013 年开始铁路货运实行“实货制”改 革，并相继推出了集装箱运输业务优化调整。本章对于空箱调运相关问题的分析都是在 以上两项改革的新背景下进行的。
3.1 “实货制”下的铁路集装箱空箱调运周转流程
以往，客户如果有集装箱货运需求，需要提前去货运站点查看是否有空箱，然后申 请空箱，等待空箱批复时往往需要 3-4 天的时间，最后才能进行货物运输。“实货制” 改革后，有货运需求的客户可以在网上查看空箱情况，如同购买“实名制”车票一样， 客户在电子商务平台上自行预定空箱，极大地简化了办理流程，提高了办理效率。 3.1.1 “实货制”下铁路集装箱货运办理流程
铁路集装箱货运的办理流程主要包括两部分：发送作业流程和到达作业流程。根据 文献[21,33]，将“实货制”下的铁路集装箱货运发送作业和到达作业流程表达如下。
(1)发送作业流程 “实货制”改革后的集装箱货运发送作业流程如图 3.1。
图 3.1 发送作业流程
(2)到达作业流程 “实货制”改革后的集装箱货运到达作业流程如图 3.2。
- 22 -

兰州交通大学工程硕士学位论文
图 3.2 到达作业流程
3.1.2 “实货制”下铁路集装箱空箱调运流程 铁路集装箱在状态上有空箱和重箱两种，并且在这两种状态之间不停地进行转换。
在集装箱运输系统的运转过程中，进行货物运输的每个集装箱不仅在空间上发生位移， 而且在运用状态上历经空箱与重箱之间的往复变化。
“实货制”改革后，客户可以在网上预订集装箱，并且可以根据自身情况选择合适 的物流服务。如果客户申请了上门取货服务，此时，只需等待铁路企业到达客户指定地 点将货物取走后运至集装箱堆场进行装箱，否则，客户需要自行将货物运至集装箱堆场。 如果该集装箱办理站没有足够的空箱供客户使用，则需要向其他的集装箱办理站提出空 箱调运申请。
申请了上门装箱服务的客户，当在站外完成装箱后，首先经过检货、单证处理等手 续后；然后通过汽车运输将该集装箱重箱运送至集装箱堆场；最后，经过集装箱重箱装 车、集结、编组等作业后，班列出发。重箱被直接运往客户指定的到站，或者运至其他 中转站后，经过中转作业继续运输，直至重箱到达目的站点。
当重箱被运至目的站后，首先，使用集装箱装卸机械进行卸箱，然后进行掏箱作业， 等待客户取走货物。如果客户申请了上门卸箱的服务，则铁路企业还需要负责将货物运 送至客户指定地点。此后，重箱再次转变为空箱，卸后空箱可以作为本站自备箱，用以 满足该站点下一个计划期的空箱需求，也可以在满足本站需求的前提下，将剩余部分的 空箱运送到在其他缺乏空箱的集装箱办理站。
此外，在整个集装箱周转流程中，必须要保证集装箱的可用性，因此还需要定期检 查集装箱的运用状态。如果发现集装箱有破损情况，应停止使用，并且及时将破损箱运 至修理点维修。
- 23 -

“实货制”下铁路集装箱空箱调运优化研究
铁路集装箱空箱调运流程如图 3.3 所示[33]。
图 3.3 集装箱调运流程
3.2 集装箱空箱调运周转时间分析
“实货制”改革后，铁路货运对时效性提出了更高的要求，用以保障实货的及时装 箱运输，同时也就对空箱调运的时效性有了更高的要求。由于空箱调运时效性难以量化， 所以本文将对空箱调运时效性的研究，转变为对空箱调运周转时间的研究，并对周转时 间进行定量计算，因此，本节将对集装箱空箱调运的周转时间进行重点分析。
按照“实货制”运输组织方式的不同，可以将货运市场需求分为三种，大宗稳定物 资、客车化产品货物以及小宗快捷货物。全程物流服务业务的实现依赖于客车化产品的 不断完善，由此也为小宗快捷货运市场份额的稳固和发展带去了动力。而实现客车化产 品运输的最好装运方式正是集装箱班列，也是本文的主要研究对象[33]。 3.2.1 集装箱班列在中心站中转作业时间分析
某集装箱班列在某一中心站中转，该班列运送的集装箱在该站的作业包括卸车作 业、集结等待、装车作业等，其作业流程如图 3.4 所示。
图 3.4 集装箱中转作业流程
从上图的集装箱中转作业流程中可以看出，集装箱在中心站的作业停留时间主要包 括以下几个部分：
- 24 -

兰州交通大学工程硕士学位论文

t停车  t到达  t卸车  t集结  t装车  t出发  t等待

(3.1)

我们将集装箱班列在站停留时间中的等待时间忽略，等待时间与管理水平有密切关
联，而 t到达 、t卸车 、t装车、t出发 可以通过经验过程的统计分析或者查表得到，因此，研究 集装箱在站点的作业停留时间的关键是对 t集结 的定量计算。

3.2.2 集装箱班列集结时间分析

关于集结过程的研究，大多数都是研究的货车的集结过程，而且一般情况下，人们 在这方面的研究更偏重于车流径路、编组计划、车流调查等这些车流方面，对集装箱的 集结过程研究较少，在处理模型的时候，通常是将其看作确定的参数。
国际间通用的标准集装箱的单位是 TEU(Twenty-foot Equivalent Unit)。本文只考虑 两种常见的通用集装箱箱型，即 20ft 集装箱和 40ft 集装箱，并且出于对我国集装箱运输 发展现状的考虑，只考虑普通单层集装箱，不考虑双层集装箱。采用集装箱专用车或者 平车装运集装箱，每车都只能装运一个 40ft 箱或两个 20ft 箱。因此，每列车的编成辆数
n0 和编成箱数 m0 (本文中的编成箱数指装运标准箱的数量)之间存在着明确的数学换算
关系。 在一般情况下，运行列车的编成箱数需要满足区段牵引质量的要求，除此之外，还
受到其途经路线中各办理站到发线有效长度的限制，通常，区段牵引质量都可以满足列 车满编的要求，因此，在相同的经由径路上，列车编成箱数主要受到途经各段到发线有 效长的限制，而在很长一段时间内，到发线有效长是不变的，因此列车在同一经由径路
上编成箱数是相同的。并且，本文在建模阶段使用 m0ij 表示不同区段(即空箱供给站i和需
求站 j 之间的运行区段)的集装箱编成箱数(换算成 20ft 标准箱)。 文献[41-43]认为集装箱流的到达是随机过程，每次到达是一个或者一批，相邻两次到
达之间没有影响，箱流的到达是一个简单的计数过程，可以认为是点过程，并且满足齐 次泊松分布，而每次到达箱数也是随机的，最少为一个箱，最多为 m0  1 个箱。假设集 装箱流到达数量收敛于期望值 u ，到达时间间隔服从指数分布，通过给每一个到达箱流 都赋一个辅助的随机变量来表示到达箱数，则可以将集装箱到达过程视为标值点过程。
结点站上，假设，T 时间内参与某方向集结的集装箱来自于有限的总体 N ，班列的编成 箱数为 m0 。通常，不能保证 N 是 m0 的整数倍，但是对于过程的研究，循环过程或者随 机生灭过程，都需要该过程的初、末状态互相重合。进行理论研究时，通过对时间T 的
选择来消除影响，在实际工作中，对于未重合部分，可以通过运输组织水平的提高来取 消其对循环周期的箱数积累影响。在此基础上，推导演算出平均每个集装箱所消耗的集

- 25 -

“实货制”下铁路集装箱空箱调运优化研究

结时间的计算公式为：

t集结  T / 2N (m0  u)

(3.2)

式中，T ：集装箱集结时间的研究周期，即某方向上到达 N 个箱对应的时间； N ：周期内某方向上到达集装箱总数，且 mod(N,m0)=0； m0 ：集装箱班列满编时的编成箱数； u ：集结时每次到达箱数的期望值。

3.3 空箱调运成本分析

本文中空箱调运的广义成本由三部分成本组成：空箱运输服务成本、时间成本(包 括空箱堆存成本和企业信誉损失成本)以及租箱成本。

3.3.1 空箱运输服务成本分析
由第二章知道，2013 年铁路对集装箱运输业务进行了调整，相应的集装箱运输服务 费用也发生了变化。因此，为了理清集装箱空箱运输费用的组成，首先要认识业务调整 前的空箱运输成本的组成，然后再对集装箱运输业务调整后的空箱运输服务成本的组成 进行分析。
(1)集装箱运输业务调整前的空箱运输服务成本组成 在集装箱业务调整前，中铁集装箱运输公司(以下简称集装箱公司)与铁路局集团有 限公司(以下简称铁路局)两者是平等的市场主体间的关系，集装箱运输业务由集装箱公 司自己负责，集装箱货运产生的收入也属于集装箱公司，但由于在运输集装箱的过程中 使用了铁路运力资源，需要向铁路局支付相应费用，包括：①机车牵引费；②线路使用 费；③承运及发送服务费；④中转服务费；⑤到达服务费；⑥车辆挂运费(包含弥补线 路使用费以及弥补机车牵引费)；⑦车辆编解服务费；⑧车辆租用费；⑨其他服务费等。 这 9 项费用中，承运及发送服务费、中转服务费、到达服务费只与调运的空箱数量有关， 在空箱调运总量一定的情况下，这 3 项费用是定值，与空箱调运方案的选择没有直接关 系。因此，本文的空箱调运成本只考虑机车牵引费、线路使用费、车辆租用费、编解服 务费、车辆挂运费。 (2)集装箱运输业务调整后的空箱运输服务成本组成 在铁路总公司对集装箱运输业务进行调整之后，铁路局成为新的集装箱运营的主 体。由于集装箱公司不再经营集装箱运输业务，也便不再需要向铁路局支付相关的铁路 运输费用，铁路局需要自己负责集装箱运输的盈利或者亏损，空箱调运的成本也由自己

- 26 -

兰州交通大学工程硕士学位论文

负责。虽然铁路局不需要向自己支付空箱调运费用，但是空箱调运的成本仍然是客观存 在的。
上一步分析了集装箱运输业务调整前的运输成本构成，得到与空箱调运方案的选择 有关的成本包括机车牵引费等 5 项，其中车辆挂运费是其中两项费用的弥补费用，在此 不做分析，参照文献[44]对集装箱运输过程中相关费用的分析，主要对其余 4 项与空箱调 运相关的运输作业服务成本进行分析。
①机车牵引费与列车总重、运行距离相关，按总吨公里计算，机车牵引费计算公式 为：

C 牵   牵（ M 机  M 空） Lij

(3.3)

式中， 牵 ：机车单位吨公里牵引费，元/t·km； M 机 ：机车车辆自重，t； M 空 ：空箱自重，t； Lij ： i、j 两站之间使用机车牵引运行的里程数，km。
②线路使用费与装运空箱的车辆数、运行距离、线路等级相关，按辆公里计算，线 路使用费计算公式为：

 C线 



k 线

N

车

Lkij

k

(3.4)

式中，



k 线

：表示在不同等级的线路运行时，单位辆公里的线路使用费，元/辆

km；

Lkij ：车站 i、j 之间包含的不同等级线路的相应运行距离，km；

N车 ：装运空箱的车辆数，辆。不同箱型的计量方法不同，若为 20ft 集装箱 空箱，则 N车=Xij / 2 ；若为 40ft 集装箱空箱，则 N车  Xij ；其中，X ij 为
i、j 两办理站之间的空箱运量；

③车辆使用费与使用车辆的数量、相应的车辆使用时间相关，车辆使用费计算公式

为：

C车



 车



N车

T使

(3.5)

式中， 车 ：单位辆日的车辆使用费，元/辆日； N车 ：使用车辆数，辆； T使 ：使用车辆天数，日。

- 27 -

“实货制”下铁路集装箱空箱调运优化研究

④编解服务费是在车列或车辆经过技术站，进行解体编组作业时产生的费用，与编 解次数及办理车辆数(辆)有关，解编服务费计算公式为：

C编  编  N车  N编

(3.6)

式中， 编 ：每辆车的单次解编服务费，元/辆次； N编 ：解编次数，次； N车 ：办理解编作业的车辆数，辆。
通过对以上 4 项空箱运输费用的分析，可以看出，影响空箱运输成本的主要因素是： 空箱运输距离、运输的空箱数量以及单位距离的空箱运输服务费用。因此，本文在建模 阶段将空箱的运输服务成本简化为线路使用费和机车牵引费，将这两项费用之和作为空 箱运输服务成本。

3.3.2 时间成本分析

集装箱空箱的时间成本是指，由于空箱不及时调运到空箱需求站而造成的铁路企业 信誉损失，将这部分信誉损失作为空箱调运过程中成本损失的一部分计入空箱调运成 本，并将其称为时间成本。在分析空箱调运的时间成本之前，首先要认识集装箱空箱的 用箱时间限制，即时间窗的概念。
(1)用箱时间限制 客户的装箱需求一般是有一定的时间要求的，客户可以预订某天或者某段时间的空 箱。客户用箱的时间要求就是时间窗限制。尤其是铁路为了适应货物运输发展形势，提 高货运服务质量，增强自身市场竞争力，实行了货运“实货制”改革，在改革的新形势 下，要求实现货物的及时装运，从而满足客户对于铁路集装箱空箱在用箱时间上的需求。 因此，在“实货制”改革以后，铁路将更加注重对客户用箱时间需求的满足，也就对空 箱的运到时间提出了更高的要求。 一般情况下，我们可以根据时间窗限制的严格程度，将时间窗划分为两大类，即硬 时间窗限制和软时间窗限制。硬时间窗限制是指，空箱必须严格限定在时间窗范围内到 达需求站，否则的话，客户将直接拒绝该服务；软时间窗限制指的是，空箱可以不在要 求的时间窗限制内到达，但是，空箱过早或者过晚到达需求站时将会给铁路企业带来一 定的损失。 通常，时间窗用时间段来表示，本文中使用区间[e,l] 来表示时间窗，其中 e 表示的 是空箱的最早到达时间， l 表示的是空箱的最晚到达时间。空箱在该时间段内及时到达 需求站时没有成本损失，当空箱早于该时间段到达时，产生在该站的空箱堆存费用，当

- 28 -

兰州交通大学工程硕士学位论文

空箱晚于该时间段到达时，产生企业信誉损失成本。 (2)时间成本 前文已经阐述过时间窗约束包括硬时间窗约束和软时间窗约束，由于硬时间窗约束
带来的损失不容易量化计算，所以，本文在建模时只考虑软时间窗约束。 将空箱早到所产生的库存成本和空箱晚到所产生的信誉损失(或者叫信誉惩罚成本)
统一称为时间成本，在空箱调运过程中，将空箱过早到达、准时到达、以及过晚到达所 引起的时间成本做如下假定：
①实际的铁路集装箱运输工作中，通常以天为单位，计算空箱堆存费，考虑到本文 建模的需要，空箱库存费用按小时进行计算；
②空箱早到或者晚到的时间成本损失与早到或者晚到的时间长度正相关，且呈线性 关系，对时间成本损失按小时进行计算；
③如果空箱在时间窗内准时到达，则不产生时间成本。 单位空箱的时间成本损失的函数表法式定义如下：

 p(e  t)，t  e

f (t)  0，e  t  l

(3.7)

q(t  l)，t  l

式中，f (t) 为空箱早到或晚到的时间成本损失，其中区间[e,l] 表示运到时间窗，t 表 示空箱到达的时间， p 表示空箱的单位堆存费，单位为：元/箱小时，q 表示空箱晚到的 单位信誉成本损失，单位为：元/箱小时。单位空箱时间成本损失函数也可以由以下表达 式统一表示：

f (t)  p max{e  t, 0}  q max{t  l, 0}

(3.8)

3.3.3 租箱成本分析

如果出现，在某一时期内铁路集装箱空箱的需求量突然增加的情况，铁路空箱不能 对这一部分需求进行及时满足。由于无法及时应对这一变化，铁路企业就会向当地第三 方集装箱租赁企业租用空箱，尤其是在货运改革实行以来，铁路为了提高货物运输服务 质量，会尽量的满足客户货物的装箱需求，租箱将作为应付急需的选择之一。
租箱方式很多，通常根据租期的长短可分为长期租和短期租。长期租箱，是指有一 段较长的租用期限，而短期租箱是指根据租用期限的长短来确定租赁费用，另外还有其 他的租赁方式，如灵活租箱和按日租赁。可以看出，无论是哪种租赁方式，一般租赁费 用与租用箱数以及相应的租用时间有关，因此按箱日进行计算。

- 29 -

“实货制”下铁路集装箱空箱调运优化研究

租箱成本的计算方法如式 3.9 所示：

C租箱



 租



N箱

T租

(3.9)

式中， 租 表示空箱的单位租用费，单位元/箱日， N箱、T租 分别表示租用空箱数量
和租用时间。 算例求解部分区分不同箱型的集装箱(如 20ft 集装箱空箱和 40ft 集装箱空箱)，设置
适当的单位空箱租赁费用，对空箱的租用时间不做具体的考虑。租赁的空箱在进行货物 运输之前，不考虑租箱成本以外的费用支出问题，比如租赁空箱从租出地运往使用地的 短途运输费用等。

3.4 空箱需求随机性分析

3.4.1 空箱随机性需求
系统内的空箱需求包括两种，确定性需求和随机性需求。确定性空箱需求就是由那 些与铁路长期保持运输关系的客户带来的装箱需求，这部分客户的货运需求比较稳定， 因此，确定性空箱需求的变化波动比较小，铁路可以在决策期初，通过分析以往的货运 合作经验得到，即这一部分需求是可以预知的；相对应的，随机性空箱需求是由那些临 时预订空箱的客户带来的，他们的需求是随机产生的，与市场经济的变化密切相关，所 以，这一部分需求是最难确定的，是造成铁路货运计划时刻变动的重要原因。
由于客户空箱需求的随机性等原因的存在，造成空箱的需求和供给是不平衡的，因 此任何时候，总是会有空箱富余的办理站和空箱不足的办理站，即总是存在供给站和需 求站。由于这种不平衡的存在，才会产生空箱由供给站向需求站的流动。实际工作中， 集装箱办理站是空箱供给站还是需求站是随时间变化的，它们在这个时期是供给站，而 在下一个时期可能就是需求站。但是，在一个确定的时期内，我们必须明确的知道空箱 的需求站和供给站情况，在这一期间，空箱供给站和需求站是固定的，我们就是在这样 的基础之上进行空箱调运计划安排的。
3.4.2 机会约束规划
考虑到空箱需求量由于受到市场等不确定因素的影响是随机量的情况，本文建立空 箱调运随机机会约束模型。
机会约束规划(Chance-Constrained Programming)，简称 CCP：1959 年，Charnes 和 Cooper 最先提出属于随机规划范畴内的机会约束规划[45]。该规划主要针对约束条件中含 有随机变量的情况，且必须在观测到随机变量的实现之前做出决策的情况，其最为显著

- 30 -

兰州交通大学工程硕士学位论文

的特点是，允许决策者做出的决策存在一定的不满足约束条件的可能性，但应该保证他 做出的决策满足约束条件的概率大于某一个给定的概率值，这个概率值被称为随机机会 约束规划的置信水平或者叫作置信度。
含有随机机会约束的最小化问题的基本形式为：

min f (x)

s.t.

 

Pr

gi

(x,

)



0,

i



1,

2, ...k 





(3.10)

式中， x 为 n 维决策向量； f (x) 表示目标函数； g (x, )  0(i  1,2,..., k ) 表示随机约束函数； Pr {g} 表示{ g } 中的约束条件成立的概率；  表示预先设置的约束条件成立的置信水平。

3.4.3 空箱需求随机机会约束 假设，各集装箱空箱需求站的需求量里面存在一个随机变量  j ，以及各需求站的需
求量得到满足的置信水平 j ，由此，各需求站的空箱需求箱数的随机机会约束可以表示 为：

m
 Pr{ xij  N j  Dj ( j )}   j i1

(3.11)

式中， xij 表示车站 i 运至车站 j 的空箱供应量； Dj 表示车站 j 的空箱需求量； Nj 表示车站 j 的租用空箱量；  j 表示车站 j 的空箱需求量中含有的随机变量，服从正态分布。
尽管这种不确定性是很难预测的，并且随时都有发生变化的可能，但是我们通过分 析站点最近几年空箱需求量数据的发展变化规律，还是可以得到该站的集装箱空箱需求 数量能够达到约束条件的概率水平，也就是说该站所需求的集装箱空箱数量总是能满足
某一概率，这就是所谓的置信水平（0  1），本文在运算阶段，这一变量是在符合
运输现状的条件下自己给定的，并且各个站的置信水平可以设置不同的概率值。

- 31 -

“实货制”下铁路集装箱空箱调运优化研究
3.5 本章小结
本章在“实货制”改革及集装箱运输业务调整的新背景下，对于空箱调运问题进行 详细分析。在货运改革后，客户的随机性空箱需求不断发展，并且对用箱时效性的要求 进一步提高。因此，在建模时应该针对这两个方面展开研究。首先，针对空箱的随机性 需求，引入机会约束规划，将空箱需求站的需求量看作随机变量；其次，重点分析集装 箱的在站作业时间，通过对其组成部分的研究，得出集装箱在站停留时间中与空箱调运 方案的选择有密切关系的主要时间因素是集装箱集结时间，并得出集结时间的计算方 法；最后，针对空箱调运成本，得出合理的成本构成包括 3 部分，空箱运输服务成本、 租箱成本和时间成本，其中空箱运输服务成本为线路使用费和机车牵引费之和，时间成 本是由于空箱不及时调运到站造成的，并使用软时间窗对空箱的运到时间进行限制。
- 32 -

兰州交通大学工程硕士学位论文
4 “实货制”下铁路集装箱空箱调运模型建立
4.1 模型假设
铁路运输系统是一个复杂的网络，运输组织形式多种多样，加之集装箱运输又有诸 多的特殊性和限制性，所以，在建立铁路空箱调运模型时，为了更清晰的描述问题，需 要将模型简化，以抽象出现实问题的一般情况，本文假定并满足以下原则：
(1)仅考虑两种使用较多的集装箱箱型，20ft 集装箱和 40ft 集装箱，并且在调运过程 中，20ft 箱和 40ft 箱不可以相互代用；
(2)将 20ft 箱与 40ft 箱分类计算成本。虽然在实际装车过程中一个 40ft 箱和两个 20ft 箱可以替代，但是两个 20ft 箱的运输成本要略高于一个 40ft 箱的运输成本，所以，分类 计算 20ft 箱与 40ft 箱可以得到更合理准确的运输成本；
(3)假定集装箱运输车辆总是充足的，即存在空箱能立即有空车装运； (4)只考虑单一运输方式，即在集装箱站点之间只分析铁路运输方式，这也是目前铁 路空箱调运采用最多的运输方法； (5)每个供给站产生的空箱数量已知，各需求站需求量未知，但根据前文的分析可知， 其数量满足一定的概率分布规律； (6)集装箱空箱、重箱或者空重混编的箱流集结成班列的形式在营业站间调运； (7)不存在转运现象，空箱在供应地和需求地之间进行直达运输，本文的研究对象是 集装箱中心站，由于货流量大并且稳定，中心站间主要开行集装箱班列，为直达运输。 即使现实中有转运现象的存在，但在本文模型中也不考虑，只认为空箱的调运是直接从 供应地向需求地运输的； (8)同一 OD 上的集装箱空箱流，必须在同一条径路上完成运输，同一种箱型在同一 线路或平行线路上不允许对流； (9)在调运的空箱数量不能满足本站需求的情况下，空箱需求站会向第三方企业租用 空箱； (10)各集装箱办理站的运输需求互不影响、相互独立。
4.2 模型变量定义
(1) x ：表示 20ft 集装箱； (2) y ：表示 40ft 集装箱； (3) A、B ：分别表示空箱供给站和需求站的集合；
(4) aix、aiy ：分别表示供给站i拥有的 20ft 和 40ft 集装箱空箱数量 (i  1,2,..., m) ；
- 33 -

“实货制”下铁路集装箱空箱调运优化研究
(5) bjx、bjy ：分别表示需求站 j 需要的 20ft 和 40ft 集装箱空箱数量 ( j  1,2,..., n) ；
(6) xij ：表示供给站i运往需求站 j 的 20ft 集装箱空箱数量； (7) yij ：表示供给站i运往需求站 j 的 40ft 集装箱空箱数量； (8) tij、tij ：分别表示供给站i发送至需求站 j的集装箱班列出发和到达时刻； (9) tij ：表示供给站i和需求站 j 之间的在途运输时间；
(10) ej、l j ：分别表示需求站 j 的空箱最早、最晚到达时间，即空箱需求时间窗； (11) N jx、N jy ：分别表示需求站 j 租用 20ft 和 40ft 空箱量； (12) jx、jy ：分别表示需求站 j 租用 20ft 和 40ft 空箱的单位空箱租用费； (13)T租 ：表示租用空箱的时间，模型计算时假定为定值且已知；
(14)Uij ：表示供应站i与需求站 j 之间的空箱运输能力； (15) jx、 jy ：分别表示空箱需求站 j 的 20ft 和 40ft 空箱需求量所含的随机变量； (16) jx、 jy ：表示相应的随机约束成立的置信水平； (17) m0ij ：表示供应站i发送至需求站 j 的列车编成箱数； (18)T ：表示班列的集结时间计算周期； (19) N ：表示集结周期内到达的总箱数； (20) u ：表示集结过程中箱流到达数的期望值。 4.3 双目标分析与模型建立
4.3.1 双目标分析 根据第三章的分析可知，本文所建模型的优化目标有两个，包括空箱调运周转时间
和空箱调运成本，本节将对模型的两个优化目标进行详细分析。 (1)集装箱空箱调运周转时间 “实货制”下，需要对客户的时间需求进行重点考虑，及时满足客户的装箱需求，
这就需要加快集装箱周转，提高它的使用效率，所以本文将集装箱的周转时间作为空箱 调运的优化目标之一。
集装箱空箱调运周转时间包括集装箱的在站停留时间和在途运输时间。 ①第一部分，在站停留时间，根据前一章的分析可知，集装箱的在站停留时间除集 结时间外，其余作业时间主要会受到运输组织水平的影响，空箱调运方案的选择对这部
- 34 -

兰州交通大学工程硕士学位论文

分作业时间的长短不存在直接的影响，所以，本模型主要考虑对集装箱在站集结时间的 分析计算，最后根据前文中得出的集装箱在站集结时间计算公式，得出决策周期内，集 装箱在站停留过程中，总的集结时间为：

mn
 T集总  T (m0ij  u) / 2N  （m0ij  xij  2yij ) i1 j1

(4.1)

②第二部分，集装箱空箱在运输途中花费的总时间，由于运输线路不同时，运输时 间是不同的。所以，空箱的在途运输总时间，可以用运输的空箱数量与相对应的运输时 间的乘积来表示。模型假定在运输途中，集装箱班列以匀速运行，则线路里程与运行时 间成正比例关系，所以集装箱在途运输时间可表示为：

mn

 T途总 

(xij  2yij )tij

i1 j1

(4.2)

式(4.2)表示空箱调运数量与其对应的在途运输时间积的总和，即空箱调运在途消耗 的总时间。
综上，由于空箱调运周转时间是在途运输时间和在站作业时间之和，最后，根据式 (4.1)和式(4.2)得到空箱调运周转时间的最小化目标函数为：

mn

mn

  minT总  T (m0ij  u) / 2N  （m0ij  xij  2yij ) 

(xij  2yij )tij

i1 j1

i1 j1

(4.3)

上式表示集装箱空箱调运周转时间，第一部分表示在站集结时间，第二部分表示在 途运输时间。
式中，T 是一个已知的固定数值，N 表示集结时间内到达集装箱总量，m0ij 为集装箱
班列编成箱数，是已知量， u 表示集结过程中箱流到达箱数的期望值，所以
T (m0ij  u) / 2N 是一个具体的数值。 (2)集装箱空箱调运成本 由第三章对集装箱调运成本的分析，得知空箱调运成本为：空箱的运输作业服务成
本、时间成本和租箱成本。其中，空箱的运输作业服务成本包括线路使用成本、机车牵 引成本。
综上所述，集装箱空箱调运成本由四部分组成，即线路使用费、机车牵引费、时间 成本以及租箱成本。总结前一章对于各项调运成本的分析结果，可得空箱调运的成本最 小化目标函数为：

- 35 -

“实货制”下铁路集装箱空箱调运优化研究

   min Z



m i 1

n j 1

(

12xij



y ij )



k

mn

k Likj 

 牵(M 机  xij  M x  yij  M y)Lij

i1 j 1

   n

mn

 ( jx N jx   jy N jy )T租 

xij

(

px

max{e



t

ji,

0}



qx

max{t

i j



l,

0})

j 1

i1 j 1

 

yij

(

py

max{e



t

i j

, 0}

qy

max{t

i j



l,

0})

(4.4)

上式表示空箱调运成本最小化目标函数，其中，第一部分表示线路使用费；第二部 分为机车牵引费；第三部分为租箱费用；第四部分为时间成本。

4.3.2 模型建立
“实货制”下，基于随机机会约束的双目标空箱调运优化模型建立： (1)目标函数： ①空箱调运成本最小化目标函数

   min Z



m i 1

n j 1

(

12xij



y ij )



k

mn

k Likj 

 牵(M 机  xij  M x  yij  M y)Lij

i1 j 1

   n

mn

 ( jx N jx   jy N jy )T租 

xij

(

px

max{e



t

ji,

0}



qx

max{t

i j



l,

0})

j 1

i1 j 1

 

yij

(

py

max{e



t

i j

, 0}

qy

max{t

i j



l,

0})

(4.5)

②空箱调运周转时间最小化目标函数

mn

mn

  minT总  T(m0ij  u) / 2N  （m0ij  xij  2yij ) 

(xij  2yij )tij

i1 j1

i1 j1

(4.6)

式(4.5)和(4.6)表示模型的两大优化目标。其中，式(4.5)表示模型的目标函数之一， 为集装箱空箱调运成本最小化目标函数，该目标函数有四个组成部分，分别为线路使用 成本、机车牵引成本、租箱成本和时间成本；式(4.6)表示模型的目标函数之二，为集装 箱空箱调运周转时间最小化，这一目标函数有两个组成部分，第一部分为班列在站集结 时间，第二部分为班列在途运输时间。
(2)约束条件： ①从供给站 i 运出的 20ft 空箱数量不能超过该站可供应的 20ft 空箱总量

n
 xij  aix；i  1,2,...,m
j1

(4.7)

- 36 -

兰州交通大学工程硕士学位论文

n
 xij 表示供给站 i 运出的 20ft 空箱的数量。
j 1

②从供给站 i 运出的 40ft 空箱数量不能超过该站可供应的 40ft 空箱总量

n
 yij  aiy；i  1,2,...,m
j1 n
 yij 表示供给站 i 运出的 40ft 空箱的数量。
j 1

(4.8)

③空箱需求站 j 的 20ft 空箱需求量随机机会约束

m
 Pr{ xij  N jx  bjx ( jx )}   jx；j 1, 2,..., n i1
bjx( jx) 表示空箱需求站 j 的 20ft 空箱需求量含有一个随机变量 jx ；  jx 表示相应的随机约束成立的置信水平。
④空箱需求站 j 的 40ft 空箱需求量随机机会约束

(4.9)

m
 Pr{ yij  N jy  bjy ( jy )}   jy；j 1, 2,..., n i1
bjy ( jy ) 表示空箱需求站 j 的 40ft 空箱需求量含有一个随机变量 jy ；  jy 表示相应的随机约束成立的置信水平。
⑤时间约束

(4.10)

t

i j

 tij

 tij

 T (m0ij

u) / 2N

 (m0ij



xij

 2 yij ) 

Lij

vij

(4.11)

⑥空箱运输能力限制约束

xij  2yij  Uij，i  1,2,...,m，j  1,2,...,n

(4.12)

约束(4.12)表示计划期内供应站 i 运到需求站 j 的空箱总数不能超过这两个站点间

的空箱运输能力Uij 。模型以 20ft 标准箱的数量来衡量站点间的空箱运输能力，则一个

40ft 箱可以换算成两个 20ft 箱。

⑦非负限制及整数约束

xij  0, yij  0, aix  0, aiy  0, bjx  0, bjy  0, N jx , N jy  0 xij，yij，aix，aiy，bjx， bjy， N jx， N jy  N i  1, 2,..., m，j  1, 2,...n

(4.13)

- 37 -

“实货制”下铁路集装箱空箱调运优化研究
约束条件①②表示从供给站 i 运出的 20ft 和 40ft 空箱数量不能超过该站相应箱型的
空箱拥有量；约束条件③④表示需求站 j 的 20ft 和 40ft 空箱的需求量分别含有一个随机 变量，即该站的需求量是不确定的，两个均为随机机会约束；约束条件⑤时间约束；约 束条件⑥空箱的运输数量必须限制在空箱运输能力之内；约束条件⑦因为这是实际的运 输问题，所以必须限制以及决策变量(即供需箱数、调运箱数以及租用空箱数量)的非负 性，并且必须是整数。
4.4 本章小结
本章以空箱调运成本和空箱调运周转时间为优化目标，在空箱需求站需求量随机的 情况下，建立了“实货制”下的铁路空箱调运双目标优化模型。针对空箱的随机需求， 使用机会约束，将各站的空箱需求量视作随机变量，且该变量满足一定的置信水平。引 入时间窗约束，起到限制空箱运到时间的作用，实现货物的及时装运。采用租箱策略以 尽可能满足随机需求客户的所有用箱需求，提高运输服务质量。模型对于周转时间的优 化，有利于提高集装箱周转速度，使集装箱得到更高效的利用，从而降低铁路企业经营 成本，变向地减少客户的运输费用，保障客户权益。而在调运成本目标中引入时间成本 亦能起到增强空箱调运时效性，降低周转时间的作用。模型符合铁路货运改革的要求， 对于提高运输服务质量，降低企业运输服务成本具有一定的现实意义。
- 38 -

兰州交通大学工程硕士学位论文
5 空箱调运模型算法设计与算例分析
5.1 算法设计
本文建立的是基于随机机会约束的双目标优化模型，算法设计的特殊性主要在于对 机会约束的考虑和对双目标模型的优化，如何设计模型的求解算法才能得到更为优越的 解是算法设计时需要重点考虑的。
5.1.1 机会约束规划 求解机会约束规划问题的方法大致可以分为两种。第一种是将机会约束规划转化为
其确定的等价形式，然后求解等价确定式，但是这种方法只适用于一些特殊情况，比如， 模型的目标函数是线性表达式且所含变量服从正态、指数或者均匀分布[46]，以及某些特 殊的非正态系数机会约束规划[47-48]；对于较复杂的机会约束规划，由于无法求出变量的 分布函数，则需要采用第二种方法求解，逼近法，结合随机模拟、神经网络与智能算法 来求解，其中以遗传算法最为成功[49-52]。算法基本思路为结合随机模拟和神经网络来逼 近不确定函数约束，得到其近似函数，最后将神经网络嵌入遗传算法，并利用遗传算法 的遗传迭代，得到机会约束规划的最优解。
5.1.2 多目标优化模型 目标优化问题，即通过优化算法得到目标函数的最优解。如果优化问题只有一个目
标函数，就叫作单目标优化，如果有两个及以上目标函数，就叫作多目标优化。单目标 优化问题通过求解可以得到其有限解，而多目标优化问题通常不能得到一个使得所有目 标函数都达到最优的解，所以一般会得到一组均衡解，或者称为 Pareto 最优解，又称为 非劣解，或者 Pareto 解、有效解。这些解具有的一个特征是：一个目标函数值的优化， 必然会使得其他至少一个目标函数值优越性的降低。
多目标优化算法大致可以分为两种，传统优化算法和智能优化算法。使用传统优化 算法求解时，每次仅可得到 Pareto 解集中的一个，而使用智能优化算法，则能够得到多 个 Pareto 解，即 Pareto 最优解集，或者 Pareto 最优域[53]。
根据选择算法的不同，遗传算法也可以分为两种。第一种是，基于线性加权的遗传 算法。这种遗传算法的思路简单，就是通过线性加权，将多个目标转化为单目标，然后 应用遗传算法求解该单目标问题，因此可以说，基于线性加权的算法并不能实现真正意 义上的多目标优化。第二种是，基于 Pareto 排序的遗传算法。基于 Pareto 排序的遗传算 法是根据个体的支配与被支配关系进行子代个体的选择，此时的适应度函数不同于以往 的对多个目标进行线性加权，而是将多个目标分别进行比较排序，是真正意义上的多目
- 39 -

“实货制”下铁路集装箱空箱调运优化研究
标优化。 本文建立的是双目标优化模型，在多目标优化问题上，遗传算法具有一定的优势，
深入学习遗传算法之后，本文选择采用适于求解多目标优化问题的带有精英策略的非支 配快速排序遗传算法，即 NSGA-II 算法，又叫作多目标遗传算法，来求解模型。 5.1.3 NSGA-II 算法介绍
NSGA-II，即带有精英策略的非支配快速排序遗传算法。NSGA-II 是在常规遗传算 法上的改进，是基于遗传算法的多目标优化算法，为求解多目标优化问题提供了很好的 思路，是多目标遗传算法[54]。 算法的关键步骤有三步：
(1)快速非支配排序 非支配排序是根据个体的支配关系进行的，所以，首先要了解支配或者占优的概念。 在一个多目标问题中，目标函数是 F(x)  (F1(X ), F2 (X ),..., Fk (X ))，(k  2) ，优化的目的是 实现 k 个目标函数值的最大化。假定 x0, x1 是解空间 X 中的两个解。若满足：其一， i [i, k]时， Fi (x0 )  Fi (x1) 成立；其二，i [i, k] ，使得 Fi (x0 )  Fi (x1) 也成立，则解 x0
支配 x1。
掌握支配的概念以后，就可以进行非支配排序了。非支配排序的过程就是根据支配 与非支配关系对种群进行分层，即种群分层。对于上述优化问题，假定种群规模为 N ， 种群分层的步骤为：
①设 i  1； ②对于所有的 j  1,2,..., n 并且 j  i ，依据支配关系的定义，比较两个体 xi 和 x j 之间 的支配与非支配关系； ③如果找不到可以支配 xi 的个体 x j ，则将 xi 标记为非支配个体； ④令 i  i  1，转至第②步，直到 i  n ，这样就会得到种群中的所有非支配个体。 经过以上步骤，就可以得到一组非支配个体集，将它们标记为第一级非支配层；然 后，忽略已经得到的个体，对于种群剩余部分的个体，重复步骤①-④，我们再一次得 到一组个体集，并将它们标记为第二级非支配层，依此进行下去，直到整个种群的所有 个体都被标记上相应的非支配层结束，这样，整个种群分层完成。 (2)个体拥挤距离 对于处于同一非支配层的个体，优先选择拥挤距离较大的个体，使得能够选择到在 目标空间上分布更加均匀的个体解，因此，我们需要计算每个个体的拥挤距离，个体拥 挤距离的定义为：
- 40 -

兰州交通大学工程硕士学位论文

Ld [i]  Ld [i]  (Lm[i 1]  Lm[i 1] ( fm max fm min)

(5.1)

式中，Ld [i] 表示第 i 个个体的拥挤距离，Lm[i 1] 表示第 i 1个个体的第 m 个目标函
数的值， fm max 和 fm min 分别表示个体集合中第 m 个目标函数的最大和最小值。 (3)精英策略 首先，将父代中产生的表现较好的个体保留下来，直接进入子代，保证优秀个体不
会因为染色体的交叉操作而使最优解遭到破坏，造成获得的 Pareto 最优解丢失。其次， 将精英策略保留下来的优秀父代个体集与本次产生的子代个体种群合并，之后对合并后 的新种群进行快速非支配排序，并将排列好的个体作为新的父代。
NSGA-II 是对传统遗传算法的改进，更适用于求解多目标优化问题，算法可以得到 Pareto 解的集合，而不是一个 Pareto 解，因此需要鼓励解的多样性，NSGA-II 算法在这 一方面的做法是，在非支配排序完成的基础上，计算每一非支配层上的个体拥挤距离， 使得处于同一支配等级上的个体，拥挤距离较大的优先被选择，使得算法能够更大程度 的选择较为分散的个体，保证了个体的多样性，避免了优秀解的丢失以及算法早熟现象 的发生。

5.1.4 混合智能算法
对于模型的求解，参照文献[55-56]关于随机机会约束规划问题的求解方法，结合本文 所建模型的特点，初步设计了适合求解本文所建模型的算法，即混合智能算法。对于混 合智能算法，文献[57]有了更为深入的研究，并设计了适用于解决更为复杂的机会约束规 划问题的算法，该算法结合随机模拟、神经元网络和遗传算法。
在借鉴前人研究的基础之上，综合考虑本文双目标优化模型的需要，引入 NSGA-II 双目标遗传算法，设计了更为适用的求解算法。
NSGA-II 算法的基本思路为： 首先，初始化种群，种群规模为 N ，种群非支配分层，同时对处于同一非支配层中 的个体计算拥挤距离，对于处于不同非支配层的个体，选择非支配等级较高的，而对于 处于相同非支配层的个体，则选择个体拥挤距离更大的，对选出的个体进行染色体交叉、 变异得到第一代子代种群；其次，自第二代开始，合并父代与子代种群，并对得到的新 种群进行快速非支配排序，同样的，排序后对处于相同非支配层的个体计算拥挤距离， 根据支配与非支配分层关系以及个体的拥挤距离选择合适的个体作为新的父代种群；最 后，经过遗传算法的交叉、变异，产生新的子代种群。依此不断地进行遗传迭代，直到 满足程序结束的条件[58]。 掌握 NSGA-II 多目标遗传算法思想之后，对结合了随机模拟、神经元网络以及

- 41 -

“实货制”下铁路集装箱空箱调运优化研究
NSGA-II 算法的混合智能算法进行详细分析，该混合智能算法思路如图 5.1 所示。
图 5.1 混合智能算法工作原理流程图
从流程图中可以看出，该混合智能算法是一个神经网络的循环训练过程，并在神经 网络的训练过程中，将神经网络嵌入 NSGA-II 多目标遗传算法，利用遗传算法的交叉变 异操作求得最优解。
算法思路：首先，通过随机模拟产生求解不确定函数的基本输入数据，然后将一个 输入数据看作是一个神经元输入，初始产生 Pop _ size 个染色体，经过给定次数的遗传 迭代，得到不确定函数的输出形式，将其作为神经元输出，通过权重方式形成一个神经 元结构，通过神经网络的逆向传播过程，神经元网络的权重不断得到更新，神经元网络 不断得到学习，并依此循环，直到完成给定的训练次数，同时，在遗传迭代的过程中，
- 42 -

兰州交通大学工程硕士学位论文

使用训练好的神经网络，检测初代和后代个体的可行性，选择出更合适的个体进行迭代 运算，以逐渐的向不确定函数逼近，得到最好的解，经过给定次数的遗传迭代，就可以 得到最优解。
这种混合智能算法最显著的优势在于，可以使用随机模拟产生大量的训练样本，使 神经元网络的权值不断得到优化，神经网络得到很好地学习，使用训练好的神经网络， 选择迭代过程中出现的更合适的染色体，从而不断地逼近不确定函数，进而找到最好的 染色体作为最优解，另外，这种混合智能算法使得随机约束条件不再需要转化成确定表 达式，扩大了应用范围。
5.2 算例分析

5.2.1 算例描述
在铁路网范围内，选取 26 个可以办理铁路集装箱货运业务的营业站作为本例的空 箱供需站点。其中，14 个供应站分别为 Ai ={南仓、哈尔滨东、历城、南京北、何家湾、 南昌北、石家庄南、南宁南、兰州东、西宁西、乌鲁木齐北(乌北)、呼和浩特、王家营 西、梅花井}，12 个需求站分别为 B j ={丰台西、沈阳东、太原西、合肥北、杭州北、圃 田、长沙东、改貌、长春南、棠溪、西安西、普兴}，只考虑 20ft 和 40ft 两种箱型，某 计划时间段内，以上各供给站点的空箱供应量(单位箱)如表 5.1 所示。

供给站
南仓 哈尔滨东
历城 南京北 何家湾 南昌北 石家庄南 总计

表 5.1 14 个供应站的供应量(箱)

20ft 箱

40ft 箱

供给站

36

8

40

20

25

10

39

11

31

7

65

15

34

11

489(20ft 箱)

南宁南 兰州东 西宁西 乌鲁木齐北 王家营西 梅花井 呼和浩特

20ft 箱

40ft 箱

55

12

36

9

13

5

27

7

35

5

23

2

30

7

129(40ft 箱)

由前文的分析可知，需求站的空箱随机需求量满足正态分布规律，假定 12 个空箱 需求站的 20ft 以及 40ft 空箱随机需求量(单位箱)分布情况如表 5.2 所示，并且假定所有 需求站的随机机会约束满足的置信度均为 90%。

- 43 -

“实货制”下铁路集装箱空箱调运优化研究

需求站
丰台西 沈阳东 长春南 合肥北 杭州北
圃田 均值总计

表 5.2 12 个需求站的空箱随机需求量概率分布(箱)

20ft 箱

40ft 箱

需求站

20ft 箱

40ft 箱

N(50，2)

N(15，1)

N(40，3)

N(11，1)

N(40，2)

N(20，3)

N(52，4)

N(11，2)

N(45，1)

N(17，2)

N(45，2)

N(11，3)

520(20ft 箱)

长沙东 棠溪
西安西 普兴 改貌
太原西

N(40，2)

N(10，1)

N(62，3)

N(13，1)

N(49，2)

N(10，1)

N(50，1)

N(11，1)

N(15，1)

N(4，1)

N(32，2)

N(12，1)

145(40ft 箱)

通过查阅和整理相关资料，得到供需站点间的铁路货物运价里程(单位公里)如表 5.3。根据货车运行速度区间[59]，取集装箱班列的区间行驶平均速度为 80km/h，根据各 供需站点间的距离(见表 5.3)可以计算出站点间的在途运输时间(保留一位小数，单位小 时)如表 5.4，此处仅为班列的在途运行时间，在站集结时间另作计算。站点间的空箱运 输能力限制(以 20ft 标准箱的数量表示，单位箱)，如表 5.5。

表 5.3 供给站与需求站之间的运营里程(公里)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓 哈尔滨东

137 707 1012 973 1452 2197 1725 2431 1301 2185 650 2681 1288 547 242 2227 2706 3451 2877 2928 2453 3336 1802 3833

历城 南京北

497 1067 1372 613 1092 1837 1560 2151 1177 2019 532 2516 1161 1730 2035 312 429 1174 1200 1804 1206 2048 1195 2054

何家湾 1463 2033 2335 615 201 1173 1199 1803 1509 2351 1498 2053

南昌北 1449 2151 2456 478 636 622 418 1022 1412 2239 1944 1272

石家庄南 南宁南

277 1126 1431 914 1393 1915 1306 2012 923 1765 231 2262 2561 3411 6313 2098 1874 1860 978 1334 2383 1832 2515 865

兰州东 1811 2552 2962 1832 2311 3065 2081 2787 676 1172 1327 2139

西宁西 2092 2839 3144 2048 2527 3281 2297 3003 892 1388 1543 2355 乌鲁木齐北 3768 4515 4820 3724 4965 4957 3973 4679 2568 3026 3219 3993

王家营西 3178 3925 4230 3098 2868 2477 1595 2199 1942 1100 2593 639

梅花井 呼和浩特

1343 2048 2389 2002 2481 3235 2251 2957 846 1342 1316 2309 667 1408 1713 1777 2256 3303 2256 2962 1291 2133 640 3100

- 44 -

兰州交通大学工程硕士学位论文

表 5.4 供给站与需求站之间的运输时间(小时)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓

1.7 8.8 12.7 12.2 18.2 27.5 21.6 30.4 16.3 27.3 8.1 33.5

哈尔滨东 16.1 6.8 3.0 27.8 33.8 43.1 36.0 36.6 30.7 41.7 22.5 47.9

历城

6.2 13.3 17.2 7.7 13.7 23.0 19.5 26.9 14.7 25.2 6.7 31.5

南京北 14.5 21.6 25.4 3.9 5.4 14.7 15.0 22.6 15.1 25.6 14.9 25.7

何家湾 18.3 25.4 29.2 7.7 2.5 14.7 15.0 22.5 18.9 29.4 18.7 25.7

南昌北 18.1 26.9 30.7 6.0 8.0 7.8 5.2 12.8 17.7 28.0 24.3 15.9

石家庄南 3.5 14.1 17.9 11.4 17.4 23.9 16.3 25.2 11.5 22.1 2.9 28.3

南宁南 32.0 42.6 78.9 26.2 23.4 23.3 12.2 16.7 29.8 22.9 31.4 10.8

兰州东 22.6 31.9 37.0 22.9 28.9 38.3 26.0 34.8 8.5 14.7 16.6 26.7

西宁西 26.2 35.5 39.3 25.6 31.6 41.0 28.7 37.5 11.2 17.4 19.3 29.4

乌鲁木齐北 47.1 56.4 60.3 46.6 62.1 62.0 49.7 58.5 32.1 37.8 40.2 49.9

王家营西 39.7 49.1 52.9 38.7 35.9 31.0 19.9 27.5 24.3 13.8 32.4 8.0

梅花井 16.8 25.6 29.9 25.0 31.0 40.4 28.1 37.0 10.6 16.8 16.5 28.9

呼和浩特 8.3 17.6 21.4 22.2 28.2 41.3 28.2 37.0 16.1 26.7 8.0 38.8

表 5.5 空箱运输能力(箱)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓

30 40 30 40 50 40 40 30 50 50 80 50

哈尔滨东

20 40 50 60 60 50 50 70 50 90 80 90

历城

20 40 50 30 40 30 20 70 60 70 50 60

南京北

20 50 60 30 70 30 40 70 60 70 60 70

何家湾

30 50 60 50 60 30 40 50 70 80 90 70

南昌北

50 60 60 40 50 50 50 30 50 40 90 50

石家庄南

70 40 50 50 50 50 50 50 60 80 60 50

南宁南

50 60 90 60 60 60 60 40 30 80 70 40

兰州东

50 50 60 50 70 40 70 60 60 70 70 60

西宁西

50 70 50 50 50 50 80 60 60 80 70 50

乌鲁木齐北 60 70 60 60 80 50 50 70 60 50 40 50

王家营西

60 60 60 60 50 60 20 50 70 60 60 40

梅花井

40 50 30 50 60 40 70 60 70 40 80 50

呼和浩特

30 50 50 40 70 40 40 60 30 40 80 50

- 45 -

“实货制”下铁路集装箱空箱调运优化研究

除以上数据之外，本算例需要的数据还包括对单位租箱成本、集装箱班列编成箱数、 空箱运到时间窗和时间成本以及单位集装箱集结时间的说明，具体如下：
(1)单位租箱成本 不考虑还箱，假定 20ft 集装箱空箱的单位租用费为 500 元/箱、40ft 集装箱空箱的单 位租用费为 800 元/箱。 (2)时间窗与时间成本 ①时间窗，即用箱时间限制，包括空箱最早运到时间和最晚运到时间，本文假定空 箱需求客户都需要在 10-50 个小时内使用空箱； ②时间成本，空箱未在上述时间限制内到达时，产生时间成本损失，包括早到产生 的空箱堆存成本和晚到产生的企业信誉损失成本，即每单位空箱的堆存费和每单位空箱 的企业信誉损失费。假定单位 20ft 以及 40ft 空箱早到产生的堆存费分别为 3 元/箱小时、 5 元/箱小时，其晚到产生的企业信誉损失费分别为 5 元/箱小时、7 元/箱小时。 (3)班列编成箱数 通过查阅相关资料，参照文献[59]有关货运班列编成辆数的分析，对于集装箱班列， 每列编成辆数为 40-84 辆，换算成 20ft 标准箱即 80-168 箱，本算例取每班列的编成箱数 为 80 箱(20ft 标准箱)。 (4)单位集装箱集结时间 由前文集装箱集结时间的分析可知，T (m0ij  u) / 2N 表示平均每箱的集结时间，是 一个具体数值，在这里假定平均每箱的集结时间为 0.3 小时。

5.2.2 算例求解

为简化算例的复杂程度，现将集装箱空箱调运成本目标函数转化为如下表达式：

mn

n

   min Z 

（ Lij xij   Lij yij） ( jx N jx   jy N jy )T租

i1 j 1

j 1

  m n



xij ( px max{e  t j , 0}  qx max{t j  l, 0})

i1 j 1

  yij ( py max{e  t j , 0}  qy max{t j  l, 0})

(5.2)

就是将空箱调运成本目标函数中的第一部分空箱运输服务成本(包括线路使用费和 机车牵引费两项)，即：

   m
i 1

m j 1

(

1 2

xij

 yij ) 

k

m
k Likj 
i 1

n
 牵(M 机  xij  M x  yij  M y )Lij
j 1

(5.3)

- 46 -

兰州交通大学工程硕士学位论文

简化为：

mn
 （ Lij xij   Lij yij）
i1 j 1

(5.4)

式(5.4)表示集装箱空箱供应站和需求站之间的单位空箱运输服务费用与运输距离 呈正比例关系，且 20ft 和 40ft 空箱的比例系数分别为、 ，即 20ft 和 40ft 空箱的单位 箱公里的空箱运输服务费不同。
在以上假定基础上，设定 20ft 集装箱空箱的单位箱公里的运输费为 1 元(即 取 1 元/箱公里)，40ft 集装箱空箱的单位箱公里的运输费为 1.5 元(即  取 1.5 元/箱公里)，根 据站点间货物运价里程，见表 5.3，可以计算得到 20ft 集装箱空箱以及 40ft 集装箱空箱 在各供应站和各需求站之间的单位空箱运输服务费用分别如表 5.6 和表 5.7 所示(保留整 数，单位元)。

表 5.6 站点之间的单位 20ft 空箱运输费(元)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓

137 707 1012 973 1452 831 1725 2431 1301 2185 650 2681

哈尔滨东 1288 547 242 2227 2706 2085 2877 2928 2211 3336 1802 3833

历城

497 1067 1372 613 1092 666 1560 2151 1177 2019 532 2516

南京北 1161 1730 2035 312 429 695 1200 1804 1206 2048 1195 2054

何家湾 1463 2033 2335 615 201 998 1199 1803 1509 2351 1498 2053

南昌北 1449 2151 2456 478 636 536 418 1022 1412 2239 1944 1272

石家庄南 277 1126 1431 914 1393 412 1306 2012 923 1765 231 2262

南宁南 2561 3411 6313 2098 1874 1870 978 1334 2383 1832 2515 865

兰州东 1811 2552 2962 1832 2311 1187 2081 2787 676 1172 1327 2139

西宁西 2092 2839 3144 2048 2527 1403 2297 3003 892 1388 1543 2355

乌鲁木齐北 3768 4515 4820 3724 4065 3079 3973 4679 2568 3026 3219 3993

王家营西 3178 3925 4230 3098 2868 2489 1595 2199 1942 1100 2593 639

梅花井 1343 2048 2389 2002 2481 1357 2251 2957 846 1342 1316 2309

呼和浩特 667 1408 1713 1777 2256 1362 2256 2962 1291 2133 640 3100

- 47 -

“实货制”下铁路集装箱空箱调运优化研究

表 5.7 站点之间的单位 40ft 空箱运输费(元)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓

206 1061 1518 1460 2178 1247 2588 3647 1952 3278 975 4022

哈尔滨东 1932 821 363 3341 4059 3128 4316 4392 3317 5004 2703 5750

历城

746 1601 2058 920 1638 999 2340 3227 1766 3029 798 3774

南京北 1742 2595 3053 468 644 1043 1800 2706 1809 3072 1793 3081

何家湾 2195 3050 3503 923 302 1497 1799 2705 2264 3527 2247 3080

南昌北 2174 3227 3684 717 954 804 627 1533 2118 3359 2916 1908

石家庄南 416 1689 2147 1371 2090 618 1959 3018 1385 2648 347 3393

南宁南 3842 5117 9470 3147 2811 2805 1467 2001 3575 2748 3773 1298

兰州东 2717 3828 4443 2748 3467 1781 3122 4181 1014 1758 1991 3209

西宁西 3138 4259 4716 3072 3791 2105 3446 4505 1338 2082 2315 3533

乌鲁木齐北 5652 6773 7230 5586 6098 4619 5960 7019 3852 4539 4829 5990

王家营西 4767 5888 6345 4647 4302 3734 2393 3299 2913 1650 3890 959

梅花井 2015 3072 3584 3003 3722 2036 3377 4436 1269 2013 1974 3464

呼和浩特 1001 2112 2570 2666 3384 2043 3384 4443 1937 3200 960 4650

根据算法设计思路，编写 MATLAB 计算机程序，并综合考虑算例需要为算法设置 合适的参数，运行编写完成的 MATLAB 程序对算例进行计算。
通过随机模拟产生训练样本，使用训练样本，训练神经元网络(2 个输入神经元，1 层隐层神经元，7 个隐层神经元节点，2 个输出神经元，学习速度 0.1，1000 次循环迭代， 100 个训练样本)来逼近不确定函数，并同时将训练好的神经元网络嵌入 NSGA-II 多目 标遗传算法(交叉概率 0.8，变异概率 0.2，种群数量 100)，从而形成混合智能算法，经 过 400 次遗传迭代，就得到了一组包含有 10 个非劣解(Pareto 解)的最优解集以及最优目 标值。
运行 MATLAB 程序，获得的非劣解集(Pareto 解)分布情况如图 5.2 所示。 该算例程序在运行过程中，对模型的两大优化目标，即空箱调运周转时间和空箱调 运成本的 400 次迭代优化过程如图 5.3 所示，并且图 5.3 左侧部分表示空箱调运周转时 间的优化过程，图 5.3 右侧部分表示空箱调运成本的优化过程。

- 48 -

兰州交通大学工程硕士学位论文

8400 8350

pareto

8300

周转时间

8250

8200

8150

6.1

6.15

6.2

6.25

6.3

6.35

6.4

6.45

成本

x 105

图 5.2 非劣解集

目标值 目标值

x 104 2.4

2.2

2

1.8

1.6

1.4

1.2

1

0.8

0

50

周转时间

最优目标值

x 105 10.5
10

9.5

9

8.5

8

7.5

7

6.5

100

150

200

250

300

350

400

种群代数

6

0

50

图 5.3 迭代过程图

成本

最优目标值

100

150

200

250

300

350

400

种群代数

从图 5.3 可知，随着进化代数的增加，目标值不断得到优化，经过 400 次遗传迭代， 目标值优化过程趋于平稳，迭代过程结束。从图 5.2 可以看出，计算得到的 10 个非劣解 (Pareto 解)对目标的优化效果近似，在此以其中的一个解对应的调运方案为例，对计算 结果进行分析。
该方案下的最优目标值为：最小化空箱调运成本是 613440 元，最小化空箱调运周 转时间是 8398.5 箱小时。其得到的 20ft、40ft 空箱的调运方案分别如表 5.8 和表 5.9 所 示(箱)，不同箱型空箱(20ft、40ft 空箱)的租箱方案如表 5.10 所示(箱)。

- 49 -

“实货制”下铁路集装箱空箱调运优化研究

表 5.8 20ft 空箱调运方案(箱)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓

36

哈尔滨东

2 38

历城

4

21

南京北

26 13

何家湾

31

南昌北

47 18

石家庄南 32

2

南宁南

19 36

兰州东

6

14 16

西宁西

13

乌鲁木齐北

27

王家营西

5

30

梅花井

23

呼和浩特 17

13

表 5.9 40ft 空箱调运方案(箱)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌
供给站

南仓

8

哈尔滨东 4 10 6

历城

6

4

南京北

2

8

1

何家湾

7

南昌北

1 10 4

石家庄南 9

2

南宁南

6

6

兰州东

3

4

2

西宁西

5

乌鲁木齐北

7

王家营西

5

梅花井

2

呼和浩特 4

3

- 50 -

兰州交通大学工程硕士学位论文

表 5.10 租箱方案(箱)

需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌

20ft 箱数 40ft 箱数

27

5

5

5.2.3 结果分析
从最后的空箱调运方案可以知道： (1)该方案下所有供需站点之间的集装箱空箱调运量均在空箱运输能力限制内，符合 空箱运输能力限制要求。 (2)将 20ft 和 40ft 空箱的调运路径表示在一张图上，如图 5.4 所示，使用圆角框表示 空箱供应或者需求站点，并且使用带箭头的直线表示空箱的调运路径，以实线表示 20ft 空箱的调运路径，虚线表示 40ft 空箱的调运路径。以哈尔滨站为例对空箱调运路径图进 行说明，该站在本算例中作为空箱供应站，其调运路径是向长春站和沈阳站调出 20ft 和 40ft 空箱，且向丰台西站调出 40ft 空箱。

图 5.4 空箱调运路径图
- 51 -

“实货制”下铁路集装箱空箱调运优化研究

由空箱调运路径图可以清晰的看出，集装箱空箱的调运方案不存在迂回运输以及过 远调运的情况，空箱调运方案合理。合理的调运方案保证了空箱调运成本和空箱调运周 转时间两个目标函数已在满足约束条件的情况下分别得到最优解。
(3)结合得到的空箱调运方案，再结合公式：

14

T j1 early



min{T i 1

(m0ij

u) /

2N

 (m0ij

 xi1  2 yi1)  ti1}

(5.5)

T j1 last



14
max{T i1

(m0ij



u)

/

2N

 (m0ij



xi1



2 yi1)



ti1}

(5.6)

公式(5.5)和(5.6)表示需求站 j  1的供应箱流的最早以及最晚到站时间，以需求站丰 台西为例，得到的调运方案中，共有 3 列集装箱班列运往该站满足其空箱需求，分别计 算每一班列的到站时间，就可以确定丰台西站的最早以及最晚空箱满足时间。依此类推， 可分别计算出需求站 j  1, 2,3,...,12 的空箱调运到站时间，经过计算，得出 12 个需求站 的空箱最早与最晚到站时间，如表 5.11 所示(单位小时)，也就可以判断出是否满足各需 求站对于运到时间的要求。

表 5.11 空箱运到时间(小时) 需求站 丰台西 沈阳 长春 合肥 杭州 圃田 长沙 棠溪 西安 普兴 太原西 改貌

17.6 21.5 12.3 18.9 13 18.3 14.2

22.9 24.3

26.4

运到时间

30.2

20

33.3 49 39.4 43 20.7 58.1 31.4

52.2 53.4

49.1

是否准时 是 是 是 是 是 否 是 是 否 否 是 是

由上表可知，空箱的运到时间大部分都在时间窗要求的时间范围(10-50h)内，只有 圃田、西安和普兴三个需求站的空箱运到时间超出了到达时间限制，但超出时间均较短， 都在适当的范围内，表明该调运方案最大可能的保证了客户用箱的时间要求，铁路货物 运输的服务质量得到了有力保障。
(4)多次运行 MATLAB 程序，并对运算得到的调运方案进行分析，得知每一次的最 优目标值之间差异较小，且空箱调运方案均符合模型要求，即不存在迂回调运或者过远 调运的情况，租箱方案合理，空箱的运到时间可以满足需求，运算结果保持了良好的稳 定性。鉴于此，模型的可行性得到验证，并且通过多次数值试验，验证了该混合智能算 法对于求解本文所建模型的有效性。所以能够保证运算求得的空箱调运方案和租箱方案 的合理性以及目标函数值的优越性，即目标函数值已在满足约束的条件下达到最优。

- 52 -

兰州交通大学工程硕士学位论文
综上，由算例最后的运算结果可知，在采用了调箱和租箱两种策略的前提下，本例 中所有需求站的空箱需求都得到了很好的满足，包括 20ft 和 40ft 两种集装箱箱型的空箱 需求，且客户的用箱时间需求也得到了进一步的满足，并在满足约束条件的情况下，得 到最小化的空箱调运成本以及空箱调运周转时间。符合模型的设计初衷：降低空箱调运 成本，提高集装箱周转速度，提高空箱利用率，同时进一步提高铁路货物运输的服务质 量，满足客户在数量和时间上的用箱需求。
5.3 本章小结
本章选取 26 个货运营业站进行空箱调运实例计算，设定其中 14 个为空箱供给站， 12 个为空箱需求站。设定各供给站的供应量，需求站随机需求量满足的分布情况。算例 考虑了站点间的空箱运输能力，时间窗约束等限制，并且将租箱策略考虑在内。考虑机 会约束规划问题和双目标优化问题的特殊性，设计模型的算法，采用混合智能算法求解 算例，首先利用随机模拟产生的训练样本训练神经元网络，再结合 NSGA-II 算法完成求 解，NSGA-II 算法对于求解多目标问题具有很好的优越性。在周转时间和调运成本两个 目标尽可能小的前提下，很好的满足了随机需求客户的所有用箱需求，并且客户用箱的 时间需求得到了最大可能的满足，该模型适应当前竞争激烈的运输市场，对于提高铁路 运输服务质量有一定的借鉴意义。
- 53 -

“实货制”下铁路集装箱空箱调运优化研究
6 总结与展望
6.1 总结
本文的研究建立在系统扎实的专业基础知识以及大量文献资料的基础之上，结合最 新的铁路“实货制”改革和集装箱运输业务调整，对铁路空箱调运问题进行了深入的研 究，并得出了解决问题的方案，取得了一定的研究成果，对我国铁路集装箱运输和空箱 调运有一定的现实意义。
主要工作总结如下： (1)本文紧跟货运发展形势，详细分析了“实货制”改革对铁路集装箱运输和空箱调 运的新影响： 其一，伴随运输需求结构的变化，小宗货物运量增速明显，在实行“实货制”改革 以后，根据“实货制”细分的货运市场运输对象，将货物分为大宗稳定货物和小宗快捷 货物，并且客户可在网上订箱，极大地方便了小宗货主的运输需求办理，随机需求得到 发展。在此情况下，铁路集装箱运输为了适应市场变化，加强了对小宗快捷货物随机性 空箱需求的研究。本文针对空箱的随机性需求，引入机会约束规划，将空箱需求站的需 求量看作随机变量，研究不确定需求下的空箱调运优化。 其二，“实货制”改革要求对小宗快捷货物实现随到随运，这就要求铁路提高运输 组织效率，保证空箱运输的时效性，从而确保“实货”及时装运。对此，本文将空箱调 运周转时间作为模型的优化目标之一，以提高集装箱周转使用效率；与此同时，在模型 中加入时间窗限制，对于未在时限内调运到站的空箱给予相应惩罚，以起到限制空箱运 到时间的作用。 (2)全面分析集装箱空箱调运周转时间和空箱调运成本。其中，周转时间由在途运输 时间和在站作业时间构成，对于在站作业时间部分，通过分析集装箱在站停留时间，确 定出在站时间的关键是对集装箱集结时间的定量计算；调运成本由运输服务成本、租箱 成本和时间成本组成，分析并得出空箱运输服务成本的合理组成为线路使用费和机车牵 引费，并且时间成本与时间窗紧密相关，具体规则是：早于该时间段到达时产生空箱堆 存成本，晚到时产生信誉损失成本，并且与超出部分时间的长短呈线性关系。 (3)建立基于周转时间和调运成本的双目标优化模型，模型考虑了空箱的运输能力限 制。该模型对于两个目标的优化具有一致性，降低空箱周转时间，提高空箱利用率，以 降低空箱保有量，减少空箱的租用数量和调运量，进而实现降低成本、提高服务质量的 作用；成本目标中时间成本是由于空箱不及时运到需求站产生的，在最小化成本中加入 这一项起到增强空箱调运时效性的作用，亦能起到降低周转时间的作用。
- 54 -

兰州交通大学工程硕士学位论文
(4)在模型的求解部分，考虑到机会约束规划以及双目标优化问题的特殊性，本文采 用的是混合智能算法，该算法结合随机模拟、神经元网络和 NSGA-II 多目标遗传算法。 利用随机模拟产生大量训练样本训练神经网络，使用训练好的神经网络求解机会约束问 题，避免了机会约束条件向确定等价式的转化，同时 NSGA-II 算法由于其特殊的选择算 子，即利用非支配排序和拥挤距离来选择优秀个体进入子代，使得它在求解多目标问题 上具有一定的优势。
(5)选取 26 个主要的货运营业站进行实例计算。从中国铁路运输电子商务平台查得 有关数据，使用 MATLAB 软件求解模型。并对得到的调运及租用方案进行分析，可以 看出，该方案对于提高运输效率、降低运输费用有较好的效果，并且保证了空箱及时运 到，满足了客户的用箱时间需求，验证了本文所建模型的正确性、有效性。
6.2 展望
尽管本文根据当前我国铁路集装箱运输的发展状况，并结合“实货制”改革和集装 箱运输业务调整，对于空箱调运的研究取得了一定的进展和成果，但由于实际问题的复 杂性以及笔者思维的局限，论文的研究仍不够完善，对于一些影响空箱调运的复杂因素 做了一定的简化，使得论文与实际的调运过程还存在一定的差距，在以下方面需要做进 一步的研究：
(1)本文的研究对象是中心站间的集装箱直达班列，途中没有进行中转作业，然而在 实际的运输工作当中，集装箱的运输组织形式灵活多变，在很多运输过程中中转作业是 不可避免的，因此模型的应用存在一定的局限性。
(2)铁路企业为了尽可能满足客户的用箱需求，有时会向第三方企业租用空箱，租用 的空箱在完成运输任务后，需要将空箱运回租箱地进行还箱，从租箱开始到空箱使用完 运回本站进行还箱时止称为租箱时间，这一时间在论文中被假定为一个固定值，显然与 实际不符。
(3)实际运输组织过程中，一般采用重空箱混编的形式，本文虽然在模型建立阶段考 虑的是混编形式，但是并没有将重箱的实际运输编组计划的需要以及重箱的使用价值考 虑在内，还需要进一步的研究。
(4)本文的研究前提是封闭铁路系统。随着国际、国内多式联运的快速发展，有时需 要多种运输方式共同完成集装箱空箱调运任务，这就需要对多式联运进行深入的研究， 合理的制定空箱调运计划。
- 55 -

“实货制”下铁路集装箱空箱调运优化研究
致谢
时光荏苒，不知不觉中，三年的研究生生活已接近尾声，借此论文完成之际，谨向 曾经给予我帮助和关心的老师及同学表示衷心的感谢！
首先，要衷心感谢我的研究生导师杨延梅老师！在三年的学习和生活中，杨老师是 给予我帮助和关心最多的老师，也是在她的积极指导和热心关怀下，我能够顺利的完成 自己的学位论文。从我的研究生生活开始的第一年，杨老师就叮嘱我要积极学习专业知 识，形成完整的知识体系，扩大自己的知识面，从而从中找到自己感兴趣的课题，到后 来撰写和修改论文，杨老师在每次的指导中，都仔细的查看我的论文，细致的指导并及 时订正错误的地方，让我少走了很多弯路，及时的走回正轨，再到最终定稿，一步一步 的走过来，过程中都离不开杨老师对我的帮助。值得一提的是杨老师对工作严谨务实， 对学生认真负责，这些都让我受益匪浅，并且将终生受用，希望借此机会向杨老师表示 真挚的感谢!
其次，要衷心的感谢我的同学，尤其要感谢同在一个实验室学习的朋友们，在三年 时间里，生活中学习上互相帮助，在完成毕业论文的过程中，是你们一直的坚持鼓励着 我一路走下来并最终完成自己的学位论文！感谢一路携手、相互鼓励、共同进步的朋友 许文聘，孙丽，朱文娟，方林建，崔乃丹，张建明，李金萍等，感谢你们对我学习上的 激励与启发，和你们相处的这三年时光是我一生都难以忘记的。
最后，要感谢我的家人，是他们一直在背后默默的支持我，是他们给了我生活的基 础保障，也是他们给了我情感的寄托，有了他们的付出我才能走到今天，感谢他们一路 的陪伴。
在兰州交通大学七年的学习与生活，我收获颇丰，感谢母校的培育之恩，满满的回 忆，有美好，也有伤感，即将远行，开启另一段旅途，对未来自是无限憧憬！
- 56 -

兰州交通大学工程硕士学位论文
参考文献
[1] 武中凯.深入推进铁路货运组织改革若干问题研究[D].成都:西南交通大学硕士学位论文,2014. [2] 李云涛.小件货物铁路集装箱化运输的研究[D].北京:北京交通大学硕士学位论文,2014. [3] Choong Sook Tying, Cole Michael H., Kutanoglu Erhan. Empty container management for intermodal
transportation networks[J]. Transportation Research Part E,2002,38(6) :423-438. [4] Jula Hossein, Chassiakos Anastasios, Ioannou Petros. Port dynamic empty container reuse[J].
Transportation Research Part E,2004,42(1):43-60. [5] Shintani Koichi, Imai Akio, Nishimura Etsuko, Papadimitriou Stratos. The container shipping network
design problem with empty container repositioning[J]. Transportation Research Part E,2005,43(1):39-59. [6] Theofanis Sotirios, Boile Maria. Empty marine container logistics: facts, issues and management strategies[J]. GeoJournal, 2009, 74 (1):51-65. [7] Diaz Rafael, Talley Wayne, Tulpule Mandar. Forecasting Empty Container Volumes[J]. The Asian Journal of Shipping and Logistics,2011,27(2):217-236. [8] Vojdani, Nina, Lootz, et al. Optimizing empty container logistics based on a collaborative network approach[J]. Maritime Economics & Logistics,2013,15(4):467-493. [9] Moon Llkyeong, Hong Hwajin. Repositioning of empty containers using both standard and foldable containers [J]. Maritime Economics & Logistics,2016, 18 (1):61-77. [10] Belayachi Naima, Gelareh Shahin, Yachba Khadidja, Bouamrane Karim. The Logistic of Empty Containers′ Return in the Liner-Shipping Network[J]. Transport and Telecommunication Journal,2017,18(3):207-219. [11] Kuźmicz Katarzyna Anna, Pesch Erwin. Prerequisites for the modeling of empty container supply chains[J]. Engineering Management in Production and Services,2017,9(3):28-36. [12] 吉 清 凯 , 胡 祥 培 , 孙 丽 君 . 集 装 箱 空 箱 调 度 问 题 的 研 究 现 状 与 发 展 [J]. 系 统 工 程 理 论 与 实 践,2014,34(6):1578-1586. [13] 段 刚 , 卢 跃 荣 , 陈 莉 等 . 不 确 定 环 境 下 铁 路 集 装 箱 空 箱 调 运 优 化 研 究 [J]. 兰 州 交 通 大 学 学 报,2012,31:97-102. [14] 张鹏翔.不确定环境下铁路集装箱空箱调运问题优化研究[D].兰州:兰州交通大学硕士学位论 文,2014. [15] 段 刚 , 陈 莉 , 李 引 珍 等 . 基 于 鲁 棒 软 时 间 窗 的 铁 路 集 装 箱 空 箱 调 运 优 化 研 究 [J]. 铁 道 学 报,2015,37(09):8-16. [16] 韩晓龙,童辉.随机需求下考虑多目标的空箱调运研究[J].广西大学学报,2017,42(2): 764-772. [17] 钟鸣.基于“成本一服务”战略的集装箱空箱调运优化研究[D].上海:上海交通大学硕士学位论 文,2007. [18] 郑燕.基于时间窗的铁路空箱调运问题分析[J].交通科技与经济,2013,15(3):104-106. [19] 胡晓龙.空箱调运优化的模型与方法研究[D].南京:东南大学博士学位论文,2005. [20] 宰停.铁路集装箱空箱调运优化研究[D].长沙:中南大学硕士学位论文,2009. [21] 李秀芬.周转时间的铁路集装箱空箱调运优化研究[D].成都:西南交通大学硕士学位论文, 2013.
- 57 -

“实货制”下铁路集装箱空箱调运优化研究
[22] 郑明明.基于客户优先级的铁路集装箱空箱调运优化研究[D].北京:北京交通大学硕士学位论 文,2016.
[23] 方开莎.基于满意理论的铁路集装箱空箱调运优化方法[D].北京:北京交通大学硕士学位论 文,2009.
[24] 徐迅达.基于成本—客户满意度的铁路集装箱空箱调运方法研究[D].北京:北京交通大学硕士学位 论文,2007.
[25] 赵志荣.铁路集装箱空箱调运优化研究[D].北京:北京交通大学硕士学位论文,2009. [26] 闫海峰.铁路结点站集装箱班列集结过程[J].西南交通大学学报,2006,41(5):621-625. [27] 廖小琴.铁路集装箱空箱调运优化分析[J].铁道运营技术,2014,20(3):16-17. [28] 刘爽阳.铁路集装箱空箱调运优化研究[D].成都:西南交通大学硕士学位论文,2012. [29] 刘浩.基于成本的铁路集装箱空箱调运组织及优化[D].北京:北京交通大学硕士学位论文,2012. [30] 彭华.铁路集装箱空箱动态优化调度研究[D].重庆:重庆大学硕士学位论文,2008. [31] 彭华,朱庆生.铁路集装箱空箱动态优化调度模型及求解算法[J].交通与计算机,2007,25(5):38-41. [32] 朱文浩.基于“价值一成本”策略的铁路集装箱空箱调运研究[D].长沙:中南大学硕士学位论
文,2008. [33] 王俊杰.“实货制”下铁路集装箱空箱调运优化研究[D].成都:西南交通大学硕士学位论文,2014. [34] 兰辉.集装箱积载与运输过程中的调度优化研究[D].大连:大连海事大学硕士学位论文,2016. [35] 邢 玉 伟 , 杨 华 龙 , 储 飞 飞 . 基 于 互 租 战 略 的 班 轮 联 盟 空 箱 调 运 [J]. 大 连 海 事 大 学 学
报,2016,42(01):101-106. [36] 江玉杰,韩晓龙.航运公司合作下的海运空箱调运模糊优化模型[J].包装工程,2018,39(01):151-156. [37] 汪 传 旭 , 陈 飞 燕 . 船 公 司 合 作 下 基 于 多 港 口 物 流 总 成 本 最 优 的 空 箱 调 运 [J]. 系 统 管 理 学
报,2016,25(03):539-545. [38] 张丽娜,韩晓龙.海陆联运下可折叠集装箱的空箱调运研究[J].包装工程,2016,37(17):112-117. [39] 付元帅,孙立鹤.铁路集装箱空箱调运问题分析[J].铁道货运,2010,28(08):38-41. [40] 铁路集装箱运输规则-铁总运[2015]313 号. [41] 闫海峰.结点站间铁路集装箱运输组织的理论与方法研究[D].成都:西南交通大学博士学位论
文,2004. [42] 彭其渊,闫海峰.集装箱班列运输组织[M].西南交通大学出版社,2011,6:119-128. [43] 闫海峰,董守清.铁路集装箱结点站间空箱调配的优化[J].中国铁道科学,2009,30(1): 131-135. [44] 钟成,冯兢.铁路集装箱空箱运输成本分析[J].铁道运输与经济,2005(03):41-43. [45] Charnes A, Cooper W. Chance-constrained Programming. Management Science.1959. 6(1): 73-79. [46] Boswell M.Probabilistic linear programming problems with exponential random variables: A technical
note [J]. European Journal of Operation Research,1998,111 (1):589-597. [47] Goicoeche A.Non-normal deterministic equivalents and a transformation in stochastic programming[J].
Applied Mathematics and Computation,1987,21(2):51-72. [48] 麻倩倩.一类随机机会约束规划的算法及应用研究[D].保定:华北电力大学硕士学位论文,2006. [49] 刘宝碇,赵瑞清,王纲.不确定规划及应用[M].北京:清华大学出版社,2003: 74-116.
- 58 -

兰州交通大学工程硕士学位论文 [50] 彭锦,刘宝碇.不确定规划的研究现状及其发展前景[J].指挥技术学院学报,2002,10 (2):1-10. [51] Liu B.D..Uncertain Programming[M].New York:Wiley,1999. [52] Liu B.D..Theory and Practice of Uncertain Programming [M].Heidelberg: Physica Verlag,2002. [53] 郭军.带精英策略的非支配排序遗传算法优化研究[D].沈阳:辽宁大学硕士学位论文,2017. [54] 高媛.非支配排序遗传算法(NSGA)的研究与应用[D].浙江:浙江大学硕士学位论文,2006. [55] 艾宁宁.基于混合智能算法求解随机期望值模型和机会约束规划[D].西安:长安大学硕士学位论
文,2012. [56] 肖宁,曾建潮.基于随机模拟与 PSO 算法相结合的随机机会约束规划算法[J].计算机应用与软
件,2009,26(4):40-42. [57] 刘宝碇,赵瑞清.随机规划与模糊规划.北京:清华大学出版社,1998. [58] 路艳雪.NSGA-II 多目标优化算法的改进及应用研究[D].太原:太原理工大学硕士学位论文,2017. [59] 刘艳.铁路快运货物班列编成辆数优化研究[D].北京:北京交通大学硕士学位论文,2016.
- 59 -

