Received July 6, 2020, accepted July 20, 2020, date of publication August 5, 2020, date of current version August 17, 2020. Digital Object Identifier 10.1109/ACCESS.2020.3014565

A Consent Model for Blockchain-Based Health Data Sharing Platforms

VIKAS JAIMAN AND VISARA UROVI
Institute of Data Science (IDS), Maastricht University, 6211 LK Maastricht, The Netherlands
Corresponding author: Vikas Jaiman (v.jaiman@maastrichtuniversity.nl)
This work was supported in part by the NWO Aspasia under Grant 91716421, and in part by the Maastricht York Partnership Grant.
ABSTRACT In modern healthcare systems, the ability to share electronic health records is crucial for providing quality care and for enabling a larger spectrum of health services. Health data sharing is dependent on obtaining individual consent which, in turn, is hindered by a lack of resources. To this extent, blockchain-based platforms facilitate data sharing by creating a trusted distributed network of users. These users are enabled to share their data without depending on the time and resources of speciﬁc actors (such as the health services). In blockchain-based platforms, data governance mechanisms become very important due to the need to specify and monitor data sharing and data use conditions. In this article, we present a blockchain-based data-sharing consent model for access control over individual health data. We use smart contracts to dynamically represent the individual’s consent over health data and to enable data requesters to search and access those data. The dynamic consent model extends to two ontologies: the Data Use Ontology (DUO) which models the individual consent of users and the Automatable Discovery and Access Matrix (ADA-M), which describes queries from data requesters. We deploy the model on Ethereum blockchain and evaluate different data sharing scenarios. The contribution of this article consists of the creation of an individual consent model for health data sharing platforms. Such a model guarantees that individual consent is respected and that all the participants in the data sharing platform are accountable. The evaluation of our solution indicates that such a data sharing model provides a ﬂexible decision-making approach over data usage by data requesters. Our experimental evaluation shows that the proposed model is efﬁcient and adapts to personalized access control policies in different data-sharing scenarios.
INDEX TERMS Blockchain, data sharing, distributed ledgers, EHR exchange, individual consent.

I. INTRODUCTION With the rapid development of big data technology, enormous amounts of data are currently being generated [1]. Data providers such as companies, organizations, and individuals increasingly choose to share their data for research and other various purposes. As data sharing rapidly steps up, sharing practices are lagging in specifying and protecting individual consent preferences.
A. CONSENT MATTERS In this work, we enable individuals to decide how to share their health data with data requesters, such as researchers, organizations, or companies. Although distributed internet-based solutions (such as cloud-based systems) can already connect data providers and data requesters, the difﬁculty of ensuring compliance from both parties remains. Individual data sharing faces the problem of
The associate editor coordinating the review of this manuscript and
approving it for publication was Rashid Mehmood .

unambiguously deﬁning consent while data requesters face the issue of clearly stating their intentions (i.e. a well-known example of this conﬂict is the Cambridge Analytica case [2]). Furthermore, storing data in internet-based solutions (such as cloud-based systems) creates large pools of data that are handled almost exclusively by a few big corporate actors with business incentives to maintain this status quo [3]. This raises data privacy concerns, especially when the data consist of sensitive health records. For example, cloud-based systems store large data aggregates in data centers. In order to move towards decentralized data sharing models, individual users need to be empowered to steer data sharing practices. In this article, we propose a generic methodology to achieve this by dynamically representing individual consent for data-sharing.
B. CHALLENGES The problem with the ownership and privacy of personal health data is exempliﬁed by the issue of data generated by consumer wearables. Even if wearables collect individual

143734

This work is licensed under a Creative Commons Attribution 4.0 License. For more information, see https://creativecommons.org/licenses/by/4.0/ VOLUME 8, 2020

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

data, users do not typically own these data. Instead, they are collected and stored by device manufacturers [4] who often charge a monthly fee for the use of their platform [5]. By contrast, in a patient-centered data sharing ecosystem, data is available to the user; it is controlled by the person who generated it; it is privacy-enabled and secure, and maintains data provenance information [6]. Moreover, the General Data Protection Regulation (GDPR) [7], adopted by the European Union, suggests that default entitlements in personal data rest with the data subject, as do individual control rights. Amongst these rights, GDPR gives individuals the right to restrict processing and to request the deletion of data, which is known as the ‘‘right to be forgotten’’ [8]. To this extent, blockchain is a novel technology that enables ﬁne-grained data from each individual to create a global resource where data integrity and immutability of transaction is ensured. Blockchain enables the storage of transactions relating to data exchange in a veriﬁable and non-reputable way by all the actors in the system. At the core of blockchain systems is the decentralization of control. Decentralization offers a substantial opportunity in a data-sharing scenario because it eliminates centralized control over data and enables individuals to decide how to share their personal records. Although platforms to support data sharing with blockchain-based solutions have been proposed [9]–[12], to date no frameworks model individual consent in relation to the purpose of use. To construct a dynamic consent-based model, we need to address the following questions:
• How to represent individual consent in a machine-readable way?
• How to connect the users over the platform? • How to dynamically match the purpose of use of data
requesters to the individual consent of data providers? • How to ensure data integrity and maintain a veriﬁable
history of changes over time? • How to build an efﬁcient framework?
C. CONTRIBUTIONS To address the above issues, we introduce a dynamic consent model for health data sharing using blockchain technology. Individuals, as data providers, decide on the data use conditions and access that data requesters must comply with. Such a model guarantees that individual consent is respected and that there is accountability for all the participants in the data-sharing platform. It provides a GDPR-compliant model, whereby all the uses of data are monitored by the decentralized model, and permissions can be modiﬁed or removed upon users’ request. The novelty of the solution stands in combining two consent representation models (DUO [13] and ADA-M [14]) to represent and standardize user consent and to dynamically match it to data requester purpose statement queries. By using a blockchain model, we maintain a transaction history of all transactions related to data. Through this, the data provider speciﬁes individual data sharing rules, monitors the use of data, and revokes or updates access to the data at any time.
VOLUME 8, 2020

FIGURE 1. Chain of transactions in blockchain [16].
The remainder of this article is structured as follows: Section II discusses the background work related to data-sharing platforms. Section III discusses related work and highlights the limitations of the state-of-the-art. Section IV presents our dynamic consent-based architecture model. Section V presents the implementation of the solution. Next, Section VI evaluates the solution using the LUCE [15] data sharing platform. Section VII discusses the impact of the solution in terms of scalability, privacy, and data heterogeneity. Finally, section VIII presents conclusions and future works.
II. BACKGROUND In this section, we brieﬂy review background works on data sharing solutions using blockchain technology, smart contracts, and ontologies for consent representation.
A. DATA EXCHANGE WITH BLOCKCHAIN TECHNOLOGY Blockchain was initially proposed by Nakamoto [16] in 2008 as a digital cryptocurrency which is based on a distributed ledger technology as seen in Fig. 1. The model is permissionless, meaning that anyone can join and leave the network. The interaction occurs in the form of transactions that are bundled together in blocks. When a transaction is generated, it propagates in the network. Speciﬁc nodes, called miners, verify the validity of transactions, create new blocks, and append new valid blocks to the blockchain. In order to add a new block, typically miners have to solve a cryptographic puzzle, also known more generically as consent models. Depending on the blockchain model, adding new blocks (especially when using cryptographic puzzles) can be computationally expensive. The miner who creates a new candidate block broadcasts it to the network. The consensus among nodes is reached by verifying that the identiﬁed block is valid. Finally, the candidate block is added to the chain resulting in all the nodes updating their blockchain data. As seen in Fig. 1, the blocks in the chain are linked to their predecessor block through a unique hash value. Through this, all the network shares the same transaction data with the certainty that the information stored in the chain contains valid transactions that are veriﬁed and cannot be tampered. Nowadays, blockchain technology has evolved from crypto-currency solutions into more general-purpose platforms. Ethereum [17] is one of the widely used general-purpose blockchain solutions. It uses an Ethereum virtual machine (EVM) to run programs called
143735

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

FIGURE 2. Smart contract execution in Ethereum.
smart contracts. Smart contracts incorporate the business logic of transactions, thereby deﬁning when and what constitutes a valid transaction.
Blockchain enables decentralized data sharing with no need for centralizing the data to a particular organization. In this way, information on data transactions between data providers and data requesters are immutable and safeguard ownership of the data. Via blockchain, it is possible to monitor the data exchange and keep a data transaction history across the nodes in a distributed leaderless manner.
B. FROM DATA SHARING TO SMART CONTRACTS Smart contracts [18], [19] are self-executable codes that control the data transfer or cryptocurrencies over the blockchain network. Smart contracts translate contractual clauses into a code that enables automated workﬂows and eliminate the need for a trusted third party.
A smart contract executes independently and automatically based on the data that was entered in the triggering transaction. The most prominent blockchain that supports smart contracts is the Ethereum blockchain. In this article, we use Ethereum smart contracts [20] to model the interaction between individuals, whom we refer to as data providers, and data requesters. The two actors interact with each other via smart contracts. These are conﬁgured by data providers to capture the logic for dynamically deciding if the data can be shared with data requesters.
Fig. 2 represents the execution of a smart contract in Ethereum. A smart contract contains functions that can be executed by an external account. To execute a function, the decentralized application retrieves an instance of a smart contract by its address and starts a transaction. To take effect, a transaction has to be mined by peer nodes. After successful mining, a new block containing the transaction address is created. The miner node broadcasts the new block to the peer nodes. Afterwards, this new block is validated, veriﬁed, and executed by peer nodes and added to the blockchain.
C. DATA SHARING WITH LUCE Havelange et al. [15] developed LUCE, a blockchain-based data-sharing platform to automatically track compliance with data licensing terms, and to facilitate data sharing concerning the rights of data subjects. To resolve trust issues between the two data sharing parties, LUCE attaches a license to the data. The license clearly states data usage terms. Via the blockchain platform, LUCE automatically tracks compliance with the licensing terms, even after the data has been acquired by the data requester. The use of data from data requesters is recorded by LUCE, and if a data requester acts
143736

in a way that doesn’t comply with the data requester terms, the data provider can act on his rights. For example, data subjects can enforce GDPR rights to access, rectify, and erase the data. LUCE distinguishes between three different roles: Data Providers, Data Requesters, and Supervisory Authorities [15]. By building on a blockchain solution LUCE offers the following features:
• Immutable information: Transactions relating to data exchange are stored in the platform and can not be destroyed. Therefore, the transactions showing which data provider shared data and which data requester has access to speciﬁc data remain available indeﬁnitely in the platform.
• Ownership: The smart contract speciﬁes data access and links to the owner, therefore, a data provider can prove the existence and integrity of data processed on the blockchain.
• Transparency: A shared distributed ledger of all data usage is created. Due to the fact that the ledger can be changed only by having the consensus of the network, the transactions are known to be consistent, transparent, and accurate. Supervisory authorities are enabled to inspect transactions and intervene accordingly.
In our project, the data provider uploads individually owned data to LUCE and speciﬁes the terms of use. We extend LUCE with a consent model and test our model with data generated through IoT devices. Data requesters use LUCE to ﬁnd datasets based on their needs. The supervisory authority is responsible for intervening on data misuse and for enforcing GDPR rights. In our approach, we introduce the consent representation model and test the model with IoT data that are shared in the LUCE platform.
D. CONSENT CODES IN DATA SHARING Ontologies provide a conceptualization of domain knowledge such that the information can be understood and processed by machines and by humans. Ontologies facilitate the interpretation of consent in regards to data use conditions. Two ontologies were considered relevant for modeling individual consent for supporting EHR data sharing:
1) DATA USE ONTOLOGY (DUO) Dyke et al. [13] provide an ontological representation of data use categories by using consent codes. The ontology includes terms describing data use conditions for research data in the health/clinical/biomedical domain. Speciﬁcally, DUO standardizes data use restrictions into machine-readable consent. DUO is a simple model that data providers can easily use to deﬁne data sharing consent. However, from a data requester perspective, DUO lacks the details needed to represent the purpose of use. This is why we use the DUO model only to deﬁne individual consent choices of data providers.
a: CONSENT STATEMENT Table 1 shows an abstract view of the DUO model. Initially, a dataset is assigned to a primary category according to the data provider’s consent. More restrictions on
VOLUME 8, 2020

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

TABLE 1. The primary categories of DUO. Data providers use them to express data-sharing consent preferences [13].

TABLE 2. ADA-M [14] categories for representing purpose statements of data requesters.

individual data can be included by specifying more categories. These are classiﬁed as secondary categories and can only be selected after choosing one of the primary categories. Examples of such restrictions include non-proﬁt-only, geographical restrictions, time limits, etc.
2) AUTOMATABLE DISCOVERY AND ACCESS MATRIC (ADA-M) Woolley et al. [14] deﬁne a matrix of categories for expressing data use restrictions. This is a comprehensive information model that provides the basis for producing structured metadata proﬁles. ADA-M is a complementary approach for classifying data use conditions and permissions. In our model, we take advantage of the granularity of the ADA-M model for representing the purpose statements of data providers.
a: PURPOSE STATEMENT As shown in Table 2, the ADA-M model [14] uses categories e.g. Research Purpose and sub-categories e.g. use for biomedical research (HMB) as a way to represent consent with more detail.
III. RELATED WORK Several research works [21], [22] on consent-based data sharing have been proposed in different domains. Riggs et al. [23] address the issue of data sharing with consent in genomic data. They introduce a one-page web-based consent form for genomic data sharing which avoids multi-page consent terms. Via a questionnaire with 5162 respondents, they show improved data access when the simpliﬁed consent form is used. In the privacy domain, authors [24] propose a web standard protocol called User-Managed Access (UMA) to enable applications to offer stronger consent management abilities. UMA gives an individual a uniﬁed control point for authorizing who and what can get access to his or her online personal data and services (such as creating status updates), no matter where those resources live online. While a generic solution
VOLUME 8, 2020

and versatile for online data, UMA does not explicitly solve consent requirements from an EHR data-sharing perspective. It also suffers from a lack of auditability over data access. Indeed the intentions of the data requesters, when they gain data access, are not explicit. Through our solution, we categorize the consent according to the terms of use. The auditability of the platform enables the identiﬁcation of any inappropriate data use, the revocation of access, and the possibility to be forgotten by the data requester at any time. Several blockchain-based solutions [25]–[27] have been recently proposed with a focus on privacy-preserving data sharing, data management of EHRs, or sharing of health data in cloud storage. While these approaches potentially improve data sharing practices, so far only a few address consent and how it could be included in blockchain-based data sharing platforms. In particular, Bhaskaran et al. [28] propose a consent based double-blind anonymous data sharing built on Hyperledger Fabric [29]. Their model deﬁnes a Know your Customer (KYC) application, which is built on a permissioned blockchain. Differently from our solution, this model is not suitable in a permissionless setting where any user can join and contribute to the platform. Moreover, in contrast with our model which enables both data providers and data requesters to dynamically deﬁne the terms of data usage, the purpose of the use is not modeled for data requester queries. Thus, the proposed model of Bhaskaran et al. [28] is currently unable to dynamically adapt the consent to different data queries.
143737

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

FIGURE 3. A consent model for blockchain based architecture using smart contracts.

ProvChain [10] and DataProv [11] are blockchain-based approaches to verify data provenance accountability. However, these solutions are not focused on modeling dynamic consent. Neisse et al. [30] propose a blockchain-based approach for data accountability and data provenance tracking. Their solution enables data tracking and reuses based on the consent of data providers. The solution includes a smart contract that describes the terms of use as well as data provenance information. In contrast to our model, this solution mainly focuses on data providers and data controllers but does not meaningfully include data processors such as researchers who are reusing the data while maintaining the individual consent rights of the data providers.
IV. CONSENT BASED ARCHITECTURE MODEL In this section, we illustrate the architecture of our framework. Following and extending upon the LUCE architecture [15], we distinguish the following actors and resources.
• Data provider: A data provider owns and shares the data. A data provider can specify consent in plain text form by using DUO terms. Data providers can be any individual, researcher, or an organization with data ownership. The key functionality of the data provider is: a) To register in the LUCE platform b) Publish data with the desired consent c) Update data if required d) Remove data entirely if desired.
• Data requester: A data requester is looking for data for a speciﬁc purpose. A data requester can request the data from a data provider by using the ADA-M matrix form.

The key functionality of data requester is: a) To register on the LUCE platform; b) Search for the data by giving a purpose statement; c) Request access to the data once the desired one is found; and d) Conﬁrm compliance with consent terms of the data provider. • EHR data: EHR data (Electronic health records) contains information about the medical history of a patient, and it is owned by a patient, authorized practitioner or an organization.1 • Datastore node: A datastore node stores all the information related to the required data. It could be in cloud storage or local organizational storage.
Additionally, we work under the following assumptions: • Datasets are shared as a whole. Thus, in the current
model, a data provider is unable to share only a portion of a dataset. • Data records are anonymized by data providers prior to enabling data-sharing. The workﬂow of a consent model using blockchain is depicted in Fig. 3. The data provider gives consent using the DUO model as speciﬁed in Fig. 1. The consent statement of the data provider is recorded into the blockchain using a smart contract. When a data requester queries the data, it uses the ADA-M matrix ontology. The purpose statements of data requesters are recorded into the blockchain via the smart contracts. This occurs when a smart contract matches
1Although they are currently not formally considered as part of the EHR, we extend the EHR data deﬁnition to data collected from wearables as they contain valuable information on the physiological parameters of patients. The proposed model is agnostic to this extended deﬁnition of EHR.

143738

VOLUME 8, 2020

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

FIGURE 4. Consent codes matching for DUO (left-side) and ADA-M matrix (right- side).

the consent of a data provider (consent statement) to a query from the (purpose statement) of a data requester.
Fig. 4 represents the matching of consent codes between the DUO and ADA-M matrix. It represents the DUO consent codes with abbreviations that match the ADA-M codes. In the ﬁgure, a similar color signiﬁes that there is a consent match between two parties. For example, as speciﬁed in Table 1, if a data provider gives consent for HMB research (HMB), this is represented in solid pink color in Fig. 4 (left-side). Similarly, if there is a query regarding Fundamental biology (FB) research, we can observe in Fig. 4 (right-side) that FB has a solid pink color and that there is a match in the given consent. If there is a match, access is granted to the data and the datastore is accessible to the data requester. In case of no match, the request is denied and the data requester is notiﬁed.
V. CONSENT MODEL IMPLEMENTATION In this section, we provide the implementation details of the smart contract and the extension of LUCE [15] with the consent model proposed in this article.
A. EXPERIMENTAL SETUP We implement the smart contract in Solidity [31], a language for smart contracts provided by the Ethereum blockchain. Our consent model is then deployed into the LUCE [15] platform — a blockchain-based data sharing platform implemented in Python and deployed on the Ganache Ethereum network [32]. To run our experiments, we use a LuceVM virtual machine [15] which is running on a 64 bit Ubuntu 16.04 LTS (Xenial Xerus) Linux operating system.

The virtual machine is equipped with 1024 MB RAM. Our consent model implementation is available as open-source.2
LUCE is implemented on top of the Ethereum blockchain. It uses Web3 javascript libraries [33] to interact with the Ethereum blockchain. LUCE uses Django [34] for implementing the user interface. The data providers interact via the Django web framework to share the data and specify the associated consent. LUCE stores the link between the smart contract and the corresponding datastore location.
Every data provider has a smart contract that is used to record the consent and to compare it to the data requester’s purpose of use statement. Fig. 5 shows the code snippet of a smart contract for our data sharing platform. The contract stores the data provider consent statement as a struct named DataProvider_PrimaryCategory. This describes the consent given by the data provider while publishing the data. Optionally, if more restrictions are needed on the data consent form, data providers can specify DataProvider_SecondaryCategory and DataProvider_Requirements. By calling the UploadDataPrimaryCategory function, the consent of the data provider is stored on the blockchain. Similarly, the data provider can call the UploadDataSecondaryCategory and UploadDataRequirements functions to submit the additional terms for data use. Data requester function giveHMBpurpose requests the data by submitting the purpose of use through this function. Similarly, there are other functions deﬁned in the smart contract to query the data while describing the requester’s requirement.
2https://gitlab.com/vjaiman/consentblockchainluce

VOLUME 8, 2020

143739

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

FIGURE 5. Smart contract in consent model.
Through the LUCE platform, the model interacts with Ganache [32], a test network that creates a virtual Ethereum blockchain and generates pre-conﬁgured accounts that are used for the development and testing. The accounts are pre-funded which enables the deployment of the contracts. Ganache provides the balance in ether and notiﬁes the gas used for running the transactions.
VI. EVALUATION To evaluate our solution, we used the D1NAMO dataset [35], a publicly available dataset of 29 patients who collected data using wearables and smartphone technology. The dataset contains data from 20 healthy (H#001-020) patients and 9 with diabetes (D#001-009). Every participant in the dataset collected data for 3 to 4 days. Among others, these data include heart rate, activity, and breathing collected via a wearable sensor. The 29 participants signed an informed consent form during the collection of the data. The data is now open to everyone, but the given consent remains unchanged and within the organization that collected the data. Currently, there is no way to meaningfully follow up on the study with the same data providers. Research clearly suggests that as the needs of future researchers studying data change, the individual consent of the participants
143740

also evolves [36]–[39]. For this reason, we assume that the 29 individuals in the dataset might have different wishes regarding their data use now and therefore would provide different consent terms. For example, a diabetic patient might opt to open the data for the research community by expressing a consent statement in the primary category of the DUO model, while other patients are not open to sharing their data with a broad consent. In this case, they could opt for a disease-speciﬁc category of consent and share the data only for research on a particular disease. In order to evaluate our consent model, we consider different data provider proﬁles and data requesters with different data request statements.
1) DATA PROVIDER PROFILES Table 3 represents three data provider proﬁles. They are classiﬁed as open, restrictive, and very-restrictive in relation to their consent statement. A data provider consent statement is classiﬁed as open if it shares the data for general research use and proﬁt-making purpose. In the restrictive data provider category, a data provider refuses to share data for general research. Instead, s/he makes the data available for health research and proﬁt-making purposes only. This means that a data requester who requests the data for general research use is unable to access the data.
VOLUME 8, 2020

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

FIGURE 6. Access control evaluation over D1NAMO dataset.

TABLE 3. Data provider profiles for consent representation.
TABLE 4. Data requester’s profiles for purpose of use statement representation.
In the very-restrictive category, data providers share the data only for disease-speciﬁc research use such as diabetes, cancer, etc. It also opts out from sharing the data for proﬁt-use purposes. Therefore, if a data requester has a proﬁt-making intention, it will be denied access to the data. These are the three major categories where we categorized the data provider consent statements. 2) DATA REQUESTER PROFILES Table 4 represents the data requester proﬁles divided into three categories. Data requester 1 is requesting data access for general research use and proﬁt-making intention i.e. it is requesting the data for method development or any other research use. Data requester 2 is requesting data access for HMB research and proﬁt-making intention i.e. it is requesting the data access for fundamental biology data or any other data category described in ADA-M matrix form. Similarly, Data requester 3 is requesting data access for disease-speciﬁc

research and non-proﬁt use. In the following, we randomly assign a proﬁle to every user. Based on the proﬁle, we deﬁne their individual consent and measure what portion of the dataset the data requesters will be able to access given the different individual consent forms in the platform.
Based on the different data provider proﬁles deﬁned earlier, we simulate the following scenarios:
1) Scenario 1: 100% open 2) Scenario 2: 40% open, 40% restrictive, 20%
very-restrictive 3) Scenario 3: 30% open, 30% restrictive, 40%
very-restrictive
Scenario 1 creates consent statements where all the data providers are open to share their data. Thereby, all the patients open their data for general research and proﬁt making purposes. Scenario 2 simulates consent statements where 40% of data providers are open, while 40% are restrictive and rest 20% are very-restrictive. Similarly, in the case of scenario 3, data providers submit consent statements where 30% are open, while 30% are restrictive and the rest 40% are very-restrictive. This represents the data providers who are more restrictive compared to the previous scenarios but they are open to share more for disease-speciﬁc purposes. In this evaluation, we expect that individual consent introduces more individual data sharing control and that the individual dynamics will reﬂect on which purpose of use statement will be more successful in obtaining the data.
Scenario 1: In scenario 1, everyone is willing to share their data, that means all the healthy and unhealthy subjects are open to share the data with others. Therefore, as seen in Fig. 6, data requester 1 can access the whole data shared by data providers. Data requester 2 is requesting data for HMB research, therefore it will access only the data from healthy patients, which is the portion of the data needed for this research. Overall, data requester 2 will get the 68.9% of the dataset. Similarly, data requester 3 is requesting the data for disease-speciﬁc research and non-proﬁt use, therefore,

VOLUME 8, 2020

143741

TABLE 5. Consent matching in Scenario 1.

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms TABLE 7. Consent matching in Scenario 3.

TABLE 6. Consent matching in Scenario 2.

s/he will be able to access the data from diabetic patients as requested by the research purpose statement. This is because all the data providers open their data for proﬁt use and therefore, non-proﬁt data requesters will also get access to the data. We observe a detailed view of consent matching for Scenario 1 in Table 5.
Scenario 2: In scenario 2, as seen in Fig. 6, we observe a drop in the percentage of data shared with the data requester 1. It means, based on the consent speciﬁed by data providers, there is more access control by the consent model. This is explained by the fact that only 40% of the data providers are open. All the other data providers in this scenario are now restrictive or very-restrictive. We observe that data requester 1 only accesses 41.37% of the dataset, a considerably lower percentage compared to the previous scenario. However, we observe an increase in percentage for data requester 2 that access 68.96% of the dataset. This happens because data requester 2 is requesting data with a more speciﬁc purpose of use (HMB research). Moreover, 40% of data providers who are restrictive will grant access to more speciﬁc research statements (such as HMB research). Similarly, for data requester 3, we don’t see any changes in the dataset access percentage. Since data requester 3 is seeking data for disease-speciﬁc and non-proﬁt use, therefore, it will always match the consent, even from the restrictive user proﬁles. We observe a detailed view of consent matching results for Scenario 2 in Table 6.
Scenario 3: In scenario 3, as seen in Fig. 6, we observe a sharing percentage drop for data requester 1 and 2 compared to the previous scenarios. Since only 30% data providers are open while the majority of data providers are veryrestrictive, there is a strict access control by the consent model. We observe that data requester 1 can only access 31.03% of the dataset while data requester 2 can only access 51.72% of the dataset. We observe no changes in percentage for data requester 3 which is explained by the proﬁle of
143742

data requester 3 which is requesting data for disease-speciﬁc research. We observe a detailed view of consent matching results for Scenario 3 in Table 7.
Fig. 6, shows the evaluation results in the three different scenarios. The results show that i) our consent model for data sharing gives users greater data control and ii) different user consents will reﬂect the speciﬁcity of purpose of use statements.
3) COST ANALYSIS To understand the applicability of the consent model, we perform a cost analysis to evaluate the applicability of our smart contract model. In performing the cost analysis, we considered several parameters:
1) Total amount of gas spent during contract deployment. 2) Amount of gas consumed on executing the data
provider consent. 3) Amount of gas consumed on executing the data
requester queries. 4) Amount of gas spent while matching the consent. In the Ethereum environment, every operation in the smart contract consumes some amount of gas (a measure of the computational effort required to perform an operation). Some operations require more computational effort than others, therefore the gas consumption can vary. We evaluate gas consumption of the smart contract based on the relevant operations and based on who is performing them (the data provider or the data requester). Table 8 shows the total gas consumption to execute the contract is 1765926. We considered the average gas price of 8 Gwei according to the current date and time of ETH gas station [40]. Therefore, the relevant cost of contract deployment is 0.0141274 ETH with a corresponding price of $ 2.92. To better understand the involved costs, we calculate the total cost of contract deployment and the cost of interactions between the data providers and data requesters. Therefore, the total cost for sharing the data is measured by the accumulative cost of contract deployment, the cost for submitting the consent, and the data requesters’ cost for querying the data. Fig. 7 shows the amount of gas consumption for different scenarios. From the results, we can observe that most data requesters consume more gas than data providers. This is explained by the number of interactions that they have with the smart contracts of data providers. The broader the
VOLUME 8, 2020

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms TABLE 8. Gas consumption of smart contract.

FIGURE 7. Gas consumption in different scenarios for the whole dataset.
expressed purpose of the use is, the more data providers may be contacted to ask for data access. This is also reﬂected in the fact that the data requester 3, who is looking only for diabetes data, will be requesting the data only of 9 of the 29 participants as opposed to data provider 1 and 2 who will contact all 29. Furthermore, data providers who are more restrictive would have to evoke additional functions in the smart contract than the more open data requesters, which is reﬂected in a slight increase in costs for data providers by approximately 6 percent, amounting to $ 0.006. A detailed table of costs is shown in 8. It is possible to fund the data provider costs by requesting a small fee to be paid by the data
VOLUME 8, 2020

FIGURE 8. Latencies of data providers and data requesters.
requesters when the data is accessed. The overall costs in the system will remain the same, however, the incentives between data requesters and data providers could be better balanced if data requesters did not occur costs to share their data. The deployment cost for one smart contract is ≈ $ 3, which is covered once by the data provider. The total deployment cost of the whole D1NAMO dataset amounts to $87. To place this into perspective, the costs of the D1NAMO dataset project are approximately several thousand more. While these studies are important, the data collection could be achieved by our model with minor efforts and with more ﬂexibility for secondary uses of the same data.
a: LATENCY MEASUREMENTS With an increasing willingness to share data, we believe that individual data could be collected in much shorter time frames. While platforms like LUCE are not available to the public yet, we show that it would be possible to efﬁciently reconstruct databases even in scenarios where users would not be always fully open to data sharing. For example, if we want to develop the same dataset of 29 patients, each patient can easily share data on the LUCE platform by submitting their consent. As seen in Fig. 8, the latency of a data requester is higher due to the interaction with multiple contracts. The single interaction with one smart contract is in the order of 50 ms. This means that for interacting with 1000 potential data providers, it would take about 50 seconds. The interaction with all the 29 patients in the dataset, it takes 1.5 seconds. Fig. 8 shows the average interaction by each data requester which is ≈ 1 sec . Moreover, it takes an average of 220 ms to submit queries by each data requester. The latency for data providers might vary. For example, a very-restrictive data provider uses the UploadDataRequirements function, which takes ≈ 150.6 ms to execute.
VII. DISCUSSION In this section, we discuss several issues related to data sharing using a blockchain-based consent model.
A. SCALABILITY Our blockchain-based consent model gives more ﬂexibility than current methods where organizations must ask for consent using physical forms. Also, smart contracts reduce or
143743

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

eliminate the need for a trusted third party to process the data. As a result, the cost of data sharing between organizations or individuals is reduced. This model enables large data collection with fast processing and in limited time. Currently, there is a lot of data that is unused because of unfair data sharing practices. With our model, we expect more individual adherence to data sharing. Scalability in blockchain platforms can become a challenge when the number of users increases [41], and in our future work, we will seek to measure how well the platform scales with a large number of users.
B. DATA HETEROGENEITY FOR DATA SHARING Shared data are heterogeneous in nature. When sharing data in our platform, there is a need for common ontological representation models where data providers can describe their contents related to their consent. Solutions such as OHDSI [42] and other health data ontological solutions can help to better represent the contents of the shared data.
C. DATA PRIVACY AND ACCESS CONTROL In our consent model, individuals are enabled to express consent over their data use and change, modify or request to delete all data if desired. This ensures compliance with privacy protection laws such as the GDPR. Moreover, the transaction data stored in the blockchain do not reveal patient identities nor contain the records of patients. They are rather transactions containing the information about who accessed what records for which purpose. However, there is a need for detailed studies on how these models can be enrolled in a secure and privacy-preserving manner [43]–[46]. The security and privacy aspects were not the focus of this work, but we believe that they are imperative for users’ acceptance of such solutions. In future work, we will investigate the use of cryptographic protocols, such as multi-party computation [47], and token-generation [48] for further securing the data-sharing platform.
VIII. CONCLUSION AND FUTURE WORK Data privacy is an important issue for most data providers. In the data sharing context, data requesters must comply with GDPR and the consent of data providers. We found that work on facilitating data sharing with user consent is in an early stage. In this article, we proposed a framework for sharing data with explicit consent from data providers. We use the DUO and ADA-M model to embed a standardized ontological consent and data request model. We developed a smart contract to automate a generic consent model, and deployed and tested the solution in LUCE, our data sharing platform. The evaluation shows that data providers achieve data control while sharing the data using our blockchain-based consent model.
As future work, we plan to investigate the scalability of our model where we will measure the impact of the model in real-life scenarios where the number of data providers or data requesters is very large. This could impact the performance of data sharing which is a current working issue in any
143744

blockchain platform. Furthermore, we plan to simulate large tests to ensure that the consent mechanism maintains privacy for data providers.
ACKNOWLEDGMENT The authors would like to thank Anthony Krieger for his initial insight on the work which helped them to complete this work on time. They also thank Arno Angerer for his initial implementation of the LUCE platform which helped them to develop their model.
REFERENCES
[1] B. Marr. How Much Data do we Create Every Day? The Mind-Blowing Stats Everyone Should Read. Accessed: Dec. 15, 2019. [Online]. Available: https://www.forbes.com/sites/bernardmarr/2018/05/21/howmuch-data-do-we%-create-every-day-the-mind-blowing-stats-everyoneshould-read/#4508696a60ba/
[2] Cambridge Analytica Facebook. Accessed: Dec. 15, 2019. [Online]. Available: https://www.theguardian.com/news/2018/mar/17/cambrideanalytica-facebook-inﬂuence-us-election
[3] J. van Dijck, D. Nieborg, and T. Poell, ‘‘Reframing platform power,’’ Internet Policy Rev., vol. 8, no. 2, pp. 1–10, Jun. 2019.
[4] L. Piwek, D. A. Ellis, S. Andrews, and A. Joinson, ‘‘The rise of consumer health wearables: Promises and barriers,’’ PLOS Med., vol. 13, no. 2, Feb. 2016, Art. no. e1001953.
[5] M. Venkataramanan, ‘‘My identity for sale,’’ in Proc. WIRED, Nov. 2014, pp. 1–4
[6] L. J. Kish and E. J. Topol, ‘‘Unpatients, why patients should own their medical data,’’ Nature Biotechnol., vol. 33, no. 9, p. 921, 2015.
[7] General Data Protection Regulation. Accessed: Dec. 15, 2019. [Online]. Available: https://gdpr-info.eu
[8] N. Purtova, ‘‘The illusion of personal data as no one’s property,’’ Law, Innov. Technol., vol. 7, no. 1, pp. 83–111, Jan. 2015.
[9] O. P. Foundation, ‘‘Ocean protocol: A decentralized substrate for ai data & services technical whitepaper,’’ Ocean Protocol Found., Singapore, Tech. Whitepaper Version 2019-APR-15, 2019.
[10] X. Liang, S. Shetty, D. Tosh, C. Kamhoua, K. Kwiat, and L. Njilla, ‘‘ProvChain: A blockchain-based data provenance architecture in cloud environment with enhanced privacy and availability,’’ in Proc. 17th IEEE/ACM Int. Symp. Cluster, Cloud Grid Comput. (CCGRID), May 2017, pp. 468–477.
[11] A. Ramachandran and D. Murat Kantarcioglu, ‘‘Using blockchain and smart contracts for secure data provenance management,’’ 2017, arXiv:1709.10000. [Online]. Available: http://arxiv.org/abs/1709.10000
[12] A. Azaria, A. Ekblaw, T. Vieira, and A. Lippman, ‘‘MedRec: Using blockchain for medical data access and permission management,’’ in Proc. 2nd Int. Conf. Open Big Data (OBD), Aug. 2016, pp. 25–30.
[13] S. O. M. Dyke, A. A. Philippakis, J. Rambla De Argila, D. N. Paltoo, E. S. Luetkemeier, B. M. Knoppers, A. J. Brookes, J. D. Spalding, M. Thompson, M. Roos, K. M. Boycott, M. Brudno, M. Hurles, H. L. Rehm, A. Matern, M. Fiume, and S. T. Sherry, ‘‘Consent codes: Upholding standard data use conditions,’’ PLOS Genet., vol. 12, no. 1, pp. 1–9, 01 2016, doi: 10.1371/journal.pgen.1005772.
[14] J. P. Woolley, E. Kirby, J. Leslie, F. Jeanson, M. N. Cabili, G. Rushton, J. G. Hazard, V. Ladas, C. D. Veal, S. J. Gibson, A.-M. Tassé, S. O. M. Dyke, C. Gaff, A. Thorogood, B. M. Knoppers, J. Wilbanks, and A. J. Brookes, ‘‘Responsible sharing of biomedical data and biospecimens via the automatable discovery and access Matrix (ADA-M),’’ NPJ Genomic Med., vol. 3, no. 1, p. 7, Dec. 2018.
[15] N. Havelange, M. Dumontier, B. Wouters, J. Linde, D. Townend, A. Riedl, and V. Urovi, ‘‘LUCE: A blockchain solution for monitoring data license accountability and CompliancE,’’ 2019, arXiv:1908.02287. [Online]. Available: https://arxiv.org/abs/1908.02287
[16] S. Nakamoto, ‘‘Bitcoin: A peer-to-peer electronic cash system,’’ Bitcoin Tech. White Paper, Oct. 2008. [Online]. Available: https:// bitcoin.org/bitcoin.pdf
[17] Ethereum White-Paper. Accessed: Dec. 15, 2019. [Online]. Available: https://github.com/ethereum/wiki/wiki/White-Paper
[18] N. Szabo, ‘‘The idea of smart contracts,’’ Nick Szabo’s Papers Concise Tuts., Tech. White Paper, 1997.
VOLUME 8, 2020

V. Jaiman, V. Urovi: Consent Model for Blockchain-Based Health Data Sharing Platforms

[19] Z. Zheng, S. Xie, H.-N. Dai, W. Chen, X. Chen, J. Weng, and M. Imran, ‘‘An overview on smart contracts: Challenges, advances and platforms,’’ Future Gener. Comput. Syst., vol. 105, pp. 475–491, Apr. 2020.
[20] V. Buterin, ‘‘A next generation smart contract & decentralized application platform,’’ Ethereum Tech. White Paper, 2014.
[21] D. T. Stein and S. F. Terry, ‘‘Reforming biobank consent policy: A necessary move away from broad consent toward dynamic consent,’’ Genetic Test. Mol. Biomarkers, vol. 17, no. 12, pp. 855–856, Dec. 2013, doi: 10.1089/gtmb.2013.1550.
[22] B. Genge, K. Rantos, G. Drosatos, A. Kritsas, C. Ilioudis, A. Papanikolaou, and A. P. Filippidis, ‘‘A blockchain-based platform for consent management of personal data processing in the iot ecosystem,’’ Secur. Commun. Netw., vol. 2019, Oct. 2019, Art. no. 1431578, doi: 10.1155/2019/1431578.
[23] E. R. Riggs, o. behalf of the Clinical Genome Resource Education Working Group, D. R. Azzariti, A. Niehaus, S. R. Goehringer, E. M. Ramos, L. L. Rodriguez, B. Knoppers, H. L. Rehm, and C. L. Martin, ‘‘Development of a consent resource for genomic data sharing in the clinical setting,’’ Genet. Med., vol. 21, no. 1, pp. 81–88, Jan. 2019.
[24] E. Maler, ‘‘Extending the power of consent with user-managed access: A standard architecture for asynchronous, centralizable, Internetscalable consent,’’ in Proc. IEEE Secur. Privacy Workshops, May 2015, pp. 175–179.
[25] T. T. Thwin and S. Vasupongayya, ‘‘Blockchain based secret-data sharing model for personal health record system,’’ in Proc. 5th Int. Conf. Adv. Inform., Concept Theory Appl. (ICAICTA), Aug. 2018, pp. 196–201.
[26] A. Dubovitskaya, Z. Xu, S. Ryu, M. Schumacher, and F. Wang, ‘‘Secure and trustable electronic medical records sharing using blockchain,’’ in Proc. AMIA, 2017, pp. 650–659.
[27] X. Zheng, R. R. Mukkamala, R. Vatrapu, and J. Ordieres-Mere, ‘‘Blockchain-based personal health data sharing system using cloud storage,’’ in Proc. IEEE 20th Int. Conf. e-Health Netw., Appl. Services (Healthcom), Sep. 2018, pp. 1–6.
[28] K. Bhaskaran, P. Ilfrich, D. Liffman, C. Vecchiola, P. Jayachandran, A. Kumar, F. Lim, K. Nandakumar, Z. Qin, V. Ramakrishna, E. G. Teo, and C. H. Suen, ‘‘Double-blind consent-driven data sharing on blockchain,’’ in Proc. IEEE Int. Conf. Cloud Eng. (IC2E), Apr. 2018, pp. 385–391.
[29] E. Androulaki, ‘‘Hyperledger fabric: A distributed operating system for permissioned blockchains,’’ in Proc. 13th EuroSys Conf., Apr. 2018, pp. 1–15, doi: 10.1145/3190508.3190538.
[30] R. Neisse, G. Steri, and I. Nai-Fovino, ‘‘A blockchain-based approach for data accountability and provenance tracking,’’ in Proc. 12th Int. Conf. Availability, Rel. Secur., Aug. 2017, pp. 1–10, doi: 10.1145/ 3098954.3098958.
[31] Solidity. Accessed: Jan. 15, 2019. [Online]. Available: https:// solidity.readthedocs.io/en/v0.6.4/
[32] Ganache. Accessed: Jan. 15, 2019. [Online]. Available: https://www.trufﬂesuite.com/docs/ganache/overview
[33] Ethereum Javascript Api. Accessed: Jan. 15, 2019. [Online]. Available: https://web3js.readthedocs.io/en/v1.2.6/
[34] Django. Accessed: Jan. 15, 2019. [Online]. Available: https:// docs.djangoproject.com/en/3.0/
[35] F. Dubosson, J.-E. Ranvier, S. Bromuri, J.-P. Calbimonte, J. Ruiz, and M. Schumacher, ‘‘The open D1NAMO dataset: A multi-modal dataset for research on non-invasive type 1 diabetes management,’’ Informat. Med. Unlocked, vol. 13, pp. 92–100, Oct. 2018.
[36] J. Kaye, E. A. Whitley, D. Lund, M. Morrison, H. Teare, and K. Melham, ‘‘Dynamic consent: A patient interface for twenty-ﬁrst century research networks,’’ Eur. J. Human Genet., vol. 23, no. 2, pp. 141–146, 2015.
[37] J. Kaye, L. Curren, N. Anderson, K. Edwards, S. M. Fullerton, N. Kanellopoulou, D. Lund, D. G. MacArthur, D. Mascalzoni, J. Shepherd, P. L. Taylor, S. F. Terry, and S. F. Winter, ‘‘From patients to partners: Participant-centric initiatives in biomedical research,’’ Nature Rev. Genet., vol. 13, no. 5, pp. 371–376, May 2012.
[38] I. Chalmers, ‘‘People are ‘participants’ in research: Further suggestions for other terms to describe ‘participants’are needed,’’ BMJ, Brit. Med. J., vol. 318, no. 7191, p. 1141, 1999.
[39] E. M. Meslin and M. K. Cho, ‘‘Research ethics in the era of personalized medicine: Updating Science’s contract with society,’’ Public Health Genomics, vol. 13, no. 6, pp. 378–384, 2010.

[40] Eth Gas Station. Accessed: Mar. 20, 2020. [Online]. Available: https://ethgasstation.info/
[41] M. Vukolić, ‘‘The quest for scalable blockchain fabric: Proof-of-work vs. bft replication,’’ in Open Problems in Network Security, J. Camenisch and D. Kesdoğan, Eds. Cham, Switzerland: Springer, 2016, pp. 112–125.
[42] Observational Health Data Sciences and Informatics. Accessed: Mar. 20, 2020. [Online]. Available: https://www.ohdsi.org
[43] F. Wang, J. Mickens, N. Zeldovich, and V. Vaikuntanathan, ‘‘Sieve: Cryptographically enforced access control for user data in untrusted clouds,’’ in Proc. 13th USENIX Symp. Netw. Syst. Des. Implement., Santa Clara, CA, USA, Mar. 2016, pp. 611–626. [Online]. Available: https://www.usenix.org/conference/nsdi16/technicalsessions/presentatio%n/wang-frank
[44] L. Sweeney, ‘‘K-anonymity: A model for protecting privacy,’’ Int. J. Uncertain. Fuzziness Knowl.-Based Syst., vol. 10, no. 5, p. 557–570, Oct. 2002, doi: 10.1142/S0218488502001648.
[45] A. Narayanan and V. Shmatikov, ‘‘Robust de-anonymization of large sparse datasets,’’ in Proc. IEEE Symp. Secur. Privacy, 2008, pp. 111–125, doi: 10.1109/SP.2008.33.
[46] B. Huang, R. Zhang, Z. Lu, Y. Zhang, J. Wu, L. Zhan, and P. C. K. Hung, ‘‘BPS: A reliable and efﬁcient pub/sub communication model with blockchain-enhanced paradigm in multi-tenant edge cloud,’’ J. Parallel Distrib. Comput., vol. 143, pp. 167–178, Sep. 2020. [Online]. Available: http://www.sciencedirect. com/science/article/pii/S0743731520302847
[47] A. C.-C. Yao, ‘‘How to generate and exchange secrets,’’ in Proc. 27th Annu. Symp. Found. Comput. Sci., Oct. 1986, pp. 162–167.
[48] P. K. Sharma, M.-Y. Chen, and J. H. Park, ‘‘A software deﬁned fog node based distributed blockchain cloud architecture for IoT,’’ IEEE Access, vol. 6, pp. 115–124, 2018.
VIKAS JAIMAN received the Ph.D. degree from Université Grenoble Alpes, France, in 2019. He is currently a Postdoctoral Researcher with the Institute of Data Science (IDS), Maastricht University, The Netherlands. His research interests include blockchain, distributed computing, and distributed storage systems. His Ph.D. was funded by several European projects which include OCCIWare, DIONASYS, and EBSIS. He was a member of the ACM European Conference on Computer Systems (EuroSys) Shadow Program Committee, in 2018. He was a recipient of the Best Paper Award for his work at the DAIS Conference 2020. He has served as the Tutorial Chair of the European Dependable Computing Conference (EDCC), in 2018.
VISARA UROVI received the B.Sc. and M.Sc. degrees in computer science from the University of Bologna and the Ph.D. degree from the Royal Holloway, University of London. She is currently an Associate Professor with the Institute of Data Science, Maastricht University. Her research interests include blockchain-based solutions for data interoperability and exchange and standard-based privacy preserving distributed data exchange protocols. She has been involved in generic platform solutions for electronic health record data interoperability and exchange. She was responsible for the deﬁnition of automated negotiation protocols in the ARGUGRID, FP7 EU Project. She is the Primary Investigator of the PRIMA Project, a blockchain-based solution focusing on health data exchange. She is working on the LUCE platform, an open-source blockchain platform for monitoring data licenses.

VOLUME 8, 2020

143745

