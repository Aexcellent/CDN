 论  第 3 5 卷第 2 期

系 统工程 理 与 实践

Ｖ Ｎ ｏ ｌ． 3 5

ｏ ．  2

,

年 月 Ｅ Ｔ   2 0 1 5 

2

Ｓ ｙｓｔ ｅｍ ｓ

ｎ ｇｉｎ

ｅｅ

ｒ

ｉｎ

ｇ

—




ｈ ｅ ｏｒ ｙ

Ｐ ｒ ａｃｔ ｉｃ ｅ

Ｆ ｂ ｅ

．

2 0

1  5

,

文章编 号 中 图 分 类 号 文献标 志码 ：

10

0 0 －6

78

8 (

20

1 5)

0 2－ 0 3

9 4 1 －

2

：

Ｕ1 6 9．62

Ａ
：

考 虑了 交 箱时 间 不确定性的 场桥堆存作 业优化  

邵 乾虔 徐 奇 边 展 靳 志 宏  

,

,

,

大连 海事 大 学 交 通运 输 管理 学 院

(

,

大连

1 1 6 0 2 6 ) 

摘 要 客 户 送 箱 时 间 的 不确 定 性 直 接影 响 出 口 箱 的 场 桥堆 存 作 业效 率 和 其 在 集 装箱 码 头堆 场 的 堆

存 状 态 进 而 增 加 场 桥 作 业 移 动 距 离 以及 后 续 装船 过 程 中 的翻 箱 作 业 量 降低 码 头 作 业 效 率 ． 针 对  

,

,

该 问 题 通 过 马 尔 可 夫 链 预 测 方 法 将 随 机 交 箱 序 列 转化 为 广 义 交 箱 序 列 , 在 此基 础 上 , 结合 集 装箱 港

口 作 业 实 际 建 立 了 以 最 小 化 预 翻 箱 数 量 和 场 桥 堆 存 作 业 移 动 距 离 为 目 标 的 场 桥调 度 优 化 两 阶 段   ,

数 学 模型 并 分 别 针对 初始 决策 阶 段 和 实 时 调 度 阶 段 设计 了 静 态 与 动 态 求 解算 法 ． 通过仿真 算 例

,

, 

借助于与 不 同 堆存策略 的对比 ,

显示

了

优化 模 型 及算 法

的

实

用

性与

有效性 ,

为 场 桥调 度 方 案 的 实 时  

生 成 提 供 决 策 支 持 ．

关 键词 集 装 箱 场 桥调 度 翻 箱 广 义 交 箱 序 列 马 尔 可夫 链

；

；

；

；

Ｓ ｔ ｏ ｃｋ ｐ ｉ ｌｉｎ ｇｏ ｐ ｅ ｒａ ｔ ｉ ｎ ｇｏ ｐ ｔ ｉ ｍｉ ｚ ａｔ ｉｏ ｎ ｆｏ ｒｙ ａｒ ｄｃ ｒ ａ ｎｅ ｗ ｉｔ ｈｃ ｏ ｎｔ ａｉｎ ｅｒ ｓ ｄｅ ｌｉｖｅ ｒｙ ｔ ｉ ｍｅｕ ｎ ｃ ｅｒ ｔ ａ ｉｎｔ ｙ  

Ａ  Ｈ  Ｕ Ｑ Ａ Ｎ Ｓ

Ｏ Ｑ 

ｉ

ａ ｎ－

ｑｉ

ａｎ ,

Ｘ 

ｉ  Ｂ Ｉ Ｎ  Ｚ ｈａ ｎ

,

,

ＪＩ

Ｚ

ｈ

－
ｉ

ｈｏ

ｎ

ｇ  

Ｃ Ｔ Ｍ Ｄ Ｍ Ｕ Ｄ Ｃ (

ｏｌ ｌｅ ｇｅ ｏｆ

ｒ ａｎｓ ｐ ｏｒｔａｔ ｉｏｎ 

ａｎａｇ ｅ ｍ ｅｎ ｔ ,



ａｌｉ ａｎ

ａｒｉ ｔｉ ｍ ｅ

ｙ ｎ ｉ ｖｅ ｒｓ ｉ ｔ , 

ａｌｉ ａｎ  1 1 6 0 2 6
,

ｈ ｉ ｎａ
) 

Ａ  Ｔ ｂ ｓｔ ｒａ ｃｔ

ｈｅｕ ｎｃ ｅ ｒｔ ａ ｉｎ ｔｙｏ ｆ ｃｕｓｔ ｏｍ ｅｒ ｄｅｌｉ ｖ ｅ ｒｙ  ｔｉ ｍｅ ｈ ａｓ ａｄ ｉｒ ｅ ｃ ｔ ｅ ｆｅｃ ｔ ｏ ｎ ｓｔ ｏ ｃ ｋｐｉｌ ｉｎ ｇ ｅｆ ｆ ｉｃ ｉ ｅｎｃ ｙ ａｎ ｄ  

ｓｔ ａｔ ｕ ｓ ｏｆ ｅｘｐｏ ｒｔ ｅｄ  ｃｏｎ ｔ ａｉ ｎｅｒ ｓ ,  ｗｈ ｉ ｃ ｈｍ ａｙ  ｌｅａ ｄｔ ｏ ｉ ｎｃｒｅ ａｓ ｉｎｇ ｔｈｅ ｙ ａｒ ｄ ｃｒ ａｎｅ ｍ ｏｖ ｉ ｎ ｇ ｄ ｉｓ ｔ ａｎｃｅ ａ ｎｄ ｔｈｅ

 Ｍ ｆｏｌ

ｌｏ

ｗ－

ｕ ｐｌ ｏ ａｄ

ｎ
ｉ

ｇ



ｒｅ ｌ

ｏ ｃ ａｔ

ｉｏ

ｎｓ

．

Ｉ ｎｔ ｈｉｓ  ｐ ａ ｐ ｅｒ , 

ａ ｒｋｏｖ  ｆｏ ｒｅｃ ａｓ ｔｉ ｓ ａ ｐ ｐ ｌ ｉｅ ｄ ｔｏ ｏ ｂｔ ａｉ ｎ ａ ｇ ｅｎｅｒａ ｌ ｉｚｅｄｄ ｅｌ ｉｖｅ ｒ ｙ

Ｂ ｓ ｅｑｕｅｎｃ ｅ  ．

ａ ｓｅ ｄ ｏ ｎ  ｔｈ ａｔ

,

ａ


ｔ

ｗ

ｏ－

ｓｔ ａｇ ｅｍ ｏ ｄｅｌ  ｉｓ ｆｏ ｒｍ ｕ ｌａ ｔｅｄ  ｆｏｒ  ｓ ｔｏｒ ａ ｇｅ ａ ｎｄ ｃｒ ａ ｎ ｅｍ ｏｖ ｉ ｎｇ ｐ

ａｔｈ

ｏ ｐ ｔ ｉｍ ｉｚａ ｔ ｉｏ ｎ ,

ｈ ｃｏ ｎｓｉ ｄｅ

ｒｉ ｎｇ  ｔｈｅ

ａ ｃｔ

ｕａ ｌ ｏｐ

ｅ ｒａ ｔｉ

ｏ ｎ ｓ ｏｆ

ｃ ｏ ｎｔａ ｉｎ

ｅｒ ｔｅ ｒ ｍ ｉｎａ ｌｓ

 ．

Ｉ

ｎａ ｄ ｄ ｉｔ

ｉ

ｏｎ

, ｓ

ｔ

ａｔｉ ｃａ ｌ ｇｏ ｒｉ

ｔ

ｈ ｍ  ｆｏ ｒ ｍ ａｋ ｉ ｎｇ ｔ

ｎ ａ ｅ ｉ

ｉｔ ｉ ｌ  

ｐｌ ａｎ ａ ｎ ｄ ｄｙｎａ ｍ ｉｃ ａｌ ｇｏ ｒ ｉｔ ｈ ｍ ｆｏｒ  ｍ ａｋ ｉｎｇ ｔ

ｈ

ｅ

ｒ

ｅ

ａ－ ｌ

ｔｉ ｍ ｅｏ ｐ ｔ ｉｍ ｉｚａ ｔ ｉｏ ｎａ ｒｅ

ｄｅｖ ｅｌ

ｏｐ

ｅ

ｄ

ｒ

ｅ

ｓ

ｐ

ｅ

ｃｔ

ｖ ｙ ｉ

ｅｌ

．

Ｓ ｅｖｅｒ ａｌ  ｓｅｔ ｓ

ｏｆ ｅｘｐ ｅｒｉ ｍｅ ｎｔ ａ ｌ ｒ ｅｓ ｕｌｔ ｓ ｄ ｅ ｍ ｏｎｓ ｔ ｒａ ｔｅｄ  ｔｈｅ ｅｆｆｅｃ ｔｉ ｖｅ ｎ ｅｓ ｓ ａ ｎ ｄ ｐ ｒ ａ ｃｔ ｉ ｃａｂ ｉ ｌｉ ｔｙ  ｏｆ ｔ ｈｅ ｍｏ ｄ ｅ ｌ ａ ｎｄｔ ｈｅ ａｌ ｇｏ ｒｉ ｔ ｈｍ  

Ｔ  ｂｙｔ ｈｅｃｏ ｍ ｐ ａｒ ｉｓ ｏ ｎｗ ｉｔ ｈ ｄｉ ｆｆｅｒ ｅｎｔ ｓｔｏ ｃ ｋ ｐｉ ｌ ｉｎｇ ｓｔ ｒ ａｔ ｅ ｇｉ ｅ ｓ ．

ｈ ｅ ｍ ｏｄｅ ｌ ａｎ ｄ ａ ｌｇ ｏ ｒｉｔ ｈｍ ｐ ｒｏ ｐｏｓ ｅｄｉ ｎｔ ｈｉ ｓ ｐａ ｐｅｒ

ｐ ｐｒ ｏｖｉ ｄ ｅｄｅｃ ｉ ｓｉ ｏ ｎｓｕ ｐ ｈ ｏ ｒｔ ｆｏｒ ｒ ｅ ａｌ － ｔ ｉｍｅ ｓ ｃ ｅｄｕ ｌｉ ｎｇ ｓ ｃ ｈｅｍｅ  ｏｆ ｃｒ ａｎ ｅ ｙａ ｒｄ ．  

Ｋ ｙ Ｍ ｄ ｅ

ｗ ｏｒ

ｓ ｃ

ｏｎｔ ａｉ ｎ ｅｒ  ； ｙａｒ ｄ ｃｒ ａｎ ｅｓ ｃｈ

ｅｄｕｌ ｉｎ

ｇ；  ｒｅ ｌｏ

ｃ ａｔ

ｉｏｎ ； ｇ ｅ ｎ ｅｒ ａ ｚ ｌｉ

ｅ ｄ ｄ ｅ ｌ ｉｖ ｅｒｙｓ ｅｑｕｅｎｃｅ


；

ａ ｒｋｏｖ  ｃｈ ａｉ ｎ  

ｏ 引言

集装箱 码头堆场是集装箱运输作业 的统 集 一 散地 , 也是港 口 运作不可或缺 的重要 资源 ． 集装箱堆场 的 主  

要装 卸设备 － 场桥 的作业调度对 堆场甚 至整个码 头的作业 效率有直接影响 ． 对于出 口 箱而言 集装箱 到 达顺   ,

序的 不确 定性将直接增加场桥 堆存 作业的 随机性 进 而降低其作业效率 不确 定 的交箱 序列 以 及堆场规模的   ． ,

限制 也 会导致 出 口 箱装船时出现 一定数量 的 翻 箱． 以 国 内 现代 化水平较高 的集装箱 码头的 调査 数据为例 翻 ,

箱率约为

1 4％

左右 ’

且长期居高不下．

场桥调度以 及翻 箱作业 已 成为 影响 集装箱码头作业效率 的 瓶颈 因素

, 

如何优 化 出 口 箱堆存策 略以 有效提 高场桥作 业效 率并减少翻 箱作业 巳成为码头面 临 的 重要课题．   ,

许多 学者研 究 了 基于 不同 优化 目 标 的场 桥堆存作业优化 问 题 等 Ｋ ｉｍ ,

研究 了 单 台 场桥 的 最优路  

收稿 日 期 ：  2 0 1 3 － 0 7 － 0  1

顧 家 然科 基 育部高 博 科 专项 研 央高 资

国 目 ： 自

学

金 教 7 (

1 1 721

0 8 71 3 0 2 0 4 ,

4 )

；

等学校 士学 点

科

基金 中 ( 2 0 1 2 2 1 2 5 1 1 0 0 0 9 ) ；

校基  

本 科研业 务 费专 项 资金 ( 3 1 3 2 0 1 3 3 2 0  )

作者简介 邵乾虔 男 汉 东人 博士研究生 研究 方 物 流系 统优化与模拟仿真 ：

1 9 8 8－

山

(

),

,

,

’

向：
,

Ｅ ＠  ,

ｍ －

ａｉ ｌ

：ｍｒ

ｃｒ
＿

ｏ ｗｌｅ ｙ

1 6 3 ． ｃ ｏｍ
；

徐奇 女 汉 广西桂林人 讲师 博士 研究 方向 物 流 系统优 化 与模拟仿真 边展 女 4 ( 1 9 8

－
),

,

,

：

,

,

,

Ｅ 0 ｍ －

ａｉ

ｌ：

ｃ ｏｇｉ

1 6 3 ． ｃ ｏｍ

；

,

1 9 9 0－

(

),

’

汉 东菏泽人 博士研究生 研究方 物流系 统优化 通信作者 靳志宏 男 汉 山

,

,

向：
,

Ｅ ＠ ｈ ｍ － ａｉｌ  ： ｂ ｉａｎｚ ａｎｌ 9 9 0

1 6 3 ． ｃ ｏｍ

,

；

：

－

( 1 963

),

,

辽  
,

宁沈 阳人 教授 博士 研究方 物流 系统 优化 与模拟 仿真 ,

,

,

向：

Ｅ ＠ 
’

ｍ ａ －

ｉ

 ｌ ：

ｊ

ｉｎ ｚ ｈｉｈ ｏｎ ｇ

ｄ ｕ ｄ ｕ ｌｍ

ｅ ．

ｃｎ ．

．  

第 2 期邵 乾 虔 等： 考虑 了 交箱 时 间 不确 定性的场 桥 堆存 作业优 化 3 9  5 ,

径 问 题, 建 立混合整数规 划模 型以 优 化场桥 总 作业时 间 并且给 出 了 模型 的精确 求解方法 针对 同 样的 问 题

,

；

,

Ｋｉｍ 等 问 又 提 出 了相应 的遗传算法和 集束搜索算法进行求解 Ｎａｒａｓｉｍｈａｎ 等 ⑷ 在 巳知 出 口 集装箱 的 贝 位   ；

计 划的 前提下

开发了 分 枝定界算法 求解场桥作业 时间最小化 问题

等 Ｋ ｉ ｍ

5

［

］

考虑 场桥作业的 不 同限制 条  

,

；

件建立混合整龍划模型 设计 了 分 枝界 定法 进行求解 并用 贪婪 随循应 搜索过＿克服其在 计算机求解  

,

’

时的 缺点．

Ｎｇ 等

6 】 ［

在作业 任务数 量、

作业任务预期 时间 己 知 条件下研 究 了 单 台 场桥作业顺 序 问题,

模 型 中  

考虑 了集 卡到 来时刻对场桥调度 的影 响 并利 用 启 发式算法 对该问 题进行求解 ． 韩晓龙 ⑴ 讨论 了 在 出 口 装 ,

船过程 中单 台 场桥的 最优路径 问 题 建立 了 以 场桥完成 任务总 时间 最短为 目 标 函数 的混合整数规 划 模型 并  

,

,

采用 Ｌｉｎｇｏ 软件对模型进 行 了 求解 ．

Ｋ 等 ｉ ｍ

8 ］ ［

以 最大化堆 场集卡和 场桥 工作效率为 目 标建立 箱位分配模  

型 ,

并运用 约束满 足技术进行求解 ；

何军 良等

9

［

】

提

出

了

基于

整数规划

模型

和

爬

山

算法

的场桥

调度混

合策

略 , 

同 时考虑场桥调度和 堆存 空间分 配构建了 场桥动态调度模型． 周鹏 飞等 ＿ 弓 丨用 顺序统计量描述 集装 箱随机  

到达序列 ,

建立 同 时考虑 翻箱 数和 场桥大车移动距离 的两 阶段箱位分 配优化模型,

并设计 了 禁忌 搜索算法进  

行求解．

周 鹏飞 等

11

丨

丨

考虑 集装箱进 出 堆场时 间的 不确 定 性 ,

建立 出 口 箱位随 机双层规 划模型 ,

分别优 化预

期翻箱数和场桥作业 成本 并 开发 了 启发 式算法进行求解． ,

上述研 究大多 都将存取 箱作业任务设 定 为 已 知 条件 而港 口 实 际 作业 中是不可确 定 的 而 且 集港 过程  

,

,

；

中集装箱遵循按客 户分批到 达 同 客 一 户 的 集装箱属性基本一致 的规律 而非 现行研 究 中 的 “每两个集 装箱   , ,

作业 任务都有先后顺序之 分” 的前提条件 对于 同时优化场桥作业 问题和翻箱 问题 的研 究也 比 较缺乏 ． 本文   ；

基 于 集装箱码头作业 实务 中集装箱 到达 序列的 随机性 、

成批性 的特 点 ,

运用 马 尔可夫链来处理 出 口 箱 随机交  

箱序列 ’

建立 同 时考虑翻箱 问题和场 桥调度问 题的 场桥堆存作业优化 两阶 段模型,

并开发 了 相应的 静态与动

态优 化算法进行求解 ．  

1 场桥堆存作业问题描述与建模  

1 ． 1 问题 描述  

出 口 箱 的 集港过程大致可 以 分为 客 户预 约 港方 编制 堆存计划 以 及 入港堆存三个阶段． 客户 预约 时会 向 ,

港 口 提供集装箱的 数量 、

箱 型、

尺寸 、

挂靠港 口 以及预计集 港时间 等信息 ,

港 口 根据这些 信 息编制堆存计 划

以 确 定每个 集装箱的 具体堆存位置 ． 每位客户 会有若干 集装箱需要服务 这一组集装箱通常 会 同时到达港 口 ．   ,

按 照 同 一客户 的 集装箱尽量集 中 堆放 的原则 每 客 一 户 的集装箱可堆存 为若干找并余下若干零 散集装箱 这   , ,

些零散 的集 装箱造成 了 后续装船作业 时的 翻 箱． 鉴 于此 本 文将每个客户 的 集装箱分为两个集合 其一是不  

,

,

参与翻箱 的 集装箱集合 ,

记为集合 Ａｎ ,

这些集装箱可 以 构成若干完全 由 客户

ｎ 的 集装箱 构成的

整 找 ＂

”

,

所  

有 的 集合

组成一个集合 Ａ 其二是参与翻箱 的集装箱集合 记为集合 Ｂｎ 其数量应 小 于堆场 的额定 堆存  

,

,

；

高度

所有的 集合

Ｂ ｎ

组成一个集合

Ｂ
,

这 些集装箱构成了 若干

翻 箱找 “

”

．

,

□ 因 □ □ ＣＺ□ 図  

Ｘ Ｉ
円

 4

Ｉ

1

閃

3

1

1

ｎｎ

Ｘ  9

1

1

Ｉ

1

閃 ｎｎ

  1 1

1

Ｉ

閃  

贝 位 1 贝 位 2 贝 位 3 贝 位 4  贝 位 5 贝 位  6

图 1 街 区 示 意 图  

图 1 是街 区俯视 示意 图 其 中带有数字标 号的 栈是不参 与翻 箱的 栈, 找 内 集装箱都属 于 同 客 一 户 ． 例 如 ,

贝位

1

有三个

找 整 “

”

,

其 中 的 集装箱属 于 集合

山

和集合

Ａ5

图 中 没有标号 的 栈即 由 参与翻箱 的 集装箱组  

；

成 的 “翻 箱找”

其 中 的集装箱 属于 集合

Ｂ ．  

,

本文 旨在优化集合 Ｂ 的堆存方案 的基础上 求解集合 Ａ 与集合 Ｂ 的整体堆 存方案 进 而优 化场桥 的 移

,

,

动 路径． 模型分为 两个 阶段 第一阶 段针对集合 Ｂ 建 立以 最 小 化预翻箱数为 目 标 函数 的堆存优化模型 优化

,

,

“翻箱找” 内 的 箱位分配． 第二阶段针对集合 义 与集合 召 建立以 场桥作业移动距离最 小 为 目 标 函数 的 场桥  

堆存作业优化模型 以 栈为最 小 调度对象优化场桥作业路径． 本文 的研 究是 在基 于以 下前提：   ,

1 已 知 待分配 的街 区

)

；

2 所有待堆存集装箱箱 型相 同 如均为 2 0 英尺标准集装箱

)

,

；  

3 )

客 户 的集装箱 交箱时间 、

目 的港 、

重量等信息 巳 知 ；

同一客户 的 集装箱交箱 时间 、

目 的 港 、 重量相 同  

3 9 6  系 统 工 程 理 论 与 实 践第 3 5 卷  

否则视为不 同 客户

(

) ；

4
)

基于装船作业实务 ,

翻 箱数 量按 照 长途箱 压短途 箱 、

重箱压轻箱的 规则 进行加 权计算 ；  

5 场桥的 移动距离 以 贝 位为单位 计算 初始位置为 贝 位 1

)

,

；  

6 根据 每一个客 户 的集港堆存方 案 场桥 按照 贝 位顺次作业 ．

)

,

12 ．

第 阶 一 段模型  

辟说 2 1 ．

1 ．

明  

Ｉ ：

堆场堆職 的额 定高度

；

Ｎ ：

待进港客 户 总数

；

分 数 充 大 Ｍ ＾ 一 ：

？

的正

；

Ｕ－ ｎ．

客户

ｎ 的 待进港集装箱数量 ；

客户 参与翻箱的 集装 箱数量 也 Ｆｎ ：

ｎ

,

即 Ｆ Ｊ 

ｍ ｏｄ Ｉ ｊｉ ＝ Ｊ ｎ 


 ｊ

所有 客户 参与翻箱的 集装箱构成的 翻 箱栈 数 也 即 Ｅ Ｅ ｌ Ｔ ：

的总 ,

Ｔ ＝ ［

＾ Ｆ ＝ 1 

－
ｎ (

Ｆ ｄ ＋ ｉ 

ｎ ) ｍｏ

 Ｉ ／Ｉ  ］

1 ；  

客 进场顺序 Ｏｎ ：

户 ｎ的

；

‘ 客 户 ｎ 集 装箱的 目 的港 序号 ；  

ｗｎ ：

客户 ｎ 集 装箱 的 重量等级 ,

最大 重量等级为

Ｗ ；

客户 集 装箱的 堆存优先级 其 ？ ：

ｎ

,

中 Ｗ ＋ ｃ？  ＝

ｄｎ 

ｗ 
ｎ ］

位 于第 个翻 箱栈第 层的 箱位 ｏ ｓ ｌ

ｔｔ ｉ

：

ｔ

ｉ

．

(

,

)

决策变量有 ：

Ｓ ｎｔ ｉ ： 第 ｔ 个翻 箱栈第 ｉ 层是 否 被第 ｎ 个客 户的 集装箱 占 据 ,

1

Ｉ   Ｓ

ｎ

ｔ

＝ ＿ ｉ

,

0
＼  ,

ｎ ＝ 1
,

2
,

． ？

．
,

当 ｓｌｏ ｔ ｔ ｉ

(

,

)

其 他 ？  

Ｎ ｔ ＝  ｌ

；

,

－
2
,

被客户 ｎ 的集装箱 占 据 ；  

－
－ ＝ 1
,

2

,

？ ■ ？



 ,

Ｊ ． 

即 ：

堆放在 与 上 的集装 箱是 否有 翻箱 如果前者 的优先级 小于   Ｒ Ｕ ｚ ￣ ｔｉ

｛ ｓｎ

(

)

ｓ , 

ｎｔ

(

ｚ － ｉ

)

)＼

ｓ ｌ ｏｔ ｔ ｉ

(

,

)

ｏ ｚ ｓｌ

ｔ ｔ ｉ   —

(

,

)

,

后者 则产生 翻箱 即 ：

,

,

1

 当分配到 ,

,

ｎＤ  ｕ ／ ｚ ｔ ｉ －

｛ ｓｎ

(

)

,

 ｓ

ｎ ｚ ｔ ｉ ｉ ＾

)

＝
)

＜

 其他 0

集装箱权值 于分 配到 集装箱 的

小 ｃ？

Ｍ 上的 ｒｆ ｓ Ｚ ｃ

；

－

ｉ ：

(

)

；

ｆ ＝ 1

2

…

,

,

Ｔ
,

ｉ ＝ 2 ,

3 ,

－

■



■
,

 Ｉ － Ｚ ＝ ,

ｉ

－

ｌ ．

；

,

1 ． 2 ． 2 目 标函数 与约 束条 件  

标 函数 目

：

Ｔ  Ｉ

－
ｉ

1

ｉ＝ 2  ｚ ＝ ｌ

Ｓｎ 占 ｚ —

) (

ｎ ｔ ｉ ’ 

ｔ

(

ｉ

ｚ — )



)

(

工  )

条 件 约束

为 ：  

ＴＩ

＝

＾2 ＾ Ｆ   ｓ ｎ ｔ ｉ



ｎ

2,

ｎ ＝ ｌ

2

一

ｉＶ

,

,

,

2

(

 )

＝ ｔ

ｌ ｉ ＝ ｌ  

Ｎ  

＜  Ｓ ｎ ｔ ｉ

1 ,

尤 二1 ,

2

？

,

 ｒ 1 ． ？

,

ｉ 二 

；

,

2
,

．

ｎ ＝ ｌ

 Ｊ

3

(

 )

Ｎ Ｎ  

＜  ＾ ｎ ｔｉ 

ｔ ＝  1 2

,

,

 ｎ ＝ ｌ

ｎ ＝ ｌ

ｒ 2 ＝ 2

,

；

,

 3 ,

－

－

－
,

／

4 (

 )

Ｎ／ Ｎ ＼Ｎ  

Ｏ ＋  ＾ 。 ？ 叩  ｎ Ｓ ｎｔｉ 

ｆ 1  －

几

” ― ,

ｔ  1 2 ＝ 

,

？ ■ ？
,

    ｎ ＝ ｌ

＼

ｎ＝ ｌ

＾

ｎ ＝ ｌ  

、 Ｊ1

＝ 2

,

,

3

…

,

 ＂

ｉ

5

,

(

) 

Ｒ

ｚ ｔ

ｉ－

(

)

ｓ Ｓ (

ｎｔ ｉ , 

ｎ ｚ ｔ

ｉ－

(

)

‘  

 ＝ 「

Ｖ

)

 ｙ ｅｘｐ (

) 

其 中  

Ｖ ＿

   Ｎ

Ｎ Ｎ

ｙ

／

＂
＼  Ｉ

〉  ＾ ：

ｎ ｔｉ

ｅ ｘｐ (

〉 〉 Ｓ Ｃ ：

Ｓ＿

ｎ

ｎｉ

 ｚ ｉ —

(ｊ

＾

： Ｃｎ

ｎ ｔｉ

＿  1

   ｎ ＝ ｌ

＼ ｎ ＝ ｌ

ｉ ＝ｌ 7

 ‘  )

第 2 期Ｓ 墘 虔 , 等： 考 虑 了 交 箱 时 间 不确 定 性的 场 桥堆 存 作业 优 化 3 9  7

＾ ＝ 1 ,

2

 2  ＝ ■ ■
？

,

,

？ ？ ？

3  , 

,

／ ｚ ＝1

；

,

2

？  ？ ？

,

,

ｉ

—

 ｌ

6

(

 )

目 标 函数式

1

(

)

表示 最 小化 翻 箱次数 ；

约束

( 2 ) 保 证每一客 户 在翻 箱找 中 占 据的 箱 位等于 该客 户 参 与 翻  

箱的 总 数 ；

约束

⑶

表示 每一个箱位 只能 放 个 一 集 装箱 ；

约束

⑷

表示 每一 个 集 装箱都 不会悬 空 ；

约束

5

(

)

确  

保每一个集装 箱 的进 场顺序 后 于 其下面的 集装 箱；

式

6

(

)

含 是 处 的

义当

于 ｏ ｓ ｌ

ｔ (ｔ

ｉ )

的 集装 箱 的优 先级小 于 处

,

于

ｚ

的集装箱时

记为 次预翻 箱 一 ．

)

,

1 3 ． 第 二阶 段 模 型  

符 号说 3 1 ．

1 ．

明

根据 第一阶 段模型 的计算结果 可 以 得到 由 集 合 Ｂ 中 元 素构 成 的 Ｔ 个 “ 翻 箱找 ” 的堆存 方案 , 设 这 Ｔ   ,

个

“翻 箱找”

构成集合

Ｈ Ｈ  ,

ｔ

即 为其 中第 ｔ 个

“翻 箱找 ” ；

设所有客 户 构成的

整 栈 “

”

的 集 合为

足

集合 Ｚ ｎ  

表示 由 集合

中 元 素构 成 的若 干 整 栈 的 集 合．  

Ｋ ：

街 区 内 的 贝 位总 数

；  

／
？

每一 贝 堆操 的 找数

：

；

每个客 不参 与翻 箱的 整栈 数 也即 ＺＥ ｎ：

户

“

”

,

Ｅ Ｕ Ｆ ＝

ｎ

(

ｎ  －

－  
ｎ ) ／Ｉ

决策 变 量为 ：

第 第 是 被 据 ｈｔ ｊ ｋ ：

ｋ贝

ｊ栈 否

Ｈ ｔ

占

,

 ,

ｈ ｔ

ｊ

ｋ

＝

 ／

1
,

0

ｊ

,

被 当 Ａ： 贝 中 第 ｊ 栈

Ｈ ｔ

其 他 ．

＜ ＝

1
,

2 ,

？ ？

．

ｒ ,

ｊ  ＝

；



1 ,

？

？

．

2  Ｊ ｆ ｃ , 

 ,



二 1 ,

；

即 ：  
占据 ；  

2
,

？

．

？

Ｋ

 ,

．

第 第 栈是否 被 据 即 －
ｇｎ ｊ ｋ

ｋ贝

ｊ

Ｚ ｎ

占

,

：  

1

／

,

9 ｎ ｊ ｋ ＿

0
＼  ,

ｎ ＝ 1

2

…

,

,

,

被 据 当 ｆ ｃ 贝 中 第 ｊ 找

＆占 ；

其 他 ．

Ｎ ｊ ＝1

＼



,

2 Ｊ ｆ ｃ ？ ,

 ？ ？

,

 ；

＝  1 ,

2

？ ？
,

．


,

Ｋ ．  

第 是否 存在 集 装 箱 ｅ ｎ ｋ ：

ｋ贝

客 户 7ｉ 的

,

即 ：  

1

［

,

 6 ｎｋ 0 ,

当

第 贝 ｆ ｃ

存在客

户 ｎ 的集 装

箱 ,

其 他 ．  

ｎ ＝  1 2

,

,

 Ｖ 2 ． ？  ？

Ｔ ,

／ ｃ＝  1

；

,

 Ｋ ？ ？  ？

,

．
,

即 ＋ Ｅ Ｅ ＥＬ ＞ ｇ

ｎ ｊ

ｋ





ｆ＝ ｉ 

／ ｈ ＝ ｉ (

ｔ ｊｋ

ｉ

Ｓ 

ｎｔ ｉ

)

0 ；  

Ｅ ｎｋ ｐ ：

客 户 ｎ 在堆存 时第

ｋ 贝 与第 ｐ

贝 是否存在顺次移动距离 ,

即 ：  

＝
ｎｋ ｐ

1

ｆ

,

0

＼

,

ｎ＝ 1

2

…

,

,

,

当客户 ｎ 在 堆存时第 ｋ 贝 与 第 ｐ 贝 是 否存在顺 次移动距离 ,

其 他 ．

Ｎ  ／ｃ ＝ ；

1 ,

2 ｌ ｐ  ？ ？

 ？

—

,

；

＝  ／ｃ 

4－

ｌ
,

＾ ＋ ｉ 

2？

？



,

 Ｋ ？ ． ,

即

＋Ｅ ＾ ｅ

？ ｆｃ

ｅ ？ｉ ｐ

(

ｌ

＋ ｅ 1 

ｎｑ

＝ 1 )

；  

每一个客 户 集港 完 毕后 场 桥会停 留 在其最后工作 的 贝 位 ． 在开始下一次 集港作业之 前需要 移 动 到 其顺   ,

次作业的 初 始 贝 位 本 文将这 段 一 移 动 距离称作场桥 的切 换作业移动 距 离． 由 于 同 位 一 客 户 的若干 栈集 装箱 ,

的 待 堆存 位置可 能分 布在街区 内 的 不同 贝 位 因 此上一 次场 桥 最后工作 的 贝 位会 与 其 存在如 图 2 的 三种关   ,

系 ．  

ｓｅｒ ａ  

［ ］ □ □ 口口 口 匚 ］ 口口 口 口 口  

匚 匚

］ ］

ｏ Ｏ

ｏ Ｏ

口ｏ ｏ Ｏ Ｏ匚 ＝］

匚 匚

］ ］

ｏ ｏ 口 ｏ

口 ｔｚ□

匚 匚

ｇ ］

口   ｏ  

［ ］ 0 0 0 Ｏ Ｏ匚 ］ Ｏ Ｏ ｄ□ 匚 ］ ＥＩＩ3

曲  

情 况 1 情 况 2  情 况 3

图 2 三 种切 换作 业  

场

桥对于

包含

同

一

客

户

的

集装

箱栈是顺次

作业 ,

因 此需 要给 出 一个切换作业 移动 规则 来 指定 本次 堆存 任  

务的 起始 贝 位．

当 待作业 贝 位处 于场桥 的 同 一侧 时 ,

则 移 动 到 距离最近 的 贝 位 向 另 一端顺次堆存 当 待 作业   ；

贝 位分布在场桥工作结束位置 的 两侧时

移动

到

距离其分布端点

贝

位较近一侧

开始

向

另

一 侧顺

次堆存 ,

若距  

,

离相 同 则 随 机选择一段进行堆存 ． 可 以 证 明 此堆存路径为 场 桥局 部作业 移动 距 离最短路径．  

＇
0： ｎ

第 ｎ 个进场 的 客 户 编 号,

0＇

Ｏ

ｎ

＝


ｎ 7 1 , 

＝ 1 ,

2  ,

,

Ｎ ．

第 个进场 的 客 户 堆 存的 位 序号最大值 其值为 Ｍａｘ？ ：

ｎ

贝

,

ｍａｘ ｛ ｆｃ ｅ ( 0 ； ) ｆｃ ｝ ,

ｎ ＝  ｌ ,

2
,

－

－

－

Ｎ ．   ,

第 个进场的 客 户堆 存的 位序号最 小 值 其值为 Ｍ ｎ ｉ

？：

ｎ

贝

,

0 ｍ ｉｎ ｛ ｆ ｃ ｅ (

“ ) ｆｃ ｝ ,

ｎ＝ 1
,

2  ？ ？  ■

,

,

Ｎ ．

3 9 8 系 统 工 程 理 论 与 实 践第 3 5 卷  

第 ｎ 个 进场客 户 的 场桥作业结束所在 贝 位序号 为一＾递 推序列 其 中：

,

,

Ｓ Ｗ Ｍ ＼＝

ａｘ ： , 

Ｍ ｎ ｉ

ｎ,

当 Ｗ Ｍ Ｓ

＞  ｎ ｉ —



ａｘｎ

；

Ｍ ａｘ ｎ ,

当  Ｍ ＜ 

ｎ ｉ

ｎ ；

Ｍ ｎ ｉ

ｎ,

(

Ｍａｘ ｎ ,

ｎ＝ 2

3

…





’

’

Ｎ ．   ,

当  Ｍ Ｍ Ｗ － 

＞ ｉ ｎｎ 



ａｘｎ － Ｓ

ｎ ｉ ＿

；

当  Ｍ ＜ Ｍ Ｓ Ｗ — 

ｉｎｎ  

ａ

ｘ

—
ｎ



ｎ ｉ － ＼

Ｄ Ｓｎ ： 第 ｎ － 1 个进 场客 户 与 第 ｎ 个进 场客 户 的 场桥切 换作业移 动距离 为 一个递 推序列 其 中 ：  

,

,

Ｍ ＝

ｉｎ

1 ；  

‘

Ｗ Ｍ 当 ＾ Ｍ Ｓ

－

 ｎ ｉ ＿



ａｘ
ｎ,

Ｓ Ｗ

＞  丄 —



ａｘ ｎ

；

Ｄ  Ｍ Ｗ 当  Ｍ Ｓｎ ＾ Ｉ

Ｓ ｎ ｉ

ｎ － 

ｕ ｎ ＾

＾

ｎ ｉ
ｎ ；

ｎ＝ 2 3 ’ ,

 ＳＷ Ｍ Ｍ 5 Ｗ ｍｉ ｎ ｛

ｎ  ｉ －

 －

ｎ ｉ

ｎ ,

ｘ ａ

—
ｎ 

ｒ

｝ ｎ ｉ －

,

ｋ

…

Ｎ ．   ,

当 Ｍ ＜ Ｗ Ｍ 

ｉ ｎ ｎ Ｓ

＜ ｎ — ｉ



ａｘｎ ；  

13 2

．

．

目 标 函数 与约束条件  

标 数为 目 函

：  

尸2

＝ 



ｍｉｎ

 ｙ ＮＮ Ｋ  Ｋ 、  

［ 肌 ＋Ｊ   —

］ (

；

＾  ｐ  ｎ ＝ ｌ

ｎ＝ｌ ｋ＝ ｌ 

ｋ ＝

ｌ －

－

＼

(

7  )

束条件 约

为 ：

Ｊ  ＮＪ Ｔ  

〉 〉 ＋ 〉 〉 ＾   ：

： 9 ｎｊ ｋ

：

ｈ ： ｔ ｊ ｋ 

Ｊ



ｉ

： 1

2

…

ＪＣ

,

,

,

( 8 )

 ｊ ＝ ｌ ｎ ＝ ＼

ｊ ＝ ｌ  ｔ — 1

Ｋ Ｊ

ｙ ｙ ＺＥ  Ｖ ＾

＾ ｇ ＝ ｒｉｊ ｆｃ

ｎ,

ｎ ＝  1

2

…

ｉ

,

,

,

( 9 ) 

ｆｅ ＝ ｌ ｊ ＝ ｌ  

Ｋ Ｊ

—

ｆｃ

1  ｊ ＝ ｌ

卄  ｒ ： ｉ ,

2 ｒ ｔ ＝ ｉ ’

．

．

,

ｉｏ

(

 )

Ｎ Ｔ  

〉 〉 ＜  ： Ｑ ｎ ｊ ｋ

ｈ ： 

ｉ ｊ ｋ

1 ,

ｊ  ＝1 ,

 ｎ ＝ ｌ

ｔ ＝ ｌ  

2 ,

＊

 Ｊ ｋ －

＇

＾

 ］

＝ 1 ,

2  ？ ？  ■

,

,

Ｋ (

1

1  )

目 标 函数

7

(

)

表示最小化场桥移 动距离 ；

约束

8

(

)

表示每一 贝 集装箱堆放栈数 小于额定堆存栈数 ；

约束  

9

表示 每个客户 分布在 堆场 内 的

整栈 “

”

数量应等于该客 户 的

栈 整 “

”

总数

约束

10

表示 每一个 ＂ 翻箱  

(

)

；

(

)

栈＂ 只能 且必 须占 用 一＾找位 约 束

11

表示每个栈位 只 能存放 4

整 栈 ＂

”



或

“ 翻 箱桟” ．

；

(

)

2 算法设 计  

算法计对集装箱堆场作业流程分为两部分 ：

第 部 一 分是 在客户 集港之前制定初始堆存方案 ,

首先运用 马

尔可 夫 链对 广 义交箱 序 列 进行预测 ,

基于预测 序列运 用模拟退 火算 法求解翻箱量最小化 问题 以及场桥调度 问  

题 第二 部分是 当 客户 集港顺序 与预 测 序列 出 现偏 差时, 结合 客户 到 达信 息对 预测交箱序列 进行修 正 并 基  

；

,

于该序列给 出 实时调度阶段 的堆存策 略和 场桥 移动 路径 同 时对堆存方案 进行更新 作为下一客 户集港 的基  

,

,

础

算法流 程 如 图

所示 3

．  

,

2 ． 1 初始堆存方案算法

在集港期 限 内 客户 按照 已 提交的 预约 时 间集港 客户 的 集港序列 称为 交箱序列． 由 于在 实际集港过程  

,

,

中 部分 客户 无法在预约 时 间到 达港 口 导致港 口 无法确 定客户 的交箱 序列 ． 本 文称这 种带有不确定 因 素 的交   ,

箱 序列为广 义交箱序列 ． 交箱序列是港 口 编 制堆存计 划 的 基础’ 也是 降低翻 箱率 的 重要依据 本文采 用典型   ,

的 离散 随机过程 — 马 尔 可夫链

(

以 下简称马

氏链 )

对该序列 进行预测 ？  

在贼实际作业 中 ,

受客 户 的地理 位置 ,

区域 交 通条件 ’

企业管理水平等 内 外部条件 的影 响

总 会存在到

,

达顺序 稳 定

( 即 与其 预约集港 时间大 致吻 合)

的 客户 与到 达顺 序相 对混乱

即 与其预约 集港 时间 不相符

(

)

的

客户 ,

后者 即为预测 对象．

根据客户 集港 的历史数据 ,

可以 整理 出 混 乱客 户 的不 同到达 序列

组成 马 氏 链的 离  

,

散 合 状态集

Ｓ ．

第

2 期邵 乾虔 ,

等：

考虑 了交 箱 时 间不 确定 性的 场桥 堆 存作 业优 化 3 9 9

 Ｉ

预约信 息

 Ｖ

／

－



 7 

—

4

”   

 ＾

预 测 广义 交箱 序列

］

初 始ｉ  ｜
‘ 堆存 ＳＡ 求 解翻 箱堆 存方 ｉ  

！ Ｉ

方案
   阶段

Ｉ

,  ＋

1

ＳＡ 求 解场桥 移 动路

Ｉ  

径

Ｉ

！  

—

—

列是

否 —

￣

；   Ｉ

ｉ

Ｉ

   是

更新 预测 序 列

  否 丨

7

丨  

丨

丨

Ｉ

Ｉ

Ｉ

 实   Ｉ

Ｉ

Ｉ

Ｉ

Ｉ

 Ｉ

客 Ｉ

时

丨

Ｉ  

丨

 户 Ｉ＾

基 于 Ｌ Ｓ 的 堆, 存 调 度 ｜ 丨

丨

  Ｉ

｜

按 照堆 存方 案堆 存1

度  ＋ 1 

  ｜

Ｔ 阶  



更新 堆存方 案
丨

丨

｜  

 Ｉ 段

Ｉ



Ｉ  



￣
ｊ

 
 ｜  


胃

  

 ｆ

 1 Ｎ

集港 结束

Ｖ

／  



序 列  1 1

图 3 , 法 流程 图  
2  4 3  5  6  7 

序列2 1

3  2  4 5  6  7

序 列 3 1  4  3  2  5  6  7 

图 4 客户 到达 序 列示 意  

图

4

列举 了七位客户 的 三个不 同的 到达序 列．

显然 客户

2、

3

以及

4

的 到 达顺序 相 对混 乱 ,

因 此 选择这

个 行 作 链 个 散 客 进 预 而到 达顺序 则 为马 离 状态 三

户

测

,

2 4 3 －

－

、

3 2 4 －

－

、

4 3 2 －

－

氏 的三

－

Ｓ 以 及 Ｓ Ｓ  1 ,

2

ｚ ．

基于 选定 的 离 散状 态 将 历史 数据 中 各 序 列 互相转化 的 次 数进行统 计 计算 转移 概率

,

,

 Ｘ ＝ (

＋ ＝  

ｔ

1

Ｓ Ｘ Ｓ ｊ ＼

ｔ ＝

ｉ ),

可得 出 马 氏 链 的状 态转 移 概率 矩阵 ．

将上一次集港顺序作 为初始状 态

Ｘ ｔ

,

就可 以 根据状 态转 移  

概率 最大似 然值 ＆ 预测本次 集 港 广 交箱序 的

ｍａｘ

Ｘ ＋ Ｓ Ｘ Ｓ ＝
 (

ｔ

1 ＝ 

ｊｌ

ｔ＝ 

ｉ)

的客户 义

列 ．

基 于上述 预 测 序 列 针对第 一阶段模 型 的解 的结构 特点 设 计了 记忆模拟 退火算法求 解 ． 解编 码 为 Ｉ 行 Ｔ   ,

列 的 实数矩 阵

数值 由

客户 编号 与

“”
0

构 成 ． 矩 阵 中 的 列 一 对应一个 “ 翻 箱 栈 ”

从第 一 列 至 第 Ｔ 列 与 “ 翻 箱  

,

,

栈 ” 依 次对应 ．

列 内 每 行 一 的 数值为 其对应

翻 箱 栈 ？‘

”

中对应 位置 集 装箱的 客 户 编 号

空箱位用

代 替 “ ”

0

．  

,

产 生 新解 的方法 即 基于 当 前解构 造邻域 , 并从 中 选取 个 一 新解 来判 断是 否 接受 ． 本算法 的邻域构造方 法  

为 随机选取不 同 两列 中 编 号不 同 的数 值进行 交换． 新解 产生后 可能 生 成不 可行解 不 满 足 进场 顺序 需要在  

(

),

找 内 按照进场顺序重新堆存 ．

图5 ａ

(

)

所示 为 解编 码构造邻域 若此时客 户 进场顺序为 ,

交换后 第 列 3 2 4 －

1－

－

一

,

与 第三列 均 不 能满足 进场 顺序 ,

将 需要

＂” 1

置于

“”
4

下面 ,

产生 的 新解 为 图

5

ｂ ．

(

)

交换  

ＹＷｎ   ｒ 1

 ＞

0

＾  4  0  4  0  4 0

1  2  4  2 1  2  1  2

3 1  3  3 3  1  3  3

ａ

(

)

邻域 构造 过程 ( ｂ )

产 生的新解  

图 5 第一 阶段 模型 解 的 邻 域 构造  

4 0 0 系 统 工 程 理 论 与 实 践 第 3 5 卷

上述算法 的求 解结果 为 “ 翻 箱 找 ” 的 堆存方案 是第 二阶 段优化算法的 基础 ． 鉴 于 第二 阶段 解的 结构 特 ,

点 与 第一 阶段 比 较 类似 ． 亦采用 记忆模拟 退 火算法对其行求 解． 第二 阶段模型是 以 找 为最 小 调 度单位 因 而   ,

根据街 区 的俯视 图 设 计编 码 ． 编 码的 矩阵 表示 街 区 每一列 表示 个 一 贝 位 每 个 一 数值表示 一找集装箱 ． 若

,

,

该桟是 由 同 组 一 客 户 构 成 的

整 找 “

”

则 用 该客 户 的编 号作 为 代表 该找 的 数值

若该找 是 翻 “ 箱找 ” 则 根据该 ,

,

；

个 箱 排 其值 其 找 在 ｒ

翻 “ 找 ” 内 的 序 依 次 将

设定为

ｗ 

＋

1

中 ｔ ＝1

2

…？

ｒ ．

,

,

,

,

交 换  

￣

ｊ  1

1

2

ｌ

2 0  1  1 2  4  6  8  2 0

Ｉ 5 ｒ＼ Ａ  7  1

 7

1

9

1

5 1

4  7  4  1 9


士



   

        Ｉ Ｉ

4

 3

15

9

 1 1

11

17

3

15

 9

1  1

 5

1

3

3 1

6

1

 0

1

8

51

331

 6

1

 0

1 8

ａ 邻 域构 造过 程  ｂ 产生 的 新解  

(

)

(

)

图 6 第二 阶 段模 型解 的 邻域 构造  

如 图 6 所示 第二 阶段算 法的 邻 域构 造方法为 随 机 选取 不 同 两列 中 编 号不同 的 数值进行交 换 其实 质是

,

,

交换位 于 不同 贝 位且集装 箱 堆存结 构 不同 的 两找集 装 箱 ．

新 解产生后不会破坏模型约 束

可行解 均 为

．  

,

两个 阶 段的 算法参数设 置如 下：

结合不 同规模 的算例 实验以及

Ａ／

值的 大 小设计初始 温度 ；

结 束温度 设

为

1

度 ,

温度 下降 系数

ａ 根据 不同 规模问 题 来确定

由 于该 问题 涉及现实 规模较大

设 计 了 自 适应性 内 循环  

,

；

次数

Ｌ ａ ｔ ＝

／ － ( ｔ

ｂ
),

以 有效 减 小 不同 温度 下马 氏链收 敛步 长 ,

其中

ｔ 为 当 前温 度 ．

参数 《 与

6 的 值 根据规模

取值不 同 ．

2 ． 2 实 时 调度 算 法

在 入港堆存 阶段 当 客 户 的 集 港 序列 与 预测 序 列 发生 偏差 时 需 要进行 实 时堆存再调 度 以 减少预 测 偏差  

,

,

,

带 来的 翻箱数和 场 桥作业移动 距离 的 增加 ． 实 时调度 的 基础为 通 过 已 构 建的马 氏链并 基于 实 际 集 港 客 户 的信

息 对发 生 偏 差 的预 测 交箱 序 列 进行 修 正 ．  

对 于 客 户 总 数 为 Ｎ 的 集港过程 每个 客 户 的 交箱时刻 作 为 一个实 时调度 的 决策 时点 堆场 在 堆存过程  

,

,

中共需要做 出 Ｎ 次再调度 决策 将上述 由 马 氏 链预 测 的 交箱序 列 设 为 Ｑ 该序列 中 在第 ｎ 个到 达 港 口 的 客  

；

,

户 设为 Ｑ？

设实际交箱序列 为

Ｃ ,

第ｎ

个实际到达港 口 的客 户设为

Ｃ？ ｎ,

当

；

与 Ｑ ｎ 不一 致 时 在 马 氏 链 ,

的 离散状态 集 Ｓ 中 找 到 满足条 件的 交箱序 列 条件为 该序列 从 第 1 位 到 第 ｎ  － 1 位满足 序 列 Ｑ 且第 ｎ 位为   ,

Ｃ． ｎ

将符合条件 的 所有序 列组成 临 时备选状态 集

Ｓ、

并基于 初 始 状态

Ｘ ｔ

在 Ｓ＇

中 寻找 状态 转 移概 率为 最大

似然值 的序列 作 为更新 的 预测 交箱序 列 Ｐ Ｘ ＋ Ｘ 氏 ｍ ａｘ

＝
ｙ (

5 ＋ ｔ

1 ＝

ｊ ｜

＝ ｔ

)

Ｑ＇ ．  

客 户 不 匹配 ｑ  

实 际 交箱 序 列 预 测 交 箱序 列

—

 Ｃ

 1

2

  4

／   

丨

Ｉ  

＾ Ｈ ＝

ｉ

ｇ

 —

－

,

  

   Ｑ

  1

2

3

ｒ

5

 4

 6

 7

Ｉ

￣

＾＾ ？  ,  ｍ ｉ ｒ Ｔ

｜

ｎｒ ｉ ｉｉ

？ ｉ ｉ

ｉ

ｌ

ａｉ

Ｂ

ｆ



￣

   丨

1

 2  4

丨

丨

Ｉ

「 1

   3

6

 5  7

ｐ＝
？

0 ． 4

ｊ

1

    5 ｌ 2

1  2 4

ｉ

5 3 6 7

ｐ＝ Ｑ 2

￣

＇

        Ａ

1

ｌ

｜

｜

2 4

Ｉ

6

5

］

［

3
｜

7

Ｐ 

0 2  ｔ ｝

＝ ：



．

｜

分  匹 配 部 ｜
＿
＾

 混乱 客 户 

  

 Ｉ

Ｉ

图 7 预 測交 箱序 列 的 更新  

如图

7

所示为一个预测交箱序列 的更新过程 ,

图 中实际交箱序列与预测 序列不一致 ．

备 选状态集 中满足  

前 位排 序为 状 态 初 始状态 为 转 移概 率 最 大者 3

的 由 2 4 1 －

－

以 及 Ｓｕ Ｓ 2

Ｓ 3．

Ｘ ｔ,

以 及 中 Ｐ Ｐ

ｔ ｌ,

ｔ2

Ｐｔ 3

为 Ｐｔ ｌ , 

因 此序列

氏

作为 更新后的 预测 序 列

＇
Ｑ．

客 户预测 交箱序列 更新之 后即 成 为 制 定 本 次 集 港实 时 调 度和 更新

整 体堆存 方案 的基础 ．  

由

于集卡从

闸

口

到

达堆场的

时间

较短 ,

并且当客 户集 中集港时没有作业切换 间 歇．

因此 要求实 时 调度 算

第 2 期 邵乾 虔 ． 等 ： 考虑 了交 箱 时 间 不确 定 性 的 场 桥堆存 作业 优 化 4 0  1

法快速收 敛 ． 根据这 一 特性设 计 了 基 于 Ｌ ｏｃａｌ Ｓｅ ａｒｃｈ 思 想 的 局 部快速 收 敛 迭 代算法来 求 解实 时 调 度 方 案 并

更新整体堆存方案 ．

设 堆存方案 的集合 为

Ｐ Ｉ Ｐ Ｌ ,

为第

ｎ

个客 户集港之 前的 堆存方 案

Ｐｈ 即 为 初 始堆存方  

,

案 ；

设街区 在第

ｎ

个决策时点的堆存状 态为

Ｔ Ｔ Ｓ Ｓ ｎ  ,

Ｘ

即 表示未堆存集装箱的 空堆场．

该算 法 实 质是 基 于 Ｑ1

通 过改动

Ｐｌｎ

内 未堆 存的箱位进行搜索 局 部 最 优解 ,

进而在

ＳＴｎ

上堆存客 户

Ｃｎ

的 集装箱产生

ｓｒ ＋ ？

1,

并

给 更新 堆存方 出

的

案 Ｐ ＋ ｌ ｎ

ｌ －  

设 步 骤 如 下 ：

为 计算 某找翻 箱 数 的函 数．

Ｈ ｆ (

ｔ)

表示 栈 Ｈ ｔ

的 翻 箱数．

针 对集 合 Ｂ Ｃｎ

的 集装 箱堆存 ,

迭 代算 法  

按 每 装 数 Ｓ ｔｅｐ 1

调 整 照 ＇
Ｑ

内 Ｐ ｌ ｎ

一 找集

箱 的 堆垛顺序 设 定正 整

,

3
(,

？
；

Ｓ ｔｅｐ 2

若ａ

＝3

ｊ

,

算法结 束 ： 否 则 基于 方案 Ｐｌ ｎ 在集合 Ｈ

内 随机选取两个不 同的

翻 箱 找 “

”Ｆ

ｔｌ

和 Ｈ仏  

并分别在

Ｈ ｔｌ

和

Ｈ ｔ2

内 随机选取两个编 号不 同 的未集港客 户 的 集装箱进行交换形成

Ｈ＇ ｔｌ

和

Ｈ＇

2 ｔ

,

并根据

＇
Ｑ

调整该两栈

内

的

堆

存顺

序 ；  

计算翻 箱 量差 值 Ａ Ｈ 若 Ａ 则 接受 新解 并令 Ｓ ｔ ｅｐ 3 



／ ｆ Ｈ ＋ ｆ Ｈ ｆ  ＝ 

｛

＇

＇

－

ｔｌ )



｛

ｔ2 )

｛

ｔ ｌ)

－

Ｈ

ｆ｛

ｔ2 ) ,



＜ ／

0 ,

．

ａ 0   ＝ 

, 

否 则 保 留 原解 并令 执行 ,

＋ ａ ＝ａ

1 ,

ｔ ｅ Ｓ

ｐ 2 

；  

该算法 旨 在

ＳＴ ｎ

基础 上 堆存集 合

ＢＣ ｎ

中 的集 装箱 ,

同 时得 到方案

Ｐ ｌｎ

中集合 Ｈ

的 更新解

Ｈ＇ ．

常数 0

为 控制 算法 收 敛的 未 改善 迭代次 数 阈 值 其 含 义为 当 算 法连续迭 代 ／ 3 步之 后 目 标 函 数值没有 改善则 认为 收   ,

敛 到 局 部 最 优解．

7  7  7  5  7

      5

6

6

7

6

： ： ｔ：

3  6  6  5  7 6

        3

2

2

6

：

：： ： ： ？

 ：

：＝ ？ ：

；

［

2

2

6

3

；

1 1 1 3 5 3  1

1

 1

3

Ｈ
、

         Ｈ Ｈ 2 ,

Ｈ ｔ

Ｈ ｓ

Ｈ
6

Ｈ
＼

Ｈ ＼ Ｈ ［

Ｈ ＼

Ｈ
＼

Ｈ ［  

  □ 已 堆存集 装箱

■＊ 次待 堆存集装 箱

□ 未堆 存集装箱  

图 8 “ 翻箱 找” 调 度 前 后 堆存 情况 对 比 图  

图

8

所示为基 于图

7

中预测 序列 更新情况该算法计算前后的 堆场堆存方案 ,

左 图为 客户

客 Ｃ 3 (

户

4 )

集  

港之 前 “翻箱栈” 丑 的 堆存状态 ,

右 图 为算法收敛得 到 的堆存方案 ．

左图 中客户

4

的 集装 箱 堆放 在未 集港 客

户 的集装箱之 上 ,

不能 满足 堆存要求

不能悬空

(

)

？ 而右 图 中每一栈的 客 户顺序按 照更 新的 预测交 箱序列

 1
Ｑ

排序 ．

基于上述算 法结果,

将 Ｈ＇ 替换到 方案 Ｐｌｎ

中 产 生更新方案

Ｐ＇ ｌ ｎ,

作为 场 桥调度的 基础 ．

设 ｇ ⑷ 为 计算

某堆存方案 场桥 大车 移 动距 离 的 函 数 场桥实 时 调度 的迭代 算法步 骤描述如 下： ,

Ｓ ｔ ｅｐ 1 Ｓｔ ｅｐ 2

设 定 正 整 数 Ａ ａ 0  ,



＝ 

；  

若

ａ ＝ Ａ ,

算法结 束 ；

否 则 在方 案

Ｐ＇ ｌｎ

中 随机选取两 个贝 位

＆

和

并 分 别在 ＆ 和 Ｋ 2 内

随 机选取两个 尚未 堆存集装 箱 且编 号 不 同 的栈进行交换 ,

产生新堆存方案 ＇
ＰＩ ： ,

基于 计算方 案 与 方案 大车 移 动距 离差值 若 Ｓ ｔ ｅｐ 3

＇
Ｑ

ＰＣ

Ｐ 的 ＇ ｌ ｎ

Ａ ｆ Ｐ ｆ Ｐ ＝

5



(

＇

－

ｌ； ) 



(

＇ ｌ
ｎ) ,

＜ 0 则   ,

接受 新解 并令 否则 保 原解新解 并令 执行 ａ ＝ 0 , ,

留

,

＋ ａ ＝  ａ  1 ,

ｐ Ｓ ｔ ｅ

 2 ；

该算法也是 收敛 到局 部最优解 , 常 数 Ａ 为控制 算 法 收 敛 的未 改善迭 代次 数 阈 值． 图 9 是基于 图 7 以 及  

图

8

的 两个街 区俯 视图 ,

左图 为将图

8

中集合

Ｈ＇

替换入 原有整体堆存方 案 的 俯视堆 存状态 ,

右 图 为算法 收  

敛

得到

的

堆

存 ,

案＿视＞图Ｃ        ＞ ＾       3



．

      



6



Ｓ

ｇ ｇｇ ｊｊ

3
Ｉ



1

｜

ｆ



｜

Ｉ

7

 ［

6

Ｉ

5

1

1

Ｉ

Ｉ

Ｉ

1

｜

｜

1

ｊ

            Ｘ   1



2

1

［

 ｜

7

｜

5

｜

1

｜

2 ：

＾

｜

Ｉ

＾

7

Ｉ

｜

｜

—

｜

｜

｜

｜

Ｘ   ＾   Ｘ  ＞Ｃ      7

Ｉ

1



Ｉ

ｌ

ｇ  ：

ｌ

Ｉ

3

1

1

｜



6

3

［

1

Ｉ

1

1

｜

 5
｜

‘

Ｘ       Ｘ   Ｘ  

1

1

    ：
1

4
；

3

［

6
Ｉ

1





3





4

1

｜

｜

1

［

Ｉ

1

1

Ｉ

｜

1

1

｜

        Ｋ

Ｋ

Ｋ

Ｋ

Ｋ

,

2

,

,

5

Ｋ

 Ｋ,

Ｋ 3

Ｋ ｔ

Ｋ
；  

,

□ ？ 口 已 堆存

整 栈 “

”

本次待堆存 “ 整栈”

未 堆 存的

整 栈 ＂

＂  

区 因 己 堆 存

職 翻 “

＂

因 装

未堆存 的

“

箱 栈 翻

”  

图 9 整体 堆存 情 况调 度前 后对 比 图

至此 ,

客户

Ｃ ｎ

的集装箱堆存完毕 ,

堆场 堆存状 态

Ｓ Ｔｎ

更新 为

Ｔ Ｓ ＋ ｎ

ｌ ｌ

并得 到了更 新的堆存方 案

Ｐ ＋ ｌ ｎ

．
ｌ

4 0 2 系 统 工 程 理 论 与 实 践第 3 5 卷

3 数值 实验  

数值实 验共分 为 两部 分 ：

第一部分在 不同 航线规模下

借助 于 与 港 口 堆场实 际 调度规 则 进行对 比

以 验

,

,

证算法 的 实 用 性 ： 第 二部分 构造 了 基于 静态算 法的 两个 不 同 实 时堆 存策略 并分别 在不 同 交箱 序列 混 乱 程度 ,

下 与本 文算法进行对 比 模拟 实验 以 验证 动 态算 法的 有 效性 ．   , 3 ． 1 与 现实 调 度 规 则 的 对 比  

3 1 ．

．1

现 实 调度 规则 描述  

根据调研 ．

堆场实务操作 的 现行堆存调度规 则 为：

在 制定堆存方案阶段 ,

对于集装箱 枇量大的 客 户 ,

将

预 留 出 若干栈位堆放其集 装箱 对于集装 箱批量 小 的 客户 则尽 量安排 同 客 一 户 的集 装箱堆存在 同 一找或同

；

,

一 贝 位 内 相邻的 找 并将 挂靠港 口 相 同 或 相近 客 户 的 集 装 箱堆 存在同 一 贝 位或 相 邻 的 贝 位 ． 在实 时 调 度 阶段

,

,

堆 场 调度人员 会根据 实际 集港情况对堆 存方 案 进行调 整 , 尽 量将同 一 重量等级或 同 一 目 的 港的 集装箱堆存在

相 邻 位置 ．  

3 2 1 ．

．

结果比 较 与分析

航线 的 不 同 影 响 集装 箱 的 批量．

外 贸航线 的出

口 集装箱批量大 ,

客 户 数量少 ；

内 贸 航线的 出 口 集 装箱批  

量小

客户 数量相对较 多 ．

因此 ,

针对

客

户

数

量以

及

堆 场规

模的

不同

进行了

三组实

验 ,

如表

1

所 示 ．

,

表 1 数 值实 验参 数



  

规模 贝 位 客 户 数 量 额定 堆垛 高度 栈数／ 贝
￣

第 组 一

找   Ｍ 1 5  2 0  ± 5  5

8

第 组  二

 士  1 5

3 0 5

5

层 8

找  

第三 组 2 0  4 ± 0  5  5 层 8 栈  

针对上 述三组 航 线分 别 选取最近 5 周 的 实 际 到 达 序作 为 模拟 交箱 序 列 通过 与 实 际堆 存 调 度 规则 进行 ,

实验 比 较 算法运用 进 行算法编 写 在 ？ ？ 上运行 ．

Ｍ ａ ｔ ｌ ａ ｂ 7 0 ．

,

Ｃ Ｐ

 ( Ｉ ｎｔ ｅ ｌ

Ｐｅ ｎｔ ｉ ｕｍ

Ｔ Ｇ Ｈ ｐｒ ｏ ｃ ｅｓ ｓ ｏ ｒ 

4 2 0 0 ,  2 0 ．

ｚ
)

,

初 始方案 算法运 行时 间 在 1 至 3 分钟 不 等 实 时调 度算法 的 运 行时 间 均 在 Ｉ ｓ 内 完 成 ． 图 1 0 为 第一 组规模下 ,

初始 堆存方 案算 法收 敛 图 和 实 时 调度 算 法收 敛 图 ．

图 由

10 ａ

可见

计对初始 堆存方案 设计 的记忆模拟 退火

(

)

,

算法收敛效果 良 好 ,

收敛值

预 翻箱 数

(

)

为

1 9 相对于 由 初始 值 2 1 3 有 明 显改善 由 图

,

；

10 ｂ

(

)

可 以 看出 ,

本 文

设计的 动 态算法 呈 “ 阶梯 型 ” 收 敛 在较短 时 间 内 快速收 敛到 局部最优解 循环次数仅为 3 8 次 ．

,

(

)

2

5

0

— — － ￣



‘

,

ｒ

   

‘

1

1

1



4

 





 —  

0

■

．

．

．

,

■

,

＼  ■

ｊ

Ｔ ■ ＇ 。。

 ．

ｓ ：ｊ

＼ 、    50

Ｍ ｆ Ｖ

26

＼

1 

｜

 Ｖ 2 4

＼

0

  2     ：

 1

＇



‘   1

2    ｉ



 ｉ    

        0

1 0 00

2000

3 000

 4 0 0 0

5000

 6 0 0 0

7 00 0

8 0 00

9 00 0

0

5  1

0

 1

52

02

 5

3

0

3

 5

4  0

循环 次数 循环 次 数  

ａ 初 始堆 存方 案算 法 收敛 图  ｂ 实 时调 度算 法收 敛 图

(

)

(

)

图 1 0 算 法 收敛 图  

两种堆存策略 在三组不 同 规模 的航 线下 5 周 内 翻 箱量与 场桥作业 移 动距 离的结果平均 数如 表 2 所示 ．  

由 以 上实验结果可 以 看 出 ．

相对于集装箱堆场 的实 际堆存调度规则 ,

本文提 出 的堆 存优 化算法对 降 低 翻

箱 数效果显著． 场 桥作业移 动距离稍 逊 于现 实 堆存 调度规 则 这 是 由 于 现 实 堆存调度 规则 总体 上遵循 就 “ 近   ,

堆存” 的 原则 ． 在 实 际 作业 中 场 桥作业 移 动 距 离对 堆场 作业效率 的 影 响 要远 小于 翻 箱 作业 因 此在大 幅度

,

,

下降 翻 箱数量

有效提高装船效率 的条件 下

接 结果 可 受 以

．  

,

,

场 桥作业 移动 距离 与翻 箱数量对堆存作 业和 装 船作业效 率的 影 响 主 要体现 在 时间 上 ． 根据 实 际 操作经  

验 ,

场桥 移动一个 贝 位距离的 平均 时间 为

2

秒 ,

次 一 翻 箱 操作 耗 时 2

分钟 ,

将预翻 箱数量 与 场桥移 动距离

分 别 折算成时 间值并进行求和 ,

计 算结果 为表

3
,

可 见本文 提 出 的优化 算法相 比 于 现 行堆存调度规则 在 时间  

值上 降 低 3 0 ％ 至 5 0 ％ 优 化 效果 显 著 ．   ,

第 2 期邵 乾虔 等 ： 考虑 了 交箱 时 间 不 确 定性的 场桥堆存作 业 优化  4 0 3 ,

表 2 与现行规则的对 比 结果

表 3 与现行规则 的时 间值对比结果  





 體

优化解 现行规则 解优化百分 比 ％规模优化解现 行规则优化百  

预翻 场＿ 业 预翻 场桥作业 预 翻 场■业

时 间值 ㈤

值 解 时 间

ｓ

(

)

分 比 ％ (

)



￣  

箱数

移动 距离

箱数

移动 距离

箱数

 移 动距离

3 9 2 4 8 5 7 2 5 4 2



＾

     3 1

1 02

70

86

55 7

8 6 1 －

．

   4 8 7 8

879 4

4 4 ． 5

第 组      3 9

99

72

77

4 5．8

－
28．5 7

一

  4 4 8 2

864 4

4 8 ． 1

第 组  一

36

       8 1

71

62

4 9．3

3 0 6 － ．

5

4 24 6

75 78

4  4

      3 4

83

62

69

4 5．2

－
20．2 9

16 5 2

508 8

6 7 ． 5







￣  

        1 2

10 6

41

84

7 0． 7

－
26．1 9

62 84

1 1 6 24

45＾9



—

     5 0

14 2

95

11 2

4 7＾ 4

—2 6． 79

   5 3 2 2

1 08 94

5 1 ． 1

第 组      4 2

14 1

89

10 7

5 2．8

3 7 －

1．

8

二

  8 1 8 6

1 18 50

3 0 ．  9

第 组 二

        6 6

13 3

97

10 5

3 2．0

2 6 6 － ．

7

73 74

88 48

1 6 ． 7

        5 9

14 7

72

10 4

1 8． 1

4 －

1 ．3 5

48 30

1 07 58

5 5 ．  1

￣  

        3 8

13 5

88

99

5 6． 8

－
3

6 ．3 6

76 50

1 29 88

4Ｌ 1



—

     6 1

16 5

1 06

ｌ ｉｉ

42＾5

2 － 3 ． 1 3

   8 1 4 4

1 23 78

3 4 ．  2

   第 三组   6 5

17 2

 1 0 1

12 9

 3 5 ． 6

3 － 3 ． 3 3

97 90

 1 0 8 9 2

1 0 ． 1

第三组       7 9

155

89

  1 0 6

1 1 ．2

4 － 6．23

60 78

13 68 6

5 5 ． 6

        4 8

1 59

1 12

123

57． 1

－
2 9．27

692 2

1 3 0 74

4 7 ． 1

注 优化 分 现行 规 解 优化 解      5 5

16 1

10 7

11 7

48 －6

－
3 7－6 1

：

百 比＝

则

—

(

) ／  



一

注：

优化百分 比

＝ ( 现行规则 解 ＿

优化 解 )

／现 行规 则 解

％ ｘ ｌ 0 0

．

现行规 则解 ｘ ％ ｌ 0 0

．  

3 ． 2 实时调 度优 化策略对比  

3 2 ．

．

1

实时调度优化 策略  

策略 1 ： 不变 策略

即 根据初 始堆存方 案算法得 出 堆存 的方 案,

在

实

时调度

阶段 ,

如 果预测序列 出 现偏差 ,

仍然按 照原 方案

中 堆存栈位堆存 ． 策略 2 ： 贪婪 策略

即基于贪娶算 法思 想 的 启 发式算 法 分为 如下两个 阶段 ： ,

设客户

Ｃｎ

中第

ｒ

个参与翻 箱的 集装箱设 为

翻箱 找 私 Ｂ “

Ｃ  ｒ ｎ

；

”

在第

ｎ

个决策 时点 的状 态设为

Ｈ

ｎ ｔ

；

函  

⑷ 数 ｆ

计 算 箱 为

箱数 表 决 栈 数 一＾栈 的翻

Ｈ

,

ｆ(

ｔｎ )

示在第 ｎ 个 策 时点 开始时

Ｈ ｔ

的 预翻

量 Ｂ Ｈ ｆ  ’

(

Ｃｎ ｒ ,

ｔ ｎ )

表示在第

ｎ 个决策时点 将集装箱

ＢＣ ｎ ｒ

堆存在栈

Ｈ ｔ

内 之后该栈 的翻箱数 ．

令＊ ｒ



＝

0

,

此启 发式算法 的第一  

阶 段可 以 描述为 ：  

Ｓ ｔ ｅｐ 1 Ｓｔ ｅｐ 2

若 八 调度结束 否 令 执行 ｒ ＝

,

贝！ 1

＋ ｒ＝ ｒ

ｌ

,

ｐ Ｓ ｔ ｅ

2 

；  

,

依次判断

Ｈ ｔ

是否 有空 箱位 ,

若存在则计 算 Ｍ Ｂ Ｃ  ＝ｌ (

ｎｒ ,

Ｈ ｔｎ ) ,

并将集装箱

ＢＣ ｎ ｒ

放入

最 小

值所在的 找 若该栈 不唯一 则等概率选取其 中 一

,

,

执行 ｐ Ｓｔ ｅ

 1 ；

第一 阶段 的 启发式算法给 出 了集合 ＢＣ

内 的集装箱 的堆存策略 ,

此 时街 区 内 的 堆存状 态 由

ＳＴｎ

更新为

ｎ

ＳＴ“ , 基于 Ｓ Ｔ＾ 的第二 阶段启 发式算法调度 的是集合

栈 集装箱 内 的

＿

设集合

Ｚ Ｃｎ

中第

ｒ 找集装箱栈为

ＺＣ ｒ ｎ

；

设街区 内 第 ｋ

个贝 位为 ＢＡ ｋ ；

设 ｄ⑷

为 计算大车 移动距离 的  

函数 ,

Ｚ Ｂ Ａ ｄ (

Ｃｎ ｒ ,

ｋ)

表示在第 ｎ 个阶段将集装箱找 ＺＣｎｒ 堆存在 Ｂ Ａ ｋ

时龙 门 吊 从原位置 移动 到 贝 位 Ｂ Ａｋ

离 切换作 令 发式算 第 可 描 为 的 距

Ｂ 即为 ,

Ｚ ｄ
(

Ｃｎ ｉ ,

Ａ ｋ)

业距 离 Ｄ Ｓｎ ．

此 启 0 ＂
ｒ

＝

,

法 的 二 阶段 以 述 ：

若 调度结束 否 则 令 执行 Ｓｔ ｅｐ 1

Ｚ Ｅ ｒ ＝ 

ｎ,

,

＋ ｒ＝ ｒ 

1

Ｓ ｔ ｅｐ 2

,

；

Ｓ ｔ ｅ ｐ 2

依次判 断 Ｂ Ａ ｆｃ

是否有 空 栈位 ,

若存在 栈 位 计算 空 则

Ｚ Ｂ Ａ ｄ｛

Ｃｎ ｒ ,

ｋ ),

将 Ｚ。ｎ ｌ

放入 函数值最小 的

位 若该 位 唯 等概率 取其 个 执行 贝

Ｂ Ａ＇ 中

ｋ

,

贝 不 则 一 ,

选

中一

,

Ｓ ｐ ｔ ｅ

 1 ．

3 ． 2 ． 2 实验 设计  

为了 进一步检测本文算法 的动 态 优化效果 , 对广义交箱序列的 混乱程度按照 两个维度分类： 其一是根据  

序列中 混乱客户 的 数量划分混乱等级 , 诸如在第一组航线规模下 , 根据 混乱客户 数量的 不 同划分 了六个混乱

等级 ,

从一级 至六级分 别对应

6、

8、

10 、

1 2、

14 、

1 6 个混乱 客户 其二是根据序列 中混乱 客户 的 混 乱分散 程度   ；

( 即 混乱客 户在 序列 中 的分散 情况 ) 划分 混乱度 ． 图 1 1 列举 了两个交箱序列 , 序列一 中 的 6 个 混乱客 户为 在

序列 中分散在 两处 ,

则 称其混 乱度为

2

序列二 中 的 5 个混乱客户 集 中在序列 中的 一处 ,

则 称其混 乱度为

1 ．  

；

4 0 4 系 统 工 程 理 论 与 实 践 第 3 5 卷

序 列  1 

1

3

2

4

5

7

8

6

 9

1 0

序列

 2

1

2

4

3

6

7

5

8

 9

1 0

3 ． 2 3 ． 结果 分析  

图 1 1 混 乱序 列  

通过 第一组航线 规模下 交箱 序 列 的 不 同 混 乱等 级来 对 比 优化算法与 两种 调度策 略 的 效果 混 乱 度均 设定   ,

为 2 每个混 乱等 级重复 模拟 实 验 1 0 次 本文提 出 的优化 算法解 与上 述两种调度 策 略 的作业 时间 值平均 数 见

,

,

图

1 2 ．

1 2 0 0  0

0 00 0 

  



1



—  

8 0 0 0    

－  

时＾  

间 

60 00



一  

 值

－ －
＾

－
一 § 土 ＂  

―  

 4 0 0 0

＼ ｙ  

 2 0 0 0

－  

混乱等 级

－

策

 三 0

—

级 —

级

￣

Ｔ 1 ｍ ｍ 1 ［级

ｉ＾ｍ

   3 6 5 2

4 5 3 2 5 5 7 4 6 5 6 4

80 88

9 9 0 8

策 略 ？

     2

30 96

36 39

 4 3 5 7

5 25 4

62 96

73 65

—  

本 文算法  鼸  》 一

＂＂

    2 8 3 1

3 3 45

39 92

4 79 0

5 65 2

6

｜

Ｉ

图 1 2 不 同 混 乱等 级 下与 两种 调 度策略 的 对比  

从图

1 2 可 以 看 出 两种 具有 实 时 调度 的 堆存策 略 明 显优 于 静态 策 略 ．

策略

2 逊色于本文算法 ,

原 因 是其

启 发式算法 只 考虑 当 前客 户 的 较优调度 ． 并没 有 充分结合 交箱序 列 的更新信息 而 对全体客 户进行统筹 安排．

图 1 3 为 其 中 一次模拟 实验 三种 方案在 集港过 程 中 的 预 翻 箱数增 长情 况 , 由 于 三种 堆存 方案 的 初 始方案  

都 是基于 预测 交 箱序列 的, 因 此 在 集港客 户 数量 较少的 集 港前期 , 其表现 出 的优 化效果基本 一 致． 随着 集 港

客户 的增加,

在集港 中期策略

1

明 显显示 出 劣 势 ,

而策略

2

的优化效果 优于 本文算法 ,

这是 因 为 本文算法 的  

侧 重点 为 结合更 新预测 序 列 的 全 体客 户 堆存方 案最 优 该方案 并不 一定 符合 当 前最 优 ． 在集 港 后期 随 着 全  

,

,

体客 户 集 港 完 毕 , 逐渐显 示 出 本 文 算法优于 策 略 2 ．  

＇

ｒ 集 港 前 期  ！ ！！ ！

 9 0

－



ｊ

    ■港 中期

：

；



＿港后 期

ｒ

— Ｍ  

1

8
翻7

0



—



 

ｒ 」］ 

－

－

－

－

－

0

—

 「

ｒ  

   

｜

6 0 Ｈ

Ｉ

—



一

澉 1

＇

集 港 客 户 数 1  4   5 ｜

   ｌ  ｜

6 ｜

7

8

9

ｌ

ｏ

 2 1 1

1 1

1


｜

1

1 3 1

4 1

1

5 6 1





Ｉ

1

 1

7 1

1

18

19

  ｜

1  2 0

策 略  ？ － ■ － 1 

0026 81

  1

14

1

92

7 3

64

45

05

9 6

66 96

9 73 7

7 8

4  89

策略 2  0

0

2

6

8

Ｓ

 8

1

 3

1

 6

1

6

2

42

8 3

4

 42 

4

24

7

5

 1

5

 1

5

4

59

＿＿

＿＿

＿

＿

＿

＿

＿＿

＿＿

本文 算法 Ｑ

Ｑ  2  6 8  1 0  1 5  1 9  2 2  2 6  2 9  3 4  3 9  3 9  4 1  4 4  4 8  4 8  5 2  5  2

图 1 3 集港 过程 中 与 两 种调 度策 略 的 预 翻箱 数对 比  

基 于 第 一组航线 规模在混 乱等级为 六级的 条件 在混 乱 度从 1 至 6 度 级下分别 对三种算法进行 1 0 次 模 ,

拟 验 结果 实

见 图 1 4 ．

,

可 以 看 出 在 同 一混 乱等级下 随 着混 乱分 散程度 的增 加 本文算 法的解 有 明 显 改善 这是 由 于 混 乱 度 的 增  

,

,

加 致使每一处 混 乱客 户 的数 量减小 大大 减 小 了 马 氏链的 离 散状 态 集 从 而增 加 了 马 氏 链预测 的 准确 性． 由

,

,

于 策 略 1 缺乏 实 时 调度 策 略． 混 乱度 的增 加对 其解 改 善幅度 较 小 ． 策 略 2 在实 时 调度 阶段的 启 发式算法没有

结合预测 信息

当预测序列发生偏差 以后

启 发式算法会对原有方案 的 优化性能 起到

破 坏 “

”

作用

因 此 混 乱

,

,

,

度 的 增 加 对其 解几 乎 没 有 影 响 ．  

第

2

期 邵 乾虔 ,

等：

考 虑 了 交 箱 时 间 不确 定 性的 场 桥 堆 存作 业优 化  4 0  5

1 2 0 0  0

 1 0 0 0 0

令 蟑  

时  8 0 0 0





一 ―  

顯
Ｓ
4 0 0  0

一

—

「

？

…

…

－  

2 0 0  0

 0









  

混乱

 1 度 2 度 3 度 4 ＾

5 度 6 度



＿ ＠       ？  － ？

－

丨

998 7

9908

945 2

921 1

88 9 1

8 2 2 4

策 £       — 一 2

7 4 53

7 3 65

7 2 53

7125

73 4 1

7 2 0 9

本 文資法   ？ —

一

   7 2 7 7

6661

9 5

1

1

4 99 1

‘

 4 0 0 1

2 8 9  5

图 1 4 不 同 混 乱 度下 与两 种调 度 策略 的 对 比

4 结论与 展望  

本文结合集装 箱堆场操作的 实际情况 ,

结合历 史数 据构 建 广 义交 箱序列 ,

并基于 该序 列 建立 了 分别 以 预

翻 箱数最小 和 场桥 作业移 动 距离最 短为 目 标 函数 的 出 口 集装 箱场桥 堆存作业优化数学模 型 并 开发 了 模拟退 ,
火 算 法进行求 解 ． 针 对马 尔 可 夫 链 预 测 的 偏差 结 合 Ｌｏ ｃａｌＳｅ ａｒｃｈ 的 思 想 设 计了 基 于 更新预 测 序 列 的 实 时 调   ,

度算 法． 一系 列 的 数值实 验验证 了 基于 广义 交箱序 列 的 堆存模型 以 及 优化算法 的 实用 性 与有效性 为进 一步 ,

的深 入研 究 打下 了 基础 ．

进 一步的 研 究将 在以 下 三方面展 开：

其一为松弛

将每个客 户 的待 集港集装箱分为

整 栈 “

”

与

零 散箱 “

”  

,

分 别处理 的 前提条 件 其二 尝试建立场 桥作 业移 动 距离与 预翻 箱数量之 间 的 内 在联 系 其三是结合 装船信息

；

；

,

将场 桥 与岸 桥及集 卡等其他 资 源进 行集 成调度 优化 ．

参考 文献  

Ｋ Ｋ Ｙ Ｋ Ｋ Ｈ Ａ 1

［

］

ｉｍ



 ,

ｉｍ



 ． ｒ ｏ ｕ ｔｉ ｎ ｇ ａｌ ｇｏ ｒｉ ｔｈ ｍ  ｆｏ ｒ ａ ｓ ｉｎｇ ｌｅ ｔ ｒａ ｎ ｓｆｅ ｒ ｃ ｒａ ｎ ｅｔ ｏ ｌ ｏ ａｄ  ｅｘ ｐ ｏ ｒｔ ｃ ｏ ｎｔ ａ ｉｎ ｅ ｒ ｓｏ ｎ ｔ ｏ ａｃ ｏ ｎ ｔａ ｉｎ ｅ ｒ－  

ｈ Ｃ ＆ Ｅ  ｓ

ｐ Ｊ  ｉ ［

． ］

ｏ ｍ ｐ ｕ ｔｅ ｒｓ 

ｄ ｎ  ：

Ｉ

ｕ ｓ ｔｒ ｉａ ｌ

ｎ ｇｉ

ｎｅ

ｅｒ

ｇ ｉ ｎ ,



1

9

9 7 , 3

3

－

(3

4)

：

—

6 73

6 7 6 ．  

Ｋ Ｋ Ｈ Ｋ Ｋ Ｙ Ａ Ｔ 2

［

］

ｉｍ 


,

ｉ ｍ 

 ．

ｎ ｏ ｐ ｔｉ

ｍ

ａｌｒ ｏ ｕ ｔｉ

ｎ ｇ ａ ｌｇ ｏｒ ｉｔ

ｈ ｍ ｆｏ ｒａ  ｔ ｒａ ｎ ｓ ｆｅ ｒ ｃｒ ａｎ ｅ  ｉ

ｎ

ｐ

ｏｒ

ｔ

ｃｏ

ｎ

ｔａ

ｎ
ｉ

ｅ

ｒ ｔｅ ｒ ｍ

ｉ

ｎ ａｌｓ Ｊ

［

］

 ．

ａｎ ｒ

ｓ ？  

 ｐ ｏｒ ｔａ ｔ ｉｏ ｎ Ｓ ｃ ｉ ｅ ｎ ｃｅ  1 ,

99

9  , 3

3(

1 )

：

17

3 3 ．

Ｋ Ｋ Ｙ Ｋ Ｋ Ｈ 3

［

］

ｍ ｉ





,

ｍ ｉ



ｉ  Ｉ

 ．

ｅｕｒ

ｉｓ ｔ

ｉｃ ａ

ｌｇ ｏｒ

ｉ

ｔｈ ｍ ｆｏ

ｒ ｒ

ｏ

ｕ ｔｉ

ｎ ｇ

ｙａ ｒｄ －

ｓｉ

ｄ ｅ ｅ ｑ ｕ ｉ

ｐ ｍｅ

ｎｔ

ｆｏｒ  ｍｉ

ｎ ｉｍ

ｉ

ｚ ｉｎ ｇ ｌｏ ａ 

ｄ

ｉ

ｎ

ｇ

ｔ 

ｉｍ ｅｓ

ｉ

ｎ

ｃｏ ｎｔ

ａ ｉｎｅｒ

Ｎ Ｒ Ｌ  ｔ

ｅｒ

ｍ ｉ

ｎ

ａ

ｌｓ

Ｊ

 ．

［

］

ａｖ ａｌ

ｅｓ ｅａｒ ｃ ｈ 

ｏｇ

ｓ
ｉ

ｔ

ｉｃｓ

2 0

03

5 0

5

：

,

,

(

)

4 9 4 8 5 － 1

．

Ｎ Ａ Ｐ Ｕ Ａ 4

［

］

ａ ｒ ａｓ ｉｍ ｈ ａ ｎ

 ａ ｌｅ ｋ ａｒ   Ｓ  ．

ｎ

ａ ｌ

ｙｓ

ｉ

ｓ



ａｎ

ｄ



ａ ｌ

ｇｏ ｒ ｉ ｔ

ｈ ｍｓ ｆｏ ｒ ｔｈ ｅ ｔｒ ａｎｓ ｔ ａｉ

ｎ ｅｒ ｒｏ ｕ

ｔｉ

ｎ ｇｐ ｒ ｏ ｂｌｅ ｍ

ｉ

ｎ ｃ

ｏｎ ｔ

ａ ｉ

ｎ ｅｒ ｐ ｏ ｒｔ  

,

Ｔ  ｏ ｐ ｅｒ ａ ｔｉ

ｏｎ ｓ

Ｊ

［

］

 ．

ｒａ ｎｓ ｐ ｏ ｒｔ ａｔ ｉｏ ｎ Ｓ ｃ ｉｅ ｎ ｃ ｅ  , 2 0

0

2  , 3

6 (

1

：

)

－

63

7 8 ．  

Ｋ Ｋ Ｈ Ｐ Ｙ Ｍ Ａ Ｅ Ｏ 5

［

］

ｍ ｉ





,

ａ ｒ ｋ



 ．

ｄ  ｃ ｒａ

ｎ ｅｓ ｃｈ ｅｄｕｌ

ｉ

ｎ

ｇ

ｍ


ｅｔ

ｈｏ

ｐ 

ｆｏ

ｒ 

ｏ ｒ ｔｃ ｏ ｎ ｔａ ｉ ｎ ｅ ｒｔ ｅ ｒ ｍ ｉ ｎ ａ ｌｓ Ｊ  ．

［

］

ｕ ｒ ｏｐ

ｅ ａｎ Ｊｏ ｕ ｒ

ｎ

ａ ｌ



ｏ

ｆ



ｐ ｅ ｒａ ｔ ｉｏ ａ ｎ ｌ

Ｒ Ｅ ｅｓ ｅａｒ ｃ ｈ  Ｐ ａｒ ｔ ,

 , 2 0

04 ,

 1 5 6 ：

7 2 7 6 8 －

5

．

Ｎ Ｗ Ｃ Ｍ Ｋ Ｌ Ａ ｆ 6

 ［

］

ｇ



 ,

ａ ｒ ｋ



 ．

ｄ ｎ  ｅ

ｅｃ ｔ ｉｖ ｅ  ｈ ｅ ｕ ｒ ｉｓ ｔ ｉｃ ｆｏ ｒ ｓｃｈ ｅ ｄ ｕ ｌｉ ｎ ｇ ａ ｙ ａｒｄ  ｃ ｒ ａｎ ｅ ｔ ｏ ｈ ａ ｎ

ｏ ｂ ｈ ｄ ｄ ｙ ｅ ｌ ｊ

ｓ ｗ ｉｔ  ｉｆ ｆｅ ｒ ｅ ｎ ｔｒ ｅ ａ

ｍ ｅ Ｊ ｔｉ


ｓ ［

． ］

Ｅ Ｏ ｎ ｇｉ ｎ ｅ ｅ ｒ ｉ ｎｇ 

 ｐ ｔｉ ｍ ｉ ｚ ａｔ ｉ ｏｎ  , 2 0

05

 , 3 7

(

8： )

867

8 7 7 ．  

韩 晓 龙 集 装箱 港 龙 最 优 路径 题 上 海海 事大 学学 报 7

．

［

］

口 门 吊的

问

Ｊ ．

［

］

2 0 0 5 2 6

2

 3 9 4 －

1

：

．  

,

,

(

)

Ｈ Ｘ Ｒ  Ｍ ａｎ

ｉａ

ｏ ｌ

ｏｎｇ

．

ｏ

ｕ ｔｉ

ｎ ｇ ｐ ｒ

ｏ ｂ ｌｅｍ ｏ ｆｔ

ｒａ ｎ ｓ

ｆｅ ｒｃ ｒ ａｎ ｅ ａｔｃｏ ｎ ｔ

ａｉ

ｎｅｒ ｔ

ｅ ｒｍ

ｉ

ｎ ａｌ

ｓＪ

［

］

．

Ｊｏ ｕ ｒｎ ａｌ ｏ ｆＳ ｈ ａｎｇ ｈ ａ ｉ 

ａｒ ｉ ｔｉ ｍｅ  

Ｕ  ｎ ｉ ｖｅ

ｒｓ ｉｔｙ ,

2

00

5  , 2 6 (

2 )

：

3 9 4 －

1 ．  

Ｋ Ｋ Ｈ Ｌ ｆｙ Ｃ 8

［

］

ｉ ｍ



 ,

ｅ ｅ  ＪＳ ． Ｓ ａｔ ｉｓ

ｉｎ ｇ



ｃ ｏｎ ｓ

ｔｒ

ａ

ｉｎ

ｔ

ｓ

ｆｏ

ｒ

ｌｏ

ｃａ

ｔｉ

ｎｇ

ｅ ｘ ｐ ｏ

ｒ

ｔ ｃｏ

ｎｔ

ａｉ

ｎｅ ｒ

ｓ

ｉ ｎ ｐ

ｏ

ｒｔ

ｃｏ

ｎ

ｔａ

ｉｎｅ ｒ

 ｔｅｒ

ｍ ｉ

ｎａ

ｌｓ

［

ｎ ］ ／ ／Ｉ

ｔ ｅ ｒ？  

Ｃ Ｃ Ａ ｎ ａｔｉ ｏ ｎ ａｌ 

ｏｎｆｅｒ ｅ ｎ ｃｅｏ ｎ

ｏｍ ｐ ｕ ｔ ａｔ ｉｏ ｎ ａ ｌ Ｓ ｃ ｉｅ ｎ ｃ ｅ ａｎｄ Ｉ ｔｓ 

 ｐ ｐ ｌ ｉｃａ ｔ ｉｏｎ ｓ  2 0 0 6 ：

6 4 7 5

5 －

3 ．  

,

何军 宓 建 严伟 基 爬 算 法 集 装箱 堆 场场 桥调 度 海 海事 大学学 报 9

［

］

良 ,

为 ,

．

于山

的

Ｊ．

［

］

上

,

 2

00

7 2 ,

8(

4)

：

－

11

1 5 ．  

Ｈ Ｍ Ｗ Ｙ Ｗ Ｃ ｅ Ｊ ｕ

ｎ ｌｉ

ａｎ ｇ

 ,

ｉ

ａ ｎ ｅ ｉｊ ｉ

 ,

ａｎ

 ｅ ｉ．

ｏ ｎ ｔａ ｉｎ ｅ

ｒ 

ｙ

ａｒ

ｄ ｃ ｒ ａ ｎ ｅ

ｓｃ ｈ ｅ ｄ ｕ

ｌｉ

ｎ ｇ ｂａ ｓｅ ｄ ｏ ｎ ｈ ｉｌ

－ ｌ

ｃ ｌｉ

ｍｂｉ

ｎ ｇａ

ｌ ｇｏ ｒ

ｔ
ｉ

ｈｍ

Ｊ

［

］

．Ｊ

ｏ ｕ ｒｎ ａ ｌ

Ｍ Ｕ  ｏ ｆ Ｓ ｈ ａｎ ｇ ｈ ａ ｉ 

ａｒ ｉ ｔｉ ｍｅ 

ｙ ｎ ｉｖ ｅ ｒ ｓｉ ｔ  , 2 0

0 7 ,2 8

(4

： )

1 1 5 －

1

．  

鹏 方 波 基 随机交 箱 序 集 装箱 堆场 箱 箱位 优 选 沈 业大 学学 报 1 0

［

］

周

飞 ,

．

于

列的

出口

Ｊ ．

［

］

阳工

,

2 01 1 ,

 3

3(

6： )

6 7 8 6 8 －

5 ．  

Ｂ  Ｚ ｈ ｏｕＰ ｅ ｎ ｇ ｆｅｉ  Ｆａ ｎ ｇ 

ｏ ．

Ｓ ｌ ｏｔ ａｌ ｌｏ ｃ ａｔ ｉ ｏｎ  ｏｐ ｔ ｉｍ ｉｚ ａ ｔ ｉ ｏ ｎ ｆｏｒ ｅｘ ｐ ｏ ｒｔ ｃｏ ｎｔ ａ ｉｎ ｅ ｒ ｉｎ ｃｏ ｎ ｔａ ｉｎ ｅ ｒｓｔ ｏ ｒａ ｇｅ ｙ ａ ｒｄ ｂ ａｓｅ ｄｏｎ  

,

11

［

］

Ｕ Ｔ ｓｔ

ｏ ｃｈａｓ ｔ

ｉｃ  ｄ ｅ

ｌｉ

ｖｅ ｒ

ｙ ｓ

ｅｑｕｅｎｃｅ Ｊ

［

］

． Ｊｏ

ｕｒ

ｎ ａｌ

ｏ ｆ Ｓ ｈ ｅ ｎｙａ ｎ ｇ

ｎ ｉ ｖ ｅ ｒｓ ｙ ｉｔ  ｏｆ

ｅｃ ｈ ｎ ｏ ｌｏ ｇｙ ,  2

01

1 , 3

3(

6


：

6

7

)

8 6 8 5 － ．  

安 条 体 位 叽 周鹏 飞 李 丕 ,

． 不确定

件下 集装 箱堆场出 口 箱具 箱

优选

工业 工 程 2 0 1 3  1 6

1

 2 5 3 0 －
： ．  

,

,

(

)

Ｐ  Ｚｈ ｏｕ Ｐ ｅ ｎｇ ｆｅｉ ,  Ｌｉ 

ａ ｉ

ｎ ．

Ｓｌ

ｏｔ ａｌ

ｌｏ ｃａ ｔ

ｏ
ｉ

ｎ ｆｏｒ

ｅ ｘ ｐ ｏ ｒ

ｔｃ ｏ

ｎｔ

ａｎ ｉ

ｅ ｒｓ

ｉｎ ｃ ｏ

ｎｔ

ａ

ｉ ｎ ｅ ｒｙ ａ

ｒｄ  ｗｉ

ｔ

ｈ



ａｒ

ｒ ｉ

ｖａ ｌａ ｎ ｄ ｌ

ｅ ａｖ

ｉ

ｎ ｇｔ

ｉ

ｍ ｅ

Ｅ  ｕ ｎ ｃ ｅｒ ｔａ ｉｎｔ ｉｅ ｓ ｄ ｅ ｌｉ ｖｅ ｒｙ ｓ ｅｑ ｕ ｅ ｎ ｃ ｅ  ［ Ｊ］ ． Ｉ ｎ ｄ ｕ ｓ ｔｒ ｉ ａｌ 

ｎｇｉ ｎ ｅ ｅ ｒ ｉ ｎｇ Ｊ ｏ ｕ ｒｎａ ｌ ,  2

0

1 3 1 6

,

(

1

：

)

2 5 3 0 － ．  

