第 35 卷第 10 期 2018 年 10 月

计算机应用与软件 Computer Applications and Software

Vol. 35 No． 10 Oct． 2018

自动化集装箱码头动态堆场堆存策略研究
梁承姬 刘 浩 张 悦
（ 上海海事大学物流研究中心 上海 201306）

摘 要 堆场是自动化集装箱码头的重要组成部分，几乎所有的港口作业都与其密切关联，因此提高堆场作业 效率是港口工作的重点。根据自动化集装箱码头堆场的分布特征以及制定堆存计划的特点，将自动化集装箱码 头堆场箱区分为若干个子箱区，基于各子箱区容量的动态变化，提出自动化码头堆场空间动态分配模型，并使用 遗传算法来求解。结果表明，通过该方法可以保证堆场内同一时间段进出口箱的均衡分配，实现了各子箱区之间 以及箱区之间作业量的平衡。通过对该遗传算法和粒子群算法的求解结果进行比较分析，进一步验证了遗传算 法的高效性和优越性。

关键词 自动化码头 堆场 堆存策略 箱量平衡 遗传算法

中图分类号 TP399 U691． 3

文献标识码 A

DOI： 10． 3969 / j． issn． 1000-386x． 2018． 10． 001

ＲESEAＲCH ON DYNAMIC YAＲD STACKING STＲATEGIES OF AUTOMATED CONTAINEＲ TEＲMINAL
Liang Chengji Liu Hao Zhang Yue
（ Logistics Ｒesearch Center，Shanghai Maritime University，Shanghai 201306，China）

Abstract The yard is an important part of the automated container terminal． Almost all of the port operations are closely related to it． Therefore，improving the operating efficiency of the yard is the focus of the port work． The automatic container terminal yard blocks were divided into several sub-blocks according to the distribution characteristics of the automated container terminal yard and the characteristics of the stacking plan． Based on the dynamic change of capacity of each sub-block，we proposed a dynamic space allocation model of the automated container yard，which was solved by genetic algorithm． The results show that this method can ensure the balanced distribution of the import and export containers in the storage yard at the same time，and realize the balance of the workload between sub-blocks and the blocks． The efficiency and superiority of the genetic algorithm are further verified by comparing and analyzing the results of the genetic algorithm and particle swarm optimization．

Keywords Automated terminal Yard Stacking strategies Container workload balance GA

0引言
由于人工成本的快速增长和大型化船舶的发展， 码头的堆场面积却相对有限，越来越不能满足日益增 长的集装箱装卸的需求，这就需要提高堆场的堆存效 率，堆场的自动化就成为越来越多的学者开始研究的 重点领域。本文以 2017 年开始运营的上海洋山港四

期全自动化集装箱码头为研究背景，探索自动化集装 箱码头堆场堆存问题。
目前国内外对堆场堆存计划的研究大多数是针对 传统集装箱码头的。文献［1］将出口箱的堆存问题分 为两个阶段： 第一阶段是根据堆场不同箱区贝位的数 量来分派出口箱的位置； 第二阶段是确定每个箱区的 容量来决定出口箱的堆存位置。王璐玺［2］采取群智能 算法求解集装箱堆场中场桥的路径优划问题。文献

收稿日期： 2018 － 04 － 02。国家自然科学基金项目（ 71471110） ； 上海市科委创新项目（ 14170501500，16DZ1201402） ； 上海市重 点学科项目（ J50604） ； 陕西省社会科学基金项目（ 2015D060） 。梁承姬，教授，主研领域： 物流系统运作计划与优化，资源配置，分派 优化与模拟，港口布局优化与模拟，口岸物流流程模拟与重组，港口安全工程。刘浩，硕士生。张悦，硕士生。

2

计算机应用与软件

2018 年

［3］提出了堆场堆存中同时考虑空间分配和堆场起重 机调度的综合优化模型。文献［4］对堆场运营操作进 行了深 入 的 综 述，提 出 了 堆 场 作 业 分 类 方 案。李 坤 等［5］研究卸载集装箱堆场空间分配与车辆调度的集成 作业问题，通过将禁忌搜索算法的结果同 CPLEX 所求 得的最优解进行比较。魏航［6］构建了码头方补助金函 数与车辆方的成本函数，建立了取箱时间窗优化模型， 并设计了求解的遗传算法。邵乾虔［7］将场桥资源配置 与集卡预约系统进行集成优化，旨在提升堆场作业效 率的同时平衡码头作业分布。武慧荣等［8］以箱区作业 量均衡为目标对集装箱海铁联运港口混堆堆场的箱区 分配问题进行研究。文献［9］引入一种新的集装箱堆 放 / 储存创新手段，作为克服集装箱堆场空间不足的潜 在解决方案。文献［10］建立基于 0 － 1 混合整数规划 的堆场集装箱堆场多目标优化模型，提高其效率。文 献［11］研究一种集装箱堆场的配置，提出了集装箱堆 场详细模拟 系 统 的 方 法。 郑 红 星 等［12］ 考 虑 问 题 自 身 的特点并设计了基于任务排序的染色体结构，用融入 禁忌搜索的混合遗传算法进行求解。
对自动化集装箱码头堆场的研究还比较少。罗勋 杰等［13］对国外 典 型 自 动 化 集 装 箱 码 头 堆 场 在 平 面 布 置、设备选型和功能规划等方面分析的基础上，提出洋 山四期全自动化集装箱码头堆场布局新模式。魏晨 等［14］考虑双起重机时空同步约束条件，以最小化任务 完工时间为最优目标，构建双起重机混合调度整数规 划模型。梁承 姬 等［15］ 把 堆 存 计 划 作 为 一 个 具 有 时 间 和空间维度的网络优化问题来研究，提出一种基于网 络流的自动化集装箱码头堆场空间动态分配模型，并 采用禁忌搜索算法来求解。
自动化码头的箱区比传统码头的箱区大，一般一 个大箱区包含若干各个子箱区，每个箱区一般堆存大 约 6 000 个 TEU，而传统码头箱区一般只堆存了大约 2 000个 TEU，再加上考虑混堆等因素，如果箱区间的 箱量不平衡，势必会影响场桥的衔接调度的任务量的 不平衡，因此自动化码头的堆存策略对提高堆场整体 装卸效率起到关键的作用。本文基于效率较高的混堆 模式，全面考虑进出口箱的四种类型，提出混堆模式下 自动化集装箱码头堆场空间资源优化配置的方法。在 考虑箱区平衡的前提下，以最小化泊位和堆场的运输 距离为目标函数，构建整数规划数学模型，采用遗传算 法进行计算，并将求解后的结果和粒子群算法求得的 结果进行对比分析。结果表明，两者都能够求出最优 解，两者的最大误差不超过 5% ，但是采用遗传算法求

解的时间更短，具有更好的收敛性。自动化集装箱码 头堆场布局示意图如图 1 所示。
图 1 自动化集装箱码头堆场布局示意图
1 问题描述
堆场空间动态分配问题是指为随机进入堆场的进 口箱和出口箱分配相应的箱区位置。动态是指各时刻 各箱区的可用空间会随着集装箱装卸船作业和进出场 作业等持续变化。所以，堆场空间的动态分配问题是 一个复杂而且持续的过程。根据以往对堆场空间动态 分配的研究来看： 大多数以滚动计划法为主，在考虑堆 场分配计划时，不但要考虑当天的进出场箱，而且要考 虑未来几天甚至一周堆场内的进出箱数量。
在集装箱港口生产调度中，最重要的是作业路调 度，其次是集 卡 调 度 和 场 桥 调 度，后 两 个 由 第 一 个 引 发。这里的作业路是指港口为船开通的岸桥。本文根 据集装箱的作业状态，将集装箱大致分为 4 大类，如图 2 所示。其中，D 型箱和 G 型箱是本文研究的重点。 在本文中，D 型箱和 G 型箱的堆存方法都考虑了“作 业路”的影响，并且是阶段性连续制定，即前一时段提 前考虑好下一时段 D 型箱和 G 型箱的堆存计划。

第 10 期

梁承姬等： 自动化集装箱码头动态堆场堆存策略研究

3

图 2 集装箱分类
由于目前航运市场的慢慢回暖，船舶大型化越来 越普及，同时运输的集装箱数量也在不断增长，同样给 船舶服务的各作业路的集装箱任务量也在不断倍增， 所以在制定堆存策略时需要考虑尽量平衡集装箱在堆 场中的堆放位置，避免过于分散和集中。
自动化码头堆场箱区比较大，箱区海侧与陆侧的 距离很远，为了提高研究的准确性，需要继续划分为若 干个子箱区。本文的堆场堆存计划主要考虑多条作业 路多条船舶的集装箱任务分配，按照同一船舶的不同 作业路的集装箱分配到不同箱区的规则，并且让集装 箱分配的箱 区 保 持 均 衡，即“既 集 中 又 分 散 ”，这 样 可 以减少装卸集装箱的 AGV 过于拥挤，又避免太分散而 消耗成本。本文已知的输入数据包括各阶段各船舶装 卸作业路的任务量，各阶段各子箱区的可用容量和各 阶段离开各子箱区的进出口箱数量等。根据这些已知 数据来决策各阶段各船舶作业路的集装箱任务量，以 及分配到各子箱区的集装箱数量。
2 模型建立
针对上述问题，本文模型的建立实现了箱区和箱 区之间总作业量平衡优化，均衡分配各箱区中 4 种箱 型的任务量，目标是最小化各个集装箱在泊位与堆场 箱区之间运输距离，从而间接提高堆场装卸效率。

2． 1 模型假设

（ 1） 船舶进港预靠泊位和分配的作业路数已知。 （ 2） 决策期内计划时段 t 进出场的集装箱必须在 该时段内完成堆存任务。 （ 3） 船舶各时间段各作业路内要完成的进口箱组 数量和出口箱组数量已知。 （ 4） 所有进出口集装箱统一尺寸定为 20 英尺。

2． 2 模型参数定义

T 决策期为 1 天，每个决策期内所有的计划时段

数，每个计划时段用 t 表示，每 8 个小时作为一个计划

时段，则 T = 3（ t = 1，2，3） ；

B 堆场内要均衡的箱区总数；

S 决策期内进口箱所属的船舶数量；

V 决策期内出口箱所在的船舶数量；

P 作业路数，即岸桥数；

O 子箱区数量；

i 箱区编号，i = 1，2，…，B；

h 子箱区编号，h = 1，2，…，O；

r 作业路，r = 1，2，…，P；

Cih 箱区 i 中子箱区 h 的可用容量；

M 一个尽可能大的数；

G

E tk

计划时段 t 进场，时段 t + k 运走的 G 型箱任

务数量；

D

E tk

计划时段 t 卸船，时段 t + k 装船的 D 型箱任

务数量；

Gihtk 计划时段 t 卸到箱区 i 子箱区 h，t + k 时段

装船的出口箱任务数量，其中 k≥t，t = 1，2，3；

Dihtk 计划时段 t 内卸到箱区 i 子箱区 h，t + k 时

段运走的进口箱任务数量，其中 k≥t，t = 1，2，3；

Dihjt 计划时段 t 从船舶 j 卸载至箱区 i 子箱区 h

的进口箱任务箱量；

Gihlt 计划时段 t 进场至箱区 i 子箱区 h 船舶 l 的 出口箱任务箱量；
Lihjt 计划时段 t 内，箱区 i 子箱区 h 内所有的 L 型箱任务数量；
Pihjt 计划时段 t 内，箱区 i 子箱区 h 内所有的 P 型箱任务数量；
Gihj（ t － k） 决策期开始时已分配到箱区 i 子箱区 h 并在计划时段 t 被运走的出口箱任务数量；
Dihj（ t － k） 决策期开始时已分配在箱区 i 子箱区 h 并在计划时段 t 被装船的进口箱任务数量；
Wiht 计划时段 t 内，箱区 i 子箱区 h 的集装箱装 卸任务作业量；
Vihjt 计划时段 t 结束后，箱区 i 子箱区 h 内所有

4

计算机应用与软件

2018 年

箱型总数量； Mihjt 决策期开始前已卸载到箱区 i 子箱区 h 并
在计划时段 t 被运走的出口箱任务数量； Nihjt 决策期开始前已装载在箱区 i 子箱区 h 并
在计划时段 t 被装船的进口箱任务数量； Xij 船舶 j 预靠泊位与箱区 i 海侧的距离； Xihj 船舶 j 经箱区 i 海侧与箱区 i 子箱区 h 的
距离； Xil 船舶 l 预靠泊位与箱区 i 海侧的距离； Xihl 船舶 l 经箱区 i 海侧与箱区 i 子箱区 h 的
距离； Dihjrt 计划时段 t 从船舶 j 第 r 条作业路卸载到箱
区 i 子箱区 h 的进口箱任务数量，其中 t = 1，2，3； Gihltk 计划时段 t 进场至箱区 i 子箱区 h，计划时
段 k 装载到船舶 l 的出口箱任务数量，其中 t = 1，2，3； Ejrt 计划时段 t 出场，从船舶 j 第 r 条作业路的进
口箱最多堆存的箱区数量； Elt 计划时段 t 进场，船舶 l 的出口箱最多堆存的
箱区数量。

2． 3 决策变量

Dihjrtk 计划时段 t 从船舶 j 第 r 条作业路卸载至
箱区 i 子箱区 h，计划时段 k 被取走的进口箱数量； Gihltk 计划时段 t 进场至箱区 i 子箱区 h，计划时
段 k 装载到船舶 l 的出口箱数量； aihjrt 计划时段 t 从船舶 j 第 r 条作业路卸载至箱
区 i 子箱区 h，决策期外被取走的进口箱数量； bihlt 计划时段 t 进场至箱区 i 子箱区 h，决策期外
装载到船舶 l 的出口箱数量； S1ihjrt = 1，表示计划时段 t 从船舶 j 第 r 条作业路
卸载的进口箱堆存在箱区 i 子箱区 h 中，否则为 0； S2ihlt = 1，表示计划时段 t 从船舶 l 进场的出口箱
堆存在箱区 i 子箱区 h 中，否则为 0。

2． 4 模型构建

目标函数：

B

S

T

∑ ∑ ∑ Z = Min ｛ ［（ Xij + Xihj） · D ］ ihjt +

i=1 j=1

t =1

V

T

∑ ∑ ［（ Xil + Xihl ） · Gihlt ］｝

（ 1）

l =1

t =1

约束条件：

B

∑ GEtk = Gihtk h = 1，2，…，O； t = 1，2，3T； k = 0，1，2 （ 2） i =1

B

∑ DEtk =

Dihtk h = 1，2，…，Ο； t = 1，2，3； k = 0，1，2 （ 3）

i =1

T

∑ Dihjrt =

D + a ihjrtk

ihjrt

i，h，j，r，t

（ 4）

k=t

T

∑ Gihlt =

Gihltk + bihlt i，h，k，l，t

（ 5）

k=t

t －1

∑ Lihjt = Mihjt +

Gihj（ t － k）

k =0

i = 1，…，B；

t = 1，…，T； j = 1，…，S

（ 6）

t －1

∑ Pihjt = Nihjt +

Dihj（ t － k）

k =0

i = 1，…，B；

t = 1，…，T； j = 1，…，S

（ 7）

Vihj（ t + 1） = Vihjt + ［（ Gihjt + Dihjt ） － （ Pihjt + L ）ihjt ］ i = 1，…，B； t = 1，…，T； j = 1，…，S （ 8）

Vihjt ≤ηCih i = 1，2…B； h = 1，…，O；

t = 1，…，T； j = 1，…，S

（ 9）

S

V

∑ ∑ Wiht =

Dihjt +

Gihlt + Lihjt + Pihjt

j =1

l =1

i，h，t

（ 10）

Dihjrt ≤M·S1ihjrt i，h，j，r，t

（ 11）

B
∑ S1ihjrt ≤Ejrt i，h，j，r，t
i =1

（ 12）

Gihlt ≤M·S2ihlt i，h，l，t

（ 13）

B
∑ S2ihlt ≤Elt l，h，t
i =1

（ 14）

S1 ihjrt 、S2 ihlt 为 0，1 变量，Dihjrtk 、Gihltk 、aihjrt 、

bihlt 为非负整数

（ 15）

在模型中，式 （ 1 ） 是 目 标 函 数，由 两 部 分 之 和 组

成，第一部分是进口箱到堆存箱区海侧的距离和箱区

海侧到堆存箱区子箱区的距离之和，第二部分是出口

箱箱区海侧到泊位的距离和出口箱箱区海侧到子箱区

的距离之和。

约束式（ 2） 表示在 t 时段卸下的集装箱在 t + k 时

段被取走的 D 型箱的数量等于分派到各箱区的 D 型

箱的数量总和。约束式（ 3） 表示在 t 时段到堆场在 t +

k 时段被取走的 G 型箱的数量等于分派到各箱区 G 型

箱的数量总和。约束式（ 4） 表示在 t 期内分派到箱区 i

子箱区 h 第 r 条作业路卸载的 D 型箱的数量等于在 t

期内分派到同一箱区，在 T 期内被取走的第 r 条作业

路卸载的 D 型箱数量与计划期外取走的数量之和。

约束式（ 5） 表示在 t 时期到堆场分配到箱区 i 子箱区 h

的 G 型箱的箱量等于在 t 时期内分配到同一箱区，在

T 期内被取走的 G 型箱量与计划期外取走的箱量之

和。约束式（ 6） 表示在箱区 i 子箱区 h 在 t 时期装船

的 L 型箱量由两部分组成： （ 1） 在 t 时期开始时已经分

派好的出口箱； （ 2） 由在 t 期前已经到达的出口箱，在 t

期装载至船舶的 G 型箱转化而来的。约束式（ 7） 表示

在箱区 i 子箱区 h 中在 t 时期提走的 P 型箱数量由两

部分组成： （ 1） 在 t 时期开始时已经分派好的进口箱数

第 10 期

梁承姬等： 自动化集装箱码头动态堆场堆存策略研究

5

量； （ 2） 由在 t 时期前到达的进口箱数量，在 t 期卸载 至船舶的 D 型箱转化而来的。约束式（ 8） 表示箱区中 4 种类型总箱量的更新。约束式（ 9） 表示箱区中四种 箱型的总箱量不能超过其能容纳的最大容量。约束式 （ 10） 表示计算箱区 i 子箱区 h 在每个时间段内作业的 进口箱和出口箱数量。约束式（ 11） 是判断船舶 j 计划 时段 t 第 r 条作业路卸载的进口箱是否堆存在箱区 i 子箱区 h，若堆存则为 1，否则为 0。约束式（ 12） 表示 计划时段 t 船舶 j 第 r 条作业路卸载的进口箱所需箱 区总数不大于该时段堆场能给的最多箱区数。约束式 （ 13） 是判断计划时段 t 进场的船舶 l 的出口箱是否堆 存箱区 i 子箱区 h，若堆存则为 1，否则为 0。约束式 （ 14） 表示计划时段 t 进场的船舶 l 的出口箱所需的箱 区总数不大于该时段堆场能给的最多箱区数。约束式 （ 15） 是整数条件约束。

时段 t3

续表 1 作业路 r1 r2 r3

任务量 120 135 125

表 2 各子箱区容量变化

子箱区编号

C0

q1

q2

q3

Y1

120

35

60

50

Y2

100

30

55

45

Y3

130

65

65

55

Y4

110

60

60

65

Y5

120

65

65

60

注： qi表示 ti时段结束时离开各子箱区的集装箱数量

3 遗传算法求解

文中提出的堆存问题涉及船舶和作业路，其中作 业路在问题描述中有提到，把经过一台岸桥处理的装 卸集装箱称为一条作业路。在这里利用矩阵式编码的 方式表示自动化码头堆场堆存问题。假设有两艘船 舶，当前有 5 个（ Y1 ，Y2 ，Y3 ，Y4 ，Y5 ） 可用子箱区，用 3 条 （ r1 ，r2 ，r3 ） 作业路去进行装卸集装箱任务。各时段作 业路任务量和各子箱区容量变化分别如表 1 和表 2 所 示，染色体编码如表 3 所示。染色体中的每个基因表 示船舶在每一时段内经过每条作业路处理后的集装箱 堆存在各个子箱区的数量，每一行的基因之和表示各 艘船舶各时段内在各条作业路处理后的集装箱堆存到 堆场的数量总和。而各个子箱区堆存的集装箱数量不 能超过各时段内各个子箱区的最大可用容量。根据子 箱区数量对染色体进行编码，把分派给各个子箱区集 装箱数量进行适应度值计算，然后对计算后的适应度 值进行不断比较，最后取最大的适应度值为目标函数。

表 1 各时段作业路任务量

时段 t1 t2

作业路 r1 r2 r3 r1 r2 r3

任务量 158 117 122 126 154 149

表 3 染色体示例

时段 作业路 Y1

Y2

Y3

Y4

Y5

t0

C0

120 100 130 110

80

r1

25

30

38

35

30

r2

20

0

30

29

38

t1

r3

25

0

35

34

28

C1

95

100

92

72

89

r1

30

20

27

20

29

r2

25

35

37

31

26

t2

r3

35

25

32

28

29

C2

65

75

61

53

70

r1

20

15

19

35

31

r2

30

20

28

32

25

t3

r3

15

25

20

30

35

C3

50

60

49

21

39

注： C0 表示子箱区的初始可用容量，Ci 表示 ti 时段结束时子 箱区的可用容量

因为各条作业路可以处理任意一个装卸箱任务， 为了提高计算的有效性和最优值，交叉操作遵循单点 交叉原则，起 初 生 成 一 个 随 机 列，按 照 得 到 的 不 同 序 列，将序列中相邻编号的基因值进行两两交叉。变异 操作的方法是将染色体中第 i 行中任意两行的基因值 进行互相交换。
交叉操作的具体做法是： 选择 2 条父代染色体，随 机产生任意 1 个切点，交换切点位置的子箱区编号，得 到子代染色体。如图 3 所示。

6

计算机应用与软件

2018 年

其他列中的最小基因值全部加上差值。

4 算例分析

图 3 交叉操作示意图
因为染色体编码的特殊性，同时考虑到子箱区容 量的限制，交叉变异后的染色体必须进行修复，具体方 法如下：
（ 1） 判断各子箱区是否满足只堆放船舶的一条作 业路或不堆放船舶任一条作业路的集装箱这一条件， 若满足，则跳到（ 2） ； 若不满足，把船舶所有作业路 r 中 在该子箱区中除最大基因值以外的其他基因值随机分 派到其他的箱区。
（ 2） 将染色体中第 i 行的基因相加，若满足船舶 作业路在该时段装卸船的集装箱数量总和与基因值之 和的差值小于 0 这一条件，跳到（ 3） ； 若不满足条件， 跳到（ 4） 。
（ 3） 若将第 j 列加上差值后的基因之和仍然不大 于船舶作业路在该时段装卸的集装箱数量，那么该位 置的基因值再加上一次差值； 若还是不满足条件，令第 i 行中最下面的基因值那一列加上 0 到差值之间任 意值。
（ 4） 若第 j 列减去差值后的基因之和大于 0，那么 该基因值需要减去差值。若不符合条件，把第 i 行中 基因值最大的那一列基因值减去 0 到差值之间的任意 值，直到符合条件。
（ 5） 将染色体中各个子箱区各个时段堆存的集装 箱数量进行相加，如果集装箱数量之和大于该时段子 箱区的可用容量，跳到（ 6） ； 若不满足条件，结束修复。
（ 6） 若第 j 列大于子箱区可用容量，把该时段中 最大基因值所在列的基因值全部减去差值，并把该行

在进行模型求解时，将模型中的相关约束和目标 函数用遗传算法进行编码，求解得出结果。由于上海 洋山港四期全自动化集装箱码头还处于刚开始运营的 状态，各项数据还不是特别齐全，因此算例的数据主要 来自实际项目研究的结果。因为自动化集装箱堆场箱 区比较大，箱区海侧与箱区陆侧之间的距离很长，因此 需要划分若干个子箱区，分别考虑泊位到海侧的距离 和每个箱区海侧到子箱区的距离，数据规模为： 船舶数 量为 10 条船，装卸作业路数量为 36 条，其中 4 条船有 出口箱任务，箱区数量为 3，子箱区数量为 9。
具体的输入数据，船舶出口箱的作业信息如表 4 所示，船舶进口箱的作业信息如表 5 所示，初始计划阶 段各子箱区可用容量如表 6 所示，泊位与各箱区海侧 的距离如表 7 所示，各箱区海侧与子箱区的距离如表 8 所示。在一台装有 Window 7 的 64 位操作系统的个 人电脑进行处理。

表 4 船舶出口箱作业信息

船号 1 2 3 4

泊位 1 1 2 3

船名 SS HI GK HQ

出口箱量 151 148 115 103

船号 1 2 3 4 5 6 7 8 9 10

表 5 船舶进口箱作业信息

泊位 1

船名 SS

1

SJ

1

HI

2

DE

2

GK

2

WE

3

HQ

3

HT

3

ＲD

3

FT

进口箱量 1 205 1 143 872 1 222 1 087 1 245 1 252 1 088 1 109 1 273

表 6 初始计划阶段各子箱区可用容量 TEU 子箱区 Y11 Y12 Y13 Y21 Y22 Y23 Y31 Y32 Y33
容量 458 505 486 504 492 480 480 492 494 注： Yih 表示第 i 箱区中的第 h 个子箱区

第 10 期

梁承姬等： 自动化集装箱码头动态堆场堆存策略研究

7

表 7 泊位与各箱区海侧的距离

泊位

箱区

1

2

1

28

55

2

43

23

3

80

50

表 8 各箱区海侧与子箱区的距离

泊位

子箱区

1

2

1

10

10

2

25

25

3

40

40

m
3 82 56 24
m
3 10 25 40

4． 1 模型求解
具体的计算结果如表 9、表 10、图 4 和图 5 所示。
表 9 出口箱船分配结果

船号

停靠 泊位

进箱 总数

各时段进场箱量

t =1

t =2

t =3

1

1

151

54

35

62

2

1

148

46

49

53

3

2

115

36

42

37

4

3

103

35

39

29

表 10 各船舶在各时段分配到各子箱区的箱量

船号

时段 1 箱区编号 Y11 Y12 Y13 Y21 Y22 Y23 Y31 Y32 Y33

1

50 50 62 59 50 64 49 45 35

2

34 41 34 39 36 37 29 40 30

3

17 16 16 16 16 17 17 20 22

4

50 50 48 63 55 54 35 40 42

5

42 45 48 50 51 50 55 50 47

6

56 47 57 54 49 47 60 55 50

7

62 50 51 53 49 48 45 60 44

8

53 43 50 49 43 32 48 35 45

9

60 45 43 40 54 48 45 42 42

10 74 65 57 73 74 39 50 48 55

船号
1 2 3 4 5 6 7 8 9 10
船号
1 2 3 4 5 6 7 8 9 10

续表 10
时段 2 箱区编号 Y11 Y12 Y13 Y21 Y22 Y23 Y31 Y32 Y33 32 27 35 40 28 30 32 27 33 42 41 37 48 47 30 45 38 42 49 54 47 49 48 48 39 45 41 70 62 61 61 53 50 55 58 60 36 38 39 38 47 48 45 40 42 51 41 40 53 45 50 45 55 52 45 49 43 50 54 57 59 50 48 46 41 33 33 44 35 39 42 45 41 40 41 43 44 42 35 47 48 49 41 42 47 42 56 50 45 54
时段 3 箱区编号 Y11 Y12 Y13 Y21 Y22 Y23 Y31 Y32 Y33 50 54 45 56 50 42 48 54 58 57 47 49 50 47 46 45 52 60 34 36 34 33 33 35 25 35 30 26 30 28 32 32 21 25 32 29 31 30 24 32 26 27 33 35 38 41 33 34 32 43 33 37 45 40 34 41 34 37 35 39 35 43 37 35 35 33 37 35 42 32 40 43 31 34 32 31 40 35 33 35 38 33 28 36 30 37 34 35 39 40

图 4 各阶段的子箱区工作量分布图 图 5 GA 的收敛图

8

计算机应用与软件

2018 年

为了验证遗传算法的有效性，本文设计了 10 个案 例，船舶数量从 2 到 20 艘，箱区从 4 到 22 个，作业路 从 3 到 7 条的码头布局，分别使用 PSO 算法和遗传算 法计算不同的案例，并通过对不同规模数量的案例结 果进行比较，GA 和 PSO 的计算结果如表 11 所示。

表 11 不同案例的 PSO 和 GA 计算结果的比较

案 堆场信息

PSO

例

编 号

l×i×r

计算 时间 /s

目标 值/m

GA

平均 计算 时间 /s

平均目 标值 /m

GAP / %

1 2 × 4 × 3 3 83 546 3 82 346 1． 4

2 4 × 6 × 3 8 174 904 7 169 830 2． 9

3 6 × 8 × 3 23 243 850 21 234 936 3． 7

4 8 × 10 × 3 50 299 598 42 289 435 3． 4

5 10 × 12 × 3 80 348 756 69 339 846 2． 6

6 12 × 14 × 5 110 907 903 90 903 756 4． 5

7 14 × 16 × 5 150 1 367 894 110 1 365 876 1． 5

8 16 × 18 × 5 200 1 806 582 145 1 803 587 1． 7

9 18 × 20 × 7 280 3 041 560 210 3 039 790 0． 5

10 20 × 22 × 7 400 4 358 702 300 4 349 840 2． 0

4． 2 结果分析
从图 4 可以看出，在同个时间段内作业的进口箱 和出口箱能够均衡地分配到堆场的各子箱区中，各个 时间段内各个子箱区的作业量差距比较平缓，并且各 个箱区能够满足同一时间段内进口箱和出口箱的差值 最小，符合自动化集装箱码头堆场的“重进重出”。从 表 11 可以看出，通过 GA 和 PSO 对模型进行算例求 解，并且通过对不同规模数据的算例分析，采用 GA 和 PSO 对比的方法，两者求出的目标函数值非常接近，而 且随着数据规模的扩大，两者的目标函数值越来越接 近。然而 GA 的求解时间更短，具有更好的收敛性，更 快速地得到最优解，进一步验证了 GA 在较大数据规 模上有显着的效果。同时对相同规模案例计算结果的 对比，观察通过 GA 和 PSO 计算，两者平均有 3% 左右 的误差。研究表明，本文中提出的模型，通过遗传算法 的求解，可以满足较大作业量的自动化集装箱码头堆 场装卸要求，有效地改善堆场空间分配问题。

5结语

自动化码头堆场装卸调度问题越来越成为国内外 研究的热点问题，合理的堆存策略有利于提高码头的 装卸效率，节 约 码 头 的 日 常 作 业 资 源，提 高 码 头 竞 争 力。文中研究基于平衡各子箱区工作量的堆场堆存问 题，不仅考虑了相邻子箱区之间的工作量平衡，还考虑 了整个堆场箱区总的作业量。根据各子箱区容量的实

时变化来安排作业调度计划，并通过遗传算法来进行 算例求解。最后对实际案例进行比较分析，证明了本 文模型和算法的高效性和实用性。该模型可以显著提 高堆场资源的利用率，有效地为进出口集装箱分配堆 场空间，提高堆场工作效率，降低码头作业成本，对于 建设绿色智能高效的自动化港口具有重要意义。
参考文献
［1 ］ Chen L，Lu Z． The storage location assignment problem for outbound containers in a maritime terminal［J］． International Journal of Production Economics，2012，135（ 1） ： 73-80．
［2 ］ 王璐玺． 多种群混合蛙跳算法在集装箱堆场场桥路径规 划中的应用［D］． 大连： 大连海事大学，2017．
［3 ］ Tan C，He J，Wang Y． Storage yard management based on flexible yard template in container terminal［J］． Advanced Engineering Informatics，2017，34： 101-113．
［4 ］ Carlo H J，Vis I F A，Ｒoodbergen K J． Storage yard operations in container terminals： Liter-ature overview，trends and research directions［J］． European Journal of Operational Ｒesearch，2014，10（ 5） ： 412-430．
［5 ］ 李坤，唐立新，陈树发． 多集装箱堆场空间分配与车辆 调度集成问题的建模与优化［J］． 系统工程理论与实践， 2014，34（ 1） ： 115-121．
［6 ］ 魏航． 集装箱码头堆场取箱时间窗优化研究［J］． 管理科 学学报，2011，14（ 9） ： 21-36．
［7 ］ 邵乾虔． 集卡预约模式下集装箱堆场场桥配置与调度优 化［D］． 大连： 大连海事大学，2017．
［8 ］ 武慧荣，朱晓宁，邓红星． 集装箱海铁联运港口混堆堆 场箱区均衡分配模型［J］． 重庆交通大学学报（ 自然科学 版） ，2018，37（ 4） ： 109-115．
［9 ］ Ｒahman N S F A，Ismail A，Lun V Y H． Preliminary study on new container stacking / storage system due to space limitations in container yard［J］． Maritime business review， 2016，1（ 1） ： 21-39．
［10］ Wang B，Yang T． Multi-Objective Optimization Model of Export and Transit Containers Storage in a Transshipment Port Yard［J］． Applied Mechanics ＆ Materials，2012，220223： 272-278．
［11］ Chen C H，Trappey A C A，Peruzzini M． Simulation Study on the Automated Container Storage Yard Cranes System ［J］． IOS Press，2017，9（ 4） ： 693-700．
［12］ 郑红星，于凯． 基于混合遗传算法的混堆箱区内场桥调 度研究［J］． 交通运输系统工程与信息，2013，13 （ 5） ： 150-158．
［13］ 王施恩，何继红，林浩，等． 自动化集装箱码头堆场布置 新模式［J］． 水运工程，2016（ 9） ： 23-26．
［14］ 魏晨，胡志华，高超锋，等． 自动化集装箱码头堆场内双 起重机调度模型与算法［J］． 大连海事大学学报，2015， 41（ 4） ： 75-80．
［15］ 梁承姬，贾茹，盛扬． 基于网络流的自动化集装箱码头堆 场空 间 分 配［J］． 计 算 机 应 用 与 软 件，2018，35 （ 1 ） ： 77-84．

